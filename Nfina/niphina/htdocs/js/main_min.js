!function(t,e){for(var n in e)t[n]=e[n]}(window,function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="js",n(n.s=391)}([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"browser",function(){return browser}),__webpack_require__.d(__webpack_exports__,"merge_args",function(){return merge_args}),__webpack_require__.d(__webpack_exports__,"prevent_default_events",function(){return prevent_default_events}),__webpack_require__.d(__webpack_exports__,"update_contents",function(){return update_contents}),__webpack_require__.d(__webpack_exports__,"current_script",function(){return current_script}),__webpack_require__.d(__webpack_exports__,"execute_javascript_by_object",function(){return execute_javascript_by_object}),__webpack_require__.d(__webpack_exports__,"is_window_active",function(){return is_window_active}),__webpack_require__.d(__webpack_exports__,"has_class",function(){return has_class}),__webpack_require__.d(__webpack_exports__,"remove_class",function(){return remove_class}),__webpack_require__.d(__webpack_exports__,"add_class",function(){return add_class}),__webpack_require__.d(__webpack_exports__,"change_class",function(){return change_class}),__webpack_require__.d(__webpack_exports__,"add_event_handler",function(){return add_event_handler}),__webpack_require__.d(__webpack_exports__,"get_target",function(){return get_target}),__webpack_require__.d(__webpack_exports__,"get_button",function(){return get_button}),__webpack_require__.d(__webpack_exports__,"page_height",function(){return page_height}),__webpack_require__.d(__webpack_exports__,"page_width",function(){return page_width}),__webpack_require__.d(__webpack_exports__,"update_header_timer",function(){return update_header_timer}),__webpack_require__.d(__webpack_exports__,"update_header_info",function(){return update_header_info}),__webpack_require__.d(__webpack_exports__,"get_url_param",function(){return get_url_param}),__webpack_require__.d(__webpack_exports__,"makeuri",function(){return makeuri}),__webpack_require__.d(__webpack_exports__,"time",function(){return time}),__webpack_require__.d(__webpack_exports__,"reload_sidebar",function(){return reload_sidebar}),__webpack_require__.d(__webpack_exports__,"set_reload",function(){return set_reload}),__webpack_require__.d(__webpack_exports__,"schedule_reload",function(){return schedule_reload}),__webpack_require__.d(__webpack_exports__,"stop_reload_timer",function(){return stop_reload_timer}),__webpack_require__.d(__webpack_exports__,"set_reload_interval",function(){return set_reload_interval}),__webpack_require__.d(__webpack_exports__,"toggle_folding",function(){return toggle_folding}),__webpack_require__.d(__webpack_exports__,"mouse_position",function(){return mouse_position}),__webpack_require__.d(__webpack_exports__,"wheel_event_delta",function(){return wheel_event_delta}),__webpack_require__.d(__webpack_exports__,"count_context_button",function(){return count_context_button}),__webpack_require__.d(__webpack_exports__,"unhide_context_buttons",function(){return unhide_context_buttons}),__webpack_require__.d(__webpack_exports__,"set_tag_groups",function(){return set_tag_groups}),__webpack_require__.d(__webpack_exports__,"tag_update_value",function(){return tag_update_value});var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_slice__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_parse_float__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(125),core_js_modules_es_parse_float__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_parse_float__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(71),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(30),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(42),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(36),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_7__),ajax__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),selection__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(82),browser={agent:navigator.userAgent.toLowerCase(),is_opera:function(){return-1!=this.agent.indexOf("opera")},is_firefox:function(){return-1!=this.agent.indexOf("firefox")||-1!=this.agent.indexOf("namoroka")},is_ie_below_9:function(){return document.all&&!document.addEventListener}};function merge_args(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var n in e)t[n]=e[n];return t}function prevent_default_events(t){return t.preventDefault(),t.stopPropagation(),!1}function update_contents(t,e){var n=document.getElementById(t);n&&(n.innerHTML=e,execute_javascript_by_object(n))}var current_script=null;function execute_javascript_by_object(obj){for(var aScripts=obj.getElementsByTagName("script"),i=0;i<aScripts.length;i++)if(aScripts[i].src&&""!==aScripts[i].src){var oScr=document.createElement("script");oScr.src=aScripts[i].src,document.getElementsByTagName("HEAD")[0].appendChild(oScr)}else try{current_script=aScripts[i],eval(aScripts[i].text),current_script=null}catch(t){alert(aScripts[i].text+"\nError:"+t.message)}}function is_window_active(){return!has_class(document.body,"hidden")}function has_class(t,e){if(void 0===t.className)return!1;for(var n=t.className.split(" "),r=0;r<n.length;r++)if(n[r]==e)return!0;return!1}function remove_class(t,e){for(var n=t.className.split(" "),r=Array(),i=0;i<n.length;i++)n[i]!=e&&r.push(n[i]);t.className=r.join(" ")}function add_class(t,e){has_class(t,e)||(t.className+=" "+e)}function change_class(t,e,n){remove_class(t,e),add_class(t,n)}function add_event_handler(t,e,n){(n=void 0===n?window:n).addEventListener(t,e,!1)}function get_target(t){return t.target?t.target:t.srcElement}function get_button(t){return null==t.which?t.button<2?"LEFT":4==t.button?"MIDDLE":"RIGHT":t.which<2?"LEFT":2==t.which?"MIDDLE":"RIGHT"}function page_height(){return null!==window.innerHeight&&void 0!==window.innerHeight&&0!==window.innerHeight?window.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:null!==document.body?document.body.clientHeight:null}function page_width(){return null!==window.innerWidth&&void 0!==window.innerWidth&&0!==window.innerWidth?window.innerWidth:document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:null!==document.body?document.body.clientWidth:null}function update_header_timer(){var t=document.getElementById("headertime");if(t){var e=new Date,n=e.getHours();n<10&&(n="0"+n);var r=e.getMinutes();r<10&&(r="0"+r),t.innerHTML=n+":"+r;var i=document.getElementById("headerdate");if(i){var o=("0"+e.getDate()).slice(-2),a=("0"+(e.getMonth()+1)).slice(-2),s=e.getFullYear(),u=i.getAttribute("format");i.innerHTML=u.replace(/yyyy/,s).replace(/mm/,a).replace(/dd/,o)}}}function update_header_info(t){var e=document.getElementById("headinfo");e&&(e.innerHTML=t)}function get_url_param(t,e){t=t.replace("[","\\[").replace("]","\\]"),e=void 0===e?window.location:e;var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===n?"":n[1]}function makeuri(t,e){var n=(e=void 0===e?window.location.href:e).split("?"),r=n[0];n=n.length>1?(n=n[1].split("#"))[0].split("&"):[];for(var i=[],o=null,a=0;a<n.length;a++)"_"==(o=n[a].split("="))[0][0]&&"_username"!=o[0]&&"_secret"!=o[0]||t.hasOwnProperty(o[0])||i.push(n[a]);for(var s in t)i.push(encodeURIComponent(s)+"="+encodeURIComponent(t[s]));return r+"?"+i.join("&")}function time(){return(new Date).getTime()/1e3}var g_sidebar_reload_timer=null;function reload_sidebar(){if(parent&&parent.frames[0]){var t,e,n="",r=!1,i=parent.frames[0].document.getElementById("mk_side_search_field");if(i&&(n=i.value,r=parent.frames[0].document.activeElement==i),parent.frames[0].document.reloading=1,parent.frames[0].document.location.reload(),i)g_sidebar_reload_timer=setInterval((t=n,e=r,function(){if(!parent.frames[0].document.reloading&&"complete"===parent.frames[0].document.readyState){var n=parent.frames[0].document.getElementById("mk_side_search_field");n&&(n.value=t,e&&(n.focus(),void 0!==n.setSelectionRange&&n.setSelectionRange(t.length,t.length))),clearInterval(g_sidebar_reload_timer),g_sidebar_reload_timer=null}}),50),i=null}}var g_reload_timer=null,g_reload_interval=0,g_reload_error=!1;function set_reload(t,e){stop_reload_timer(),set_reload_interval(t),0!==t&&schedule_reload(e)}function schedule_reload(t,e){void 0===t&&(t=""),void 0===e&&(e=1e3*parseFloat(g_reload_interval)),stop_reload_timer(),g_reload_timer=setTimeout(function(){do_reload(t)},e)}function stop_reload_timer(){g_reload_timer&&(clearTimeout(g_reload_timer),g_reload_timer=null)}function do_reload(t){if(is_window_active())if(document.getElementById("data_container")&&""===t){var e,n=get_url_param("display_options"),r=["h","t","b","f","c","o","d","e","r","u"];for(e=0;e<r.length;e++)n.indexOf(r[e].toUpperCase())>-1?n=n.replace(r[e].toUpperCase(),r[e]):n+=r[e];for(r=["w"],e=0;e<r.length;e++)-1==n.indexOf(r[e].toUpperCase())&&(n+=r[e]);var i={_display_options:n},o=get_url_param("display_options");""!==o&&(i.display_options=o),i._do_actions=get_url_param("_do_actions"),-1!=window.location.href.indexOf("dashboard_dashlet.py")&&(i._reload="1"),selection__WEBPACK_IMPORTED_MODULE_9__.is_selection_enabled()&&(i.selection=selection__WEBPACK_IMPORTED_MODULE_9__.get_selection_id()),ajax__WEBPACK_IMPORTED_MODULE_8__.call_ajax(makeuri(i),{response_handler:handle_content_reload,error_handler:handle_content_reload_error,method:"GET"})}else""===t?window.location.reload(!1):window.location.href=t;else setTimeout(function(){do_reload(t)},250)}function handle_content_reload(t,e){g_reload_error=!1;var n=document.getElementById("data_container");n.innerHTML=e,execute_javascript_by_object(n),update_header_timer(),schedule_reload()}function handle_content_reload_error(t,e){if(!g_reload_error){var n=document.getElementById("data_container");n.innerHTML="<div class=error>Update failed ("+e+"). The shown data might be outdated</div>"+n.innerHTML,g_reload_error=!0}schedule_reload()}function set_reload_interval(t){update_foot_refresh(t),0!==t&&(g_reload_interval=t)}function update_foot_refresh(t){var e=document.getElementById("foot_refresh"),n=document.getElementById("foot_refresh_time");e&&(0==t?e.style.display="none":(e.style.display="inline-block",n&&(n.innerHTML=t)))}function toggle_folding(t,e){e?change_class(t,"closed","open"):change_class(t,"open","closed")}function mouse_position(t){return{x:t.clientX,y:t.clientY}}function wheel_event_delta(t){return t.deltaY?t.deltaY:t.detail?-120*t.detail:t.wheelDelta}function count_context_button(t){return ajax__WEBPACK_IMPORTED_MODULE_8__.call_ajax("count_context_button.py?id="+t.parentNode.id,{sync:!0}).responseText}function unhide_context_buttons(t){for(var e=t.parentNode.parentNode.children,n=0;n<e.length;n++){var r=e[n];"DIV"!=r.tagName||has_class(r,"togglebutton")||(r.style.display="")}t.parentNode.style.display="none"}var g_tag_groups={host:{},service:{}};function set_tag_groups(t,e){g_tag_groups[t]=e}function tag_update_value(t,e,n){var r=document.getElementById(e+"_val");if(r.options.length=0,""!==n)for(var i=null,o=0,a=g_tag_groups[t][n].length;o<a;o++)(i=document.createElement("option")).value=g_tag_groups[t][n][o][0],i.text=g_tag_groups[t][n][o][1],r.appendChild(i)}},function(t,e,n){var r=n(4),i=n(38).f,o=n(19),a=n(23),s=n(95),u=n(112),c=n(84);t.exports=function(t,e){var n,l,f,d,_,h=t.target,p=t.global,g=t.stat;if(n=p?r:g?r[h]||s(h,{}):(r[h]||{}).prototype)for(l in e){if(d=e[l],f=t.noTargetGet?(_=i(n,l))&&_.value:n[l],!c(p?l:h+(g?".":"#")+l,t.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(t.sham||f&&f.sham)&&o(d,"sham",!0),a(n,l,d,t)}}},function(t,e,n){"use strict";n.r(e),n.d(e,"get_url",function(){return i}),n.d(e,"post_url",function(){return o}),n.d(e,"call_ajax",function(){return a});n(21);var r=n(0);function i(t,e,n,r,i){var o={response_handler:e};void 0!==n&&(o.handler_data=n),void 0!==r&&(o.error_handler=r),void 0!==i&&(o.add_ajax_id=i),a(t,o)}function o(t,e,n,r,i){var o={method:"POST",post_data:e};void 0!==n&&(o.response_handler=n),void 0!==r&&(o.handler_data=r),void 0!==i&&(o.error_handler=i),a(t,o)}function a(t,e){var n=Object(r.merge_args)({add_ajax_id:!0,plain_error:!1,response_handler:null,error_handler:null,handler_data:null,method:"GET",post_data:null,sync:!1},e),i=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");if(!i)return null;n.add_ajax_id&&(t+=-1!==t.indexOf("?")?"&":"?",t+="_ajaxid="+Math.floor(Date.parse(new Date)/1e3)),n.plain_error&&(t+=-1!==t.indexOf("?")?"&":"?",t+="_plain_error=1");try{i.open(n.method,t,!n.sync)}catch(t){if(n.error_handler)return n.error_handler(n.handler_data,null,t),null;throw t}return"POST"==n.method&&i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.sync||(i.onreadystatechange=function(){i&&4==i.readyState&&(200==i.status?n.response_handler&&n.response_handler(n.handler_data,i.responseText):401==i.status?top?top.location.reload():document.location.reload():n.error_handler&&n.error_handler(n.handler_data,i.status,i.statusText))}),i.send(n.post_data),i}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){(function(e){var n="object",r=function(t){return t&&t.Math==Math&&t};t.exports=r(typeof globalThis==n&&globalThis)||r(typeof window==n&&window)||r(typeof self==n&&self)||r(typeof e==n&&e)||Function("return this")()}).call(this,n(152))},function(t,e,n){"use strict";var r=n(1),i=n(33).map;r({target:"Array",proto:!0,forced:!n(87)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),i=n(9),o=n(63),a=n(56),s=n(14),u=n(27),c=n(70),l=n(87),f=n(7)("species"),d=[].slice,_=Math.max;r({target:"Array",proto:!0,forced:!l("slice")},{slice:function(t,e){var n,r,l,h=u(this),p=s(h.length),g=a(t,p),v=a(void 0===e?p:e,p);if(o(h)&&("function"!=typeof(n=h.constructor)||n!==Array&&!o(n.prototype)?i(n)&&null===(n=n[f])&&(n=void 0):n=void 0,n===Array||void 0===n))return d.call(h,g,v);for(r=new(void 0===n?Array:n)(_(v-g,0)),l=0;g<v;g++,l++)g in h&&c(r,l,h[g]);return r.length=l,r}})},function(t,e,n){var r=n(4),i=n(62),o=n(74),a=n(115),s=r.Symbol,u=i("wks");t.exports=function(t){return u[t]||(u[t]=a&&s[t]||(a?s:o)("Symbol."+t))}},function(t,e,n){var r=n(9);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){"use strict";var r=n(1),i=n(3),o=n(63),a=n(9),s=n(17),u=n(14),c=n(70),l=n(86),f=n(87),d=n(7)("isConcatSpreadable"),_=!i(function(){var t=[];return t[d]=!1,t.concat()[0]!==t}),h=f("concat"),p=function(t){if(!a(t))return!1;var e=t[d];return void 0!==e?!!e:o(t)};r({target:"Array",proto:!0,forced:!_||!h},{concat:function(t){var e,n,r,i,o,a=s(this),f=l(a,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(o=-1===e?a:arguments[e],p(o)){if(d+(i=u(o.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,d++)n in o&&c(f,d,o[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(f,d++,o)}return f.length=d,f}})},function(t,e,n){var r=n(3);t.exports=!r(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(23),i=n(154),o=Object.prototype;i!==o.toString&&r(o,"toString",i,{unsafe:!0})},function(t,e,n){var r=n(11),i=n(110),o=n(8),a=n(45),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(o(t),e=a(e,!0),o(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(40),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){"use strict";var r,i=n(11),o=n(4),a=n(9),s=n(15),u=n(98),c=n(19),l=n(23),f=n(13).f,d=n(50),_=n(77),h=n(7),p=n(74),g=o.DataView,v=g&&g.prototype,y=o.Int8Array,m=y&&y.prototype,b=o.Uint8ClampedArray,x=b&&b.prototype,w=y&&d(y),E=m&&d(m),k=Object.prototype,M=k.isPrototypeOf,T=h("toStringTag"),A=p("TYPED_ARRAY_TAG"),O=!(!o.ArrayBuffer||!g),C=O&&!!_&&"Opera"!==u(o.opera),S=!1,D={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},P=function(t){return a(t)&&s(D,u(t))};for(r in D)o[r]||(C=!1);if((!C||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},C))for(r in D)o[r]&&_(o[r],w);if((!C||!E||E===k)&&(E=w.prototype,C))for(r in D)o[r]&&_(o[r].prototype,E);if(C&&d(x)!==E&&_(x,E),i&&!s(E,T))for(r in S=!0,f(E,T,{get:function(){return a(this)?this[A]:void 0}}),D)o[r]&&c(o[r],A,r);O&&_&&d(v)!==k&&_(v,k),t.exports={NATIVE_ARRAY_BUFFER:O,NATIVE_ARRAY_BUFFER_VIEWS:C,TYPED_ARRAY_TAG:S&&A,aTypedArray:function(t){if(P(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(_){if(M.call(w,t))return t}else for(var e in D)if(s(D,r)){var n=o[e];if(n&&(t===n||M.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportProto:function(t,e,n){if(i){if(n)for(var r in D){var a=o[r];a&&s(a.prototype,t)&&delete a.prototype[t]}E[t]&&!n||l(E,t,n?e:C&&m[t]||e)}},exportStatic:function(t,e,n){var r,a;if(i){if(_){if(n)for(r in D)(a=o[r])&&s(a,t)&&delete a[t];if(w[t]&&!n)return;try{return l(w,t,n?e:C&&y[t]||e)}catch(t){}}for(r in D)!(a=o[r])||a[t]&&!n||l(a,t,e)}},isView:function(t){var e=u(t);return"DataView"===e||s(D,e)},isTypedArray:P,TypedArray:w,TypedArrayPrototype:E}},function(t,e,n){var r=n(26);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(27),i=n(64),o=n(76),a=n(39),s=n(107),u=a.set,c=a.getterFor("Array Iterator");t.exports=s(Array,"Array",function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})},function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var r=n(11),i=n(13),o=n(49);t.exports=r?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r;
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,function(n,i){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,u=o.slice,c=o.concat,l=o.push,f=o.indexOf,d={},_=d.toString,h=d.hasOwnProperty,p=h.toString,g=p.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},m=function(t){return null!=t&&t===t.window},b={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var r,i,o=(n=n||a).createElement("script");if(o.text=t,e)for(r in b)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[_.call(t)]||"object":typeof t}var E=function(t,e){return new E.fn.init(t,e)},k=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function M(t){var e=!!t&&"length"in t&&t.length,n=w(t);return!y(t)&&!m(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}E.fn=E.prototype={jquery:"3.4.1",constructor:E,length:0,toArray:function(){return u.call(this)},get:function(t){return null==t?u.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=E.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return E.each(this,t)},map:function(t){return this.pushStack(E.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},E.extend=E.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(t=arguments[s]))for(e in t)r=t[e],"__proto__"!==e&&a!==r&&(c&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[e],o=i&&!Array.isArray(n)?[]:i||E.isPlainObject(n)?n:{},i=!1,a[e]=E.extend(c,o,r)):void 0!==r&&(a[e]=r));return a},E.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==_.call(t))&&(!(e=s(t))||"function"==typeof(n=h.call(e,"constructor")&&e.constructor)&&p.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e){x(t,{nonce:e&&e.nonce})},each:function(t,e){var n,r=0;if(M(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(k,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(M(Object(t))?E.merge(n,"string"==typeof t?[t]:t):l.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:f.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,a=[];if(M(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&a.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&a.push(i);return c.apply([],a)},guid:1,support:v}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=o[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){d["[object "+e+"]"]=e.toLowerCase()});var T=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(t){var e,n,r,i,o,a,s,u,c,l,f,d,_,h,p,g,v,y,m,b="sizzle"+1*new Date,x=t.document,w=0,E=0,k=ut(),M=ut(),T=ut(),A=ut(),O=function(t,e){return t===e&&(f=!0),0},C={}.hasOwnProperty,S=[],D=S.pop,P=S.push,I=S.push,N=S.slice,R=function(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",U="\\["+j+"*("+B+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+j+"*\\]",q=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",z=new RegExp(j+"+","g"),W=new RegExp("^"+j+"+|((?:^|[^\\\\])(?:\\\\.)*)"+j+"+$","g"),$=new RegExp("^"+j+"*,"+j+"*"),H=new RegExp("^"+j+"*([>+~]|"+j+")"+j+"*"),F=new RegExp(j+"|>"),K=new RegExp(q),Y=new RegExp("^"+B+"$"),G={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+j+"*(even|odd|(([+-]|)(\\d*)n|)"+j+"*(?:([+-]|)"+j+"*(\\d+)|))"+j+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+j+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+j+"*((?:-\\d)?\\d*)"+j+"*\\)|)(?=[^-]|$)","i")},X=/HTML$/i,V=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,tt=/[+~]/,et=new RegExp("\\\\([\\da-f]{1,6}"+j+"?|("+j+")|.)","ig"),nt=function(t,e,n){var r="0x"+e-65536;return r!=r||n?e:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},rt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},ot=function(){d()},at=bt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{I.apply(S=N.call(x.childNodes),x.childNodes),S[x.childNodes.length].nodeType}catch(t){I={apply:S.length?function(t,e){P.apply(t,N.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}function st(t,e,r,i){var o,s,c,l,f,h,v,y=e&&e.ownerDocument,w=e?e.nodeType:9;if(r=r||[],"string"!=typeof t||!t||1!==w&&9!==w&&11!==w)return r;if(!i&&((e?e.ownerDocument||e:x)!==_&&d(e),e=e||_,p)){if(11!==w&&(f=Q.exec(t)))if(o=f[1]){if(9===w){if(!(c=e.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(y&&(c=y.getElementById(o))&&m(e,c)&&c.id===o)return r.push(c),r}else{if(f[2])return I.apply(r,e.getElementsByTagName(t)),r;if((o=f[3])&&n.getElementsByClassName&&e.getElementsByClassName)return I.apply(r,e.getElementsByClassName(o)),r}if(n.qsa&&!A[t+" "]&&(!g||!g.test(t))&&(1!==w||"object"!==e.nodeName.toLowerCase())){if(v=t,y=e,1===w&&F.test(t)){for((l=e.getAttribute("id"))?l=l.replace(rt,it):e.setAttribute("id",l=b),s=(h=a(t)).length;s--;)h[s]="#"+l+" "+mt(h[s]);v=h.join(","),y=tt.test(t)&&vt(e.parentNode)||e}try{return I.apply(r,y.querySelectorAll(v)),r}catch(e){A(t,!0)}finally{l===b&&e.removeAttribute("id")}}}return u(t.replace(W,"$1"),e,r,i)}function ut(){var t=[];return function e(n,i){return t.push(n+" ")>r.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function ct(t){return t[b]=!0,t}function lt(t){var e=_.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ft(t,e){for(var n=t.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=e}function dt(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function _t(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ht(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&at(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function gt(t){return ct(function(e){return e=+e,ct(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function vt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=st.support={},o=st.isXML=function(t){var e=t.namespaceURI,n=(t.ownerDocument||t).documentElement;return!X.test(e||n&&n.nodeName||"HTML")},d=st.setDocument=function(t){var e,i,a=t?t.ownerDocument||t:x;return a!==_&&9===a.nodeType&&a.documentElement?(h=(_=a).documentElement,p=!o(_),x!==_&&(i=_.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",ot,!1):i.attachEvent&&i.attachEvent("onunload",ot)),n.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=lt(function(t){return t.appendChild(_.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(_.getElementsByClassName),n.getById=lt(function(t){return h.appendChild(t).id=b,!_.getElementsByName||!_.getElementsByName(b).length}),n.getById?(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&p){var n=e.getElementById(t);return n?[n]:[]}}):(r.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},r.find.ID=function(t,e){if(void 0!==e.getElementById&&p){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&p)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=Z.test(_.querySelectorAll))&&(lt(function(t){h.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+j+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+j+"*(?:value|"+L+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=_.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+j+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),h.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Z.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&lt(function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",q)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=Z.test(h.compareDocumentPosition),m=e||Z.test(h.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},O=e?function(t,e){if(t===e)return f=!0,0;var r=!t.compareDocumentPosition-!e.compareDocumentPosition;return r||(1&(r=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===r?t===_||t.ownerDocument===x&&m(x,t)?-1:e===_||e.ownerDocument===x&&m(x,e)?1:l?R(l,t)-R(l,e):0:4&r?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],s=[e];if(!i||!o)return t===_?-1:e===_?1:i?-1:o?1:l?R(l,t)-R(l,e):0;if(i===o)return dt(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?dt(a[r],s[r]):a[r]===x?-1:s[r]===x?1:0},_):_},st.matches=function(t,e){return st(t,null,null,e)},st.matchesSelector=function(t,e){if((t.ownerDocument||t)!==_&&d(t),n.matchesSelector&&p&&!A[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var r=y.call(t,e);if(r||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(t){A(e,!0)}return st(e,_,null,[t]).length>0},st.contains=function(t,e){return(t.ownerDocument||t)!==_&&d(t),m(t,e)},st.attr=function(t,e){(t.ownerDocument||t)!==_&&d(t);var i=r.attrHandle[e.toLowerCase()],o=i&&C.call(r.attrHandle,e.toLowerCase())?i(t,e,!p):void 0;return void 0!==o?o:n.attributes||!p?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},st.escape=function(t){return(t+"").replace(rt,it)},st.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},st.uniqueSort=function(t){var e,r=[],i=0,o=0;if(f=!n.detectDuplicates,l=!n.sortStable&&t.slice(0),t.sort(O),f){for(;e=t[o++];)e===t[o]&&(i=r.push(o));for(;i--;)t.splice(r[i],1)}return l=null,t},i=st.getText=function(t){var e,n="",r=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=i(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[r++];)n+=i(e);return n},(r=st.selectors={cacheLength:50,createPseudo:ct,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||st.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&st.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&K.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+j+")"+t+"("+j+"|$)"))&&k(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(r){var i=st.attr(r,t);return null==i?"!="===e:!e||(i+="","="===e?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(z," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,f,d,_,h,p=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!u&&!s,m=!1;if(g){if(o){for(;p;){for(d=e;d=d[p];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;h=p="only"===t&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(m=(_=(c=(l=(f=(d=g)[b]||(d[b]={}))[d.uniqueID]||(f[d.uniqueID]={}))[t]||[])[0]===w&&c[1])&&c[2],d=_&&g.childNodes[_];d=++_&&d&&d[p]||(m=_=0)||h.pop();)if(1===d.nodeType&&++m&&d===e){l[t]=[w,_,m];break}}else if(y&&(m=_=(c=(l=(f=(d=e)[b]||(d[b]={}))[d.uniqueID]||(f[d.uniqueID]={}))[t]||[])[0]===w&&c[1]),!1===m)for(;(d=++_&&d&&d[p]||(m=_=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++m||(y&&((l=(f=d[b]||(d[b]={}))[d.uniqueID]||(f[d.uniqueID]={}))[t]=[w,m]),d!==e)););return(m-=i)===r||m%r==0&&m/r>=0}}},PSEUDO:function(t,e){var n,i=r.pseudos[t]||r.setFilters[t.toLowerCase()]||st.error("unsupported pseudo: "+t);return i[b]?i(e):i.length>1?(n=[t,t,"",e],r.setFilters.hasOwnProperty(t.toLowerCase())?ct(function(t,n){for(var r,o=i(t,e),a=o.length;a--;)t[r=R(t,o[a])]=!(n[r]=o[a])}):function(t){return i(t,0,n)}):i}},pseudos:{not:ct(function(t){var e=[],n=[],r=s(t.replace(W,"$1"));return r[b]?ct(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:ct(function(t){return function(e){return st(t,e).length>0}}),contains:ct(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||i(e)).indexOf(t)>-1}}),lang:ct(function(t){return Y.test(t||"")||st.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=p?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===h},focus:function(t){return t===_.activeElement&&(!_.hasFocus||_.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!r.pseudos.empty(t)},header:function(t){return J.test(t.nodeName)},input:function(t){return V.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:gt(function(){return[0]}),last:gt(function(t,e){return[e-1]}),eq:gt(function(t,e,n){return[n<0?n+e:n]}),even:gt(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:gt(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:gt(function(t,e,n){for(var r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t}),gt:gt(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[e]=_t(e);for(e in{submit:!0,reset:!0})r.pseudos[e]=ht(e);function yt(){}function mt(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function bt(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,s=E++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,u){var c,l,f,d=[w,s];if(u){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||a)if(l=(f=e[b]||(e[b]={}))[e.uniqueID]||(f[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===w&&c[1]===s)return d[2]=c[2];if(l[o]=d,d[2]=t(e,n,u))return!0}return!1}}function xt(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function wt(t,e,n,r,i){for(var o,a=[],s=0,u=t.length,c=null!=e;s<u;s++)(o=t[s])&&(n&&!n(o,r,i)||(a.push(o),c&&e.push(s)));return a}function Et(t,e,n,r,i,o){return r&&!r[b]&&(r=Et(r)),i&&!i[b]&&(i=Et(i,o)),ct(function(o,a,s,u){var c,l,f,d=[],_=[],h=a.length,p=o||function(t,e,n){for(var r=0,i=e.length;r<i;r++)st(t,e[r],n);return n}(e||"*",s.nodeType?[s]:s,[]),g=!t||!o&&e?p:wt(p,d,t,s,u),v=n?i||(o?t:h||r)?[]:a:g;if(n&&n(g,v,s,u),r)for(c=wt(v,_),r(c,[],s,u),l=c.length;l--;)(f=c[l])&&(v[_[l]]=!(g[_[l]]=f));if(o){if(i||t){if(i){for(c=[],l=v.length;l--;)(f=v[l])&&c.push(g[l]=f);i(null,v=[],c,u)}for(l=v.length;l--;)(f=v[l])&&(c=i?R(o,f):d[l])>-1&&(o[c]=!(a[c]=f))}}else v=wt(v===a?v.splice(h,v.length):v),i?i(null,a,v,u):I.apply(a,v)})}function kt(t){for(var e,n,i,o=t.length,a=r.relative[t[0].type],s=a||r.relative[" "],u=a?1:0,l=bt(function(t){return t===e},s,!0),f=bt(function(t){return R(e,t)>-1},s,!0),d=[function(t,n,r){var i=!a&&(r||n!==c)||((e=n).nodeType?l(t,n,r):f(t,n,r));return e=null,i}];u<o;u++)if(n=r.relative[t[u].type])d=[bt(xt(d),n)];else{if((n=r.filter[t[u].type].apply(null,t[u].matches))[b]){for(i=++u;i<o&&!r.relative[t[i].type];i++);return Et(u>1&&xt(d),u>1&&mt(t.slice(0,u-1).concat({value:" "===t[u-2].type?"*":""})).replace(W,"$1"),n,u<i&&kt(t.slice(u,i)),i<o&&kt(t=t.slice(i)),i<o&&mt(t))}d.push(n)}return xt(d)}return yt.prototype=r.filters=r.pseudos,r.setFilters=new yt,a=st.tokenize=function(t,e){var n,i,o,a,s,u,c,l=M[t+" "];if(l)return e?0:l.slice(0);for(s=t,u=[],c=r.preFilter;s;){for(a in n&&!(i=$.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=H.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(W," ")}),s=s.slice(n.length)),r.filter)!(i=G[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?st.error(t):M(t,u).slice(0)},s=st.compile=function(t,e){var n,i=[],o=[],s=T[t+" "];if(!s){for(e||(e=a(t)),n=e.length;n--;)(s=kt(e[n]))[b]?i.push(s):o.push(s);(s=T(t,function(t,e){var n=e.length>0,i=t.length>0,o=function(o,a,s,u,l){var f,h,g,v=0,y="0",m=o&&[],b=[],x=c,E=o||i&&r.find.TAG("*",l),k=w+=null==x?1:Math.random()||.1,M=E.length;for(l&&(c=a===_||a||l);y!==M&&null!=(f=E[y]);y++){if(i&&f){for(h=0,a||f.ownerDocument===_||(d(f),s=!p);g=t[h++];)if(g(f,a||_,s)){u.push(f);break}l&&(w=k)}n&&((f=!g&&f)&&v--,o&&m.push(f))}if(v+=y,n&&y!==v){for(h=0;g=e[h++];)g(m,b,a,s);if(o){if(v>0)for(;y--;)m[y]||b[y]||(b[y]=D.call(u));b=wt(b)}I.apply(u,b),l&&!o&&b.length>0&&v+e.length>1&&st.uniqueSort(u)}return l&&(w=k,c=x),m};return n?ct(o):o}(o,i))).selector=t}return s},u=st.select=function(t,e,n,i){var o,u,c,l,f,d="function"==typeof t&&t,_=!i&&a(t=d.selector||t);if(n=n||[],1===_.length){if((u=_[0]=_[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===e.nodeType&&p&&r.relative[u[1].type]){if(!(e=(r.find.ID(c.matches[0].replace(et,nt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(u.shift().value.length)}for(o=G.needsContext.test(t)?0:u.length;o--&&(c=u[o],!r.relative[l=c.type]);)if((f=r.find[l])&&(i=f(c.matches[0].replace(et,nt),tt.test(u[0].type)&&vt(e.parentNode)||e))){if(u.splice(o,1),!(t=i.length&&mt(u)))return I.apply(n,i),n;break}}return(d||s(t,_))(i,e,!p,n,!e||tt.test(t)&&vt(e.parentNode)||e),n},n.sortStable=b.split("").sort(O).join("")===b,n.detectDuplicates=!!f,d(),n.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(_.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ft("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ft("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ft(L,function(t,e,n){var r;if(!n)return!0===t[e]?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),st}(n);E.find=T,E.expr=T.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=T.uniqueSort,E.text=T.getText,E.isXMLDoc=T.isXML,E.contains=T.contains,E.escapeSelector=T.escape;var A=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&E(t).is(n))break;r.push(t)}return r},O=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},C=E.expr.match.needsContext;function S(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function P(t,e,n){return y(e)?E.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?E.grep(t,function(t){return t===e!==n}):"string"!=typeof e?E.grep(t,function(t){return f.call(e,t)>-1!==n}):E.filter(e,t,n)}E.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?E.find.matchesSelector(r,t)?[r]:[]:E.find.matches(t,E.grep(e,function(t){return 1===t.nodeType}))},E.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(E(t).filter(function(){for(e=0;e<r;e++)if(E.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;e<r;e++)E.find(t,i[e],n);return r>1?E.uniqueSort(n):n},filter:function(t){return this.pushStack(P(this,t||[],!1))},not:function(t){return this.pushStack(P(this,t||[],!0))},is:function(t){return!!P(this,"string"==typeof t&&C.test(t)?E(t):t||[],!1).length}});var I,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||I,"string"==typeof t){if(!(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:N.exec(t))||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof E?e[0]:e,E.merge(this,E.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:a,!0)),D.test(r[1])&&E.isPlainObject(e))for(r in e)y(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return(i=a.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(E):E.makeArray(t,this)}).prototype=E.fn,I=E(a);var R=/^(?:parents|prev(?:Until|All))/,L={children:!0,contents:!0,next:!0,prev:!0};function j(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}E.fn.extend({has:function(t){var e=E(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(E.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&E(t);if(!C.test(t))for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?f.call(E(t),this[0]):f.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),E.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return A(t,"parentNode")},parentsUntil:function(t,e,n){return A(t,"parentNode",n)},next:function(t){return j(t,"nextSibling")},prev:function(t){return j(t,"previousSibling")},nextAll:function(t){return A(t,"nextSibling")},prevAll:function(t){return A(t,"previousSibling")},nextUntil:function(t,e,n){return A(t,"nextSibling",n)},prevUntil:function(t,e,n){return A(t,"previousSibling",n)},siblings:function(t){return O((t.parentNode||{}).firstChild,t)},children:function(t){return O(t.firstChild)},contents:function(t){return void 0!==t.contentDocument?t.contentDocument:(S(t,"template")&&(t=t.content||t),E.merge([],t.childNodes))}},function(t,e){E.fn[t]=function(n,r){var i=E.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=E.filter(r,i)),this.length>1&&(L[t]||E.uniqueSort(i),R.test(t)&&i.reverse()),this.pushStack(i)}});var B=/[^\x20\t\r\n\f]+/g;function U(t){return t}function q(t){throw t}function z(t,e,n,r){var i;try{t&&y(i=t.promise)?i.call(t).done(e).fail(n):t&&y(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}E.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return E.each(t.match(B)||[],function(t,n){e[n]=!0}),e}(t):E.extend({},t);var e,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||t.once,r=e=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(s=o.length-1,a.push(n)),function e(n){E.each(n,function(n,r){y(r)?t.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==w(r)&&e(r)})}(arguments),n&&!e&&u()),this},remove:function(){return E.each(arguments,function(t,e){for(var n;(n=E.inArray(e,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(t){return t?E.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},E.extend({Deferred:function(t){var e=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return E.Deferred(function(n){E.each(e,function(e,r){var i=y(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(t,r,i){var o=0;function a(t,e,r,i){return function(){var s=this,u=arguments,c=function(){var n,c;if(!(t<o)){if((n=r.apply(s,u))===e.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(c)?i?c.call(n,a(o,e,U,i),a(o,e,q,i)):(o++,c.call(n,a(o,e,U,i),a(o,e,q,i),a(o,e,U,e.notifyWith))):(r!==U&&(s=void 0,u=[n]),(i||e.resolveWith)(s,u))}},l=i?c:function(){try{c()}catch(n){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(n,l.stackTrace),t+1>=o&&(r!==q&&(s=void 0,u=[n]),e.rejectWith(s,u))}};t?l():(E.Deferred.getStackHook&&(l.stackTrace=E.Deferred.getStackHook()),n.setTimeout(l))}}return E.Deferred(function(n){e[0][3].add(a(0,n,y(i)?i:U,n.notifyWith)),e[1][3].add(a(0,n,y(t)?t:U)),e[2][3].add(a(0,n,y(r)?r:q))}).promise()},promise:function(t){return null!=t?E.extend(t,i):i}},o={};return E.each(e,function(t,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=u.call(arguments),o=E.Deferred(),a=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?u.call(arguments):n,--e||o.resolveWith(r,i)}};if(e<=1&&(z(t,o.done(a(n)).resolve,o.reject,!e),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)z(i[n],a(n),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&W.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},E.readyException=function(t){n.setTimeout(function(){throw t})};var $=E.Deferred();function H(){a.removeEventListener("DOMContentLoaded",H),n.removeEventListener("load",H),E.ready()}E.fn.ready=function(t){return $.then(t).catch(function(t){E.readyException(t)}),this},E.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==t&&--E.readyWait>0||$.resolveWith(a,[E]))}}),E.ready.then=$.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(E.ready):(a.addEventListener("DOMContentLoaded",H),n.addEventListener("load",H));var F=function(t,e,n,r,i,o,a){var s=0,u=t.length,c=null==n;if("object"===w(n))for(s in i=!0,n)F(t,e,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,y(r)||(a=!0),c&&(a?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(E(t),n)})),e))for(;s<u;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:c?e.call(t):u?e(t[0],n):o},K=/^-ms-/,Y=/-([a-z])/g;function G(t,e){return e.toUpperCase()}function X(t){return t.replace(K,"ms-").replace(Y,G)}var V=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function J(){this.expando=E.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},V(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[X(e)]=n;else for(r in e)i[X(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][X(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){n=(e=Array.isArray(e)?e.map(X):(e=X(e))in r?[e]:e.match(B)||[]).length;for(;n--;)delete r[e[n]]}(void 0===e||E.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!E.isEmptyObject(e)}};var Z=new J,Q=new J,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Q.set(t,e,n)}else n=void 0;return n}E.extend({hasData:function(t){return Q.hasData(t)||Z.hasData(t)},data:function(t,e,n){return Q.access(t,e,n)},removeData:function(t,e){Q.remove(t,e)},_data:function(t,e,n){return Z.access(t,e,n)},_removeData:function(t,e){Z.remove(t,e)}}),E.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=X(r.slice(5)),nt(o,r,i[r]));Z.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){Q.set(this,t)}):F(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=Q.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each(function(){Q.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Q.remove(this,t)})}}),E.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=Z.get(t,e),n&&(!r||Array.isArray(n)?r=Z.access(t,e,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=E.queue(t,e),r=n.length,i=n.shift(),o=E._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){E.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Z.get(t,n)||Z.access(t,n,{empty:E.Callbacks("once memory").add(function(){Z.remove(t,[e+"queue",n])})})}}),E.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?E.queue(this[0],t):void 0===e?this:this.each(function(){var n=E.queue(this,t,e);E._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&E.dequeue(this,t)})},dequeue:function(t){return this.each(function(){E.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=E.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=Z.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,it=new RegExp("^(?:([+-])=|)("+rt+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],at=a.documentElement,st=function(t){return E.contains(t.ownerDocument,t)},ut={composed:!0};at.getRootNode&&(st=function(t){return E.contains(t.ownerDocument,t)||t.getRootNode(ut)===t.ownerDocument});var ct=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&st(t)&&"none"===E.css(t,"display")},lt=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];for(o in i=n.apply(t,r||[]),e)t.style[o]=a[o];return i};function ft(t,e,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return E.css(t,e,"")},u=s(),c=n&&n[3]||(E.cssNumber[e]?"":"px"),l=t.nodeType&&(E.cssNumber[e]||"px"!==c&&+u)&&it.exec(E.css(t,e));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)E.style(t,e,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;l*=2,E.style(t,e,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var dt={};function _t(t){var e,n=t.ownerDocument,r=t.nodeName,i=dt[r];return i||(e=n.body.appendChild(n.createElement(r)),i=E.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),dt[r]=i,i)}function ht(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(n=r.style.display,e?("none"===n&&(i[o]=Z.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ct(r)&&(i[o]=_t(r))):"none"!==n&&(i[o]="none",Z.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}E.fn.extend({show:function(){return ht(this,!0)},hide:function(){return ht(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){ct(this)?E(this).show():E(this).hide()})}});var pt=/^(?:checkbox|radio)$/i,gt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,vt=/^$|^module$|\/(?:java|ecma)script/i,yt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function mt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&S(t,e)?E.merge([t],n):n}function bt(t,e){for(var n=0,r=t.length;n<r;n++)Z.set(t[n],"globalEval",!e||Z.get(e[n],"globalEval"))}yt.optgroup=yt.option,yt.tbody=yt.tfoot=yt.colgroup=yt.caption=yt.thead,yt.th=yt.td;var xt,wt,Et=/<|&#?\w+;/;function kt(t,e,n,r,i){for(var o,a,s,u,c,l,f=e.createDocumentFragment(),d=[],_=0,h=t.length;_<h;_++)if((o=t[_])||0===o)if("object"===w(o))E.merge(d,o.nodeType?[o]:o);else if(Et.test(o)){for(a=a||f.appendChild(e.createElement("div")),s=(gt.exec(o)||["",""])[1].toLowerCase(),u=yt[s]||yt._default,a.innerHTML=u[1]+E.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;E.merge(d,a.childNodes),(a=f.firstChild).textContent=""}else d.push(e.createTextNode(o));for(f.textContent="",_=0;o=d[_++];)if(r&&E.inArray(o,r)>-1)i&&i.push(o);else if(c=st(o),a=mt(f.appendChild(o),"script"),c&&bt(a),n)for(l=0;o=a[l++];)vt.test(o.type||"")&&n.push(o);return f}xt=a.createDocumentFragment().appendChild(a.createElement("div")),(wt=a.createElement("input")).setAttribute("type","radio"),wt.setAttribute("checked","checked"),wt.setAttribute("name","t"),xt.appendChild(wt),v.checkClone=xt.cloneNode(!0).cloneNode(!0).lastChild.checked,xt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!xt.cloneNode(!0).lastChild.defaultValue;var Mt=/^key/,Tt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,At=/^([^.]*)(?:\.(.+)|)/;function Ot(){return!0}function Ct(){return!1}function St(t,e){return t===function(){try{return a.activeElement}catch(t){}}()==("focus"===e)}function Dt(t,e,n,r,i,o){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(r=r||n,n=void 0),e)Dt(t,s,n,r,e[s],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ct;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return E().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),t.each(function(){E.event.add(this,e,i,r,n)})}function Pt(t,e,n){n?(Z.set(t,e,!1),E.event.add(t,e,{namespace:!1,handler:function(t){var r,i,o=Z.get(this,e);if(1&t.isTrigger&&this[e]){if(o.length)(E.event.special[e]||{}).delegateType&&t.stopPropagation();else if(o=u.call(arguments),Z.set(this,e,o),r=n(this,e),this[e](),o!==(i=Z.get(this,e))||r?Z.set(this,e,!1):i={},o!==i)return t.stopImmediatePropagation(),t.preventDefault(),i.value}else o.length&&(Z.set(this,e,{value:E.event.trigger(E.extend(o[0],E.Event.prototype),o.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===Z.get(t,e)&&E.event.add(t,e,Ot)}E.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,c,l,f,d,_,h,p,g=Z.get(t);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&E.find.matchesSelector(at,i),n.guid||(n.guid=E.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(e){return void 0!==E&&E.event.triggered!==e.type?E.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(B)||[""]).length;c--;)_=p=(s=At.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),_&&(f=E.event.special[_]||{},_=(i?f.delegateType:f.bindType)||_,f=E.event.special[_]||{},l=E.extend({type:_,origType:p,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:h.join(".")},o),(d=u[_])||((d=u[_]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(_,a)),f.add&&(f.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,l):d.push(l),E.event.global[_]=!0)},remove:function(t,e,n,r,i){var o,a,s,u,c,l,f,d,_,h,p,g=Z.hasData(t)&&Z.get(t);if(g&&(u=g.events)){for(c=(e=(e||"").match(B)||[""]).length;c--;)if(_=p=(s=At.exec(e[c])||[])[1],h=(s[2]||"").split(".").sort(),_){for(f=E.event.special[_]||{},d=u[_=(r?f.delegateType:f.bindType)||_]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)l=d[o],!i&&p!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(d.splice(o,1),l.selector&&d.delegateCount--,f.remove&&f.remove.call(t,l));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(t,h,g.handle)||E.removeEvent(t,_,g.handle),delete u[_])}else for(_ in u)E.event.remove(t,_+e[c],n,r,!0);E.isEmptyObject(u)&&Z.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,s=E.event.fix(t),u=new Array(arguments.length),c=(Z.get(this,"events")||{})[s.type]||[],l=E.event.special[s.type]||{};for(u[0]=s,e=1;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=E.event.handlers.call(this,s,c),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,s=[],u=e.delegateCount,c=t.target;if(u&&c.nodeType&&!("click"===t.type&&t.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==t.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?E(i,this).index(c)>-1:E.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<e.length&&s.push({elem:c,handlers:e.slice(u)}),s},addProp:function(t,e){Object.defineProperty(E.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[E.expando]?t:new E.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return pt.test(e.type)&&e.click&&S(e,"input")&&Pt(e,"click",Ot),!1},trigger:function(t){var e=this||t;return pt.test(e.type)&&e.click&&S(e,"input")&&Pt(e,"click"),!0},_default:function(t){var e=t.target;return pt.test(e.type)&&e.click&&S(e,"input")&&Z.get(e,"click")||S(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},E.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},E.Event=function(t,e){if(!(this instanceof E.Event))return new E.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Ot:Ct,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&E.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Ct,isPropagationStopped:Ct,isImmediatePropagationStopped:Ct,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Mt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Tt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(t,e){E.event.special[t]={setup:function(){return Pt(this,t,St),!1},trigger:function(){return Pt(this,t),!0},delegateType:e}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){E.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||E.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),E.fn.extend({on:function(t,e,n,r){return Dt(this,t,e,n,r)},one:function(t,e,n,r){return Dt(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,E(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Ct),this.each(function(){E.event.remove(this,t,n,e)})}});var It=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Nt=/<script|<style|<link/i,Rt=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function jt(t,e){return S(t,"table")&&S(11!==e.nodeType?e:e.firstChild,"tr")&&E(t).children("tbody")[0]||t}function Bt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Ut(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function qt(t,e){var n,r,i,o,a,s,u,c;if(1===e.nodeType){if(Z.hasData(t)&&(o=Z.access(t),a=Z.set(e,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)E.event.add(e,i,c[i][n]);Q.hasData(t)&&(s=Q.access(t),u=E.extend({},s),Q.set(e,u))}}function zt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&pt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Wt(t,e,n,r){e=c.apply([],e);var i,o,a,s,u,l,f=0,d=t.length,_=d-1,h=e[0],p=y(h);if(p||d>1&&"string"==typeof h&&!v.checkClone&&Rt.test(h))return t.each(function(i){var o=t.eq(i);p&&(e[0]=h.call(this,i,o.html())),Wt(o,e,n,r)});if(d&&(o=(i=kt(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=E.map(mt(i,"script"),Bt)).length;f<d;f++)u=i,f!==_&&(u=E.clone(u,!0,!0),s&&E.merge(a,mt(u,"script"))),n.call(t[f],u,f);if(s)for(l=a[a.length-1].ownerDocument,E.map(a,Ut),f=0;f<s;f++)u=a[f],vt.test(u.type||"")&&!Z.access(u,"globalEval")&&E.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?E._evalUrl&&!u.noModule&&E._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")}):x(u.textContent.replace(Lt,""),u,l))}return t}function $t(t,e,n){for(var r,i=e?E.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(mt(r)),r.parentNode&&(n&&st(r)&&bt(mt(r,"script")),r.parentNode.removeChild(r));return t}E.extend({htmlPrefilter:function(t){return t.replace(It,"<$1></$2>")},clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),u=st(t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||E.isXMLDoc(t)))for(a=mt(s),r=0,i=(o=mt(t)).length;r<i;r++)zt(o[r],a[r]);if(e)if(n)for(o=o||mt(t),a=a||mt(s),r=0,i=o.length;r<i;r++)qt(o[r],a[r]);else qt(t,s);return(a=mt(s,"script")).length>0&&bt(a,!u&&mt(t,"script")),s},cleanData:function(t){for(var e,n,r,i=E.event.special,o=0;void 0!==(n=t[o]);o++)if(V(n)){if(e=n[Z.expando]){if(e.events)for(r in e.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,e.handle);n[Z.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),E.fn.extend({detach:function(t){return $t(this,t,!0)},remove:function(t){return $t(this,t)},text:function(t){return F(this,function(t){return void 0===t?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Wt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||jt(this,t).appendChild(t)})},prepend:function(){return Wt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=jt(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Wt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Wt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(E.cleanData(mt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return E.clone(this,t,e)})},html:function(t){return F(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!yt[(gt.exec(t)||["",""])[1].toLowerCase()]){t=E.htmlPrefilter(t);try{for(;n<r;n++)1===(e=this[n]||{}).nodeType&&(E.cleanData(mt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Wt(this,arguments,function(e){var n=this.parentNode;E.inArray(this,t)<0&&(E.cleanData(mt(this)),n&&n.replaceChild(e,this))},t)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){E.fn[t]=function(t){for(var n,r=[],i=E(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),E(i[a])[e](n),l.apply(r,n.get());return this.pushStack(r)}});var Ht=new RegExp("^("+rt+")(?!px)[a-z%]+$","i"),Ft=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},Kt=new RegExp(ot.join("|"),"i");function Yt(t,e,n){var r,i,o,a,s=t.style;return(n=n||Ft(t))&&(""!==(a=n.getPropertyValue(e)||n[e])||st(t)||(a=E.style(t,e)),!v.pixelBoxStyles()&&Ht.test(a)&&Kt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Gt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",at.appendChild(c).appendChild(l);var t=n.getComputedStyle(l);r="1%"!==t.top,u=12===e(t.marginLeft),l.style.right="60%",s=36===e(t.right),i=36===e(t.width),l.style.position="absolute",o=12===e(l.offsetWidth/3),at.removeChild(c),l=null}}function e(t){return Math.round(parseFloat(t))}var r,i,o,s,u,c=a.createElement("div"),l=a.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,E.extend(v,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),s},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o}}))}();var Xt=["Webkit","Moz","ms"],Vt=a.createElement("div").style,Jt={};function Zt(t){var e=E.cssProps[t]||Jt[t];return e||(t in Vt?t:Jt[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=Xt.length;n--;)if((t=Xt[n]+e)in Vt)return t}(t)||t)}var Qt=/^(none|table(?!-c[ea]).+)/,te=/^--/,ee={position:"absolute",visibility:"hidden",display:"block"},ne={letterSpacing:"0",fontWeight:"400"};function re(t,e,n){var r=it.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function ie(t,e,n,r,i,o){var a="width"===e?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=E.css(t,n+ot[a],!0,i)),r?("content"===n&&(u-=E.css(t,"padding"+ot[a],!0,i)),"margin"!==n&&(u-=E.css(t,"border"+ot[a]+"Width",!0,i))):(u+=E.css(t,"padding"+ot[a],!0,i),"padding"!==n?u+=E.css(t,"border"+ot[a]+"Width",!0,i):s+=E.css(t,"border"+ot[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-u-s-.5))||0),u}function oe(t,e,n){var r=Ft(t),i=(!v.boxSizingReliable()||n)&&"border-box"===E.css(t,"boxSizing",!1,r),o=i,a=Yt(t,e,r),s="offset"+e[0].toUpperCase()+e.slice(1);if(Ht.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===E.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===E.css(t,"boxSizing",!1,r),(o=s in t)&&(a=t[s])),(a=parseFloat(a)||0)+ie(t,e,n||(i?"border":"content"),o,r,a)+"px"}function ae(t,e,n,r,i){return new ae.prototype.init(t,e,n,r,i)}E.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Yt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=X(e),u=te.test(e),c=t.style;if(u||(e=Zt(s)),a=E.cssHooks[e]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:c[e];"string"===(o=typeof n)&&(i=it.exec(n))&&i[1]&&(n=ft(t,e,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(E.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(u?c.setProperty(e,n):c[e]=n))}},css:function(t,e,n,r){var i,o,a,s=X(e);return te.test(e)||(e=Zt(s)),(a=E.cssHooks[e]||E.cssHooks[s])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=Yt(t,e,r)),"normal"===i&&e in ne&&(i=ne[e]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),E.each(["height","width"],function(t,e){E.cssHooks[e]={get:function(t,n,r){if(n)return!Qt.test(E.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?oe(t,e,r):lt(t,ee,function(){return oe(t,e,r)})},set:function(t,n,r){var i,o=Ft(t),a=!v.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===E.css(t,"boxSizing",!1,o),u=r?ie(t,e,r,s,o):0;return s&&a&&(u-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-ie(t,e,"border",!1,o)-.5)),u&&(i=it.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=E.css(t,e)),re(0,n,u)}}}),E.cssHooks.marginLeft=Gt(v.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Yt(t,"marginLeft"))||t.getBoundingClientRect().left-lt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(t,e){E.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+ot[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(E.cssHooks[t+e].set=re)}),E.fn.extend({css:function(t,e){return F(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=Ft(t),i=e.length;a<i;a++)o[e[a]]=E.css(t,e[a],!1,r);return o}return void 0!==n?E.style(t,e,n):E.css(t,e)},t,e,arguments.length>1)}}),E.Tween=ae,ae.prototype={constructor:ae,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||E.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var t=ae.propHooks[this.prop];return t&&t.get?t.get(this):ae.propHooks._default.get(this)},run:function(t){var e,n=ae.propHooks[this.prop];return this.options.duration?this.pos=e=E.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ae.propHooks._default.set(this),this}},ae.prototype.init.prototype=ae.prototype,ae.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=E.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){E.fx.step[t.prop]?E.fx.step[t.prop](t):1!==t.elem.nodeType||!E.cssHooks[t.prop]&&null==t.elem.style[Zt(t.prop)]?t.elem[t.prop]=t.now:E.style(t.elem,t.prop,t.now+t.unit)}}},ae.propHooks.scrollTop=ae.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},E.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},E.fx=ae.prototype.init,E.fx.step={};var se,ue,ce=/^(?:toggle|show|hide)$/,le=/queueHooks$/;function fe(){ue&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(fe):n.setTimeout(fe,E.fx.interval),E.fx.tick())}function de(){return n.setTimeout(function(){se=void 0}),se=Date.now()}function _e(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=ot[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function he(t,e,n){for(var r,i=(pe.tweeners[e]||[]).concat(pe.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function pe(t,e,n){var r,i,o=0,a=pe.prefilters.length,s=E.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=se||de(),n=Math.max(0,c.startTime+c.duration-e),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(t,[c,r,n]),r<1&&a?n:(a||s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:E.extend({},e),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:e,originalOptions:n,startTime:se||de(),duration:n.duration,tweens:[],createTween:function(e,n){var r=E.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),l=c.props;for(!function(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=X(n)],o=t[n],Array.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(l,c.opts.specialEasing);o<a;o++)if(r=pe.prefilters[o].call(c,t,l,c.opts))return y(r.stop)&&(E._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return E.map(l,he,c),y(c.opts.start)&&c.opts.start.call(t,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),E.fx.timer(E.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c}E.Animation=E.extend(pe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return ft(n.elem,t,it.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(B);for(var n,r=0,i=t.length;r<i;r++)n=t[r],pe.tweeners[n]=pe.tweeners[n]||[],pe.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,a,s,u,c,l,f="width"in e||"height"in e,d=this,_={},h=t.style,p=t.nodeType&&ct(t),g=Z.get(t,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,E.queue(t,"fx").length||a.empty.fire()})})),e)if(i=e[r],ce.test(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}_[r]=g&&g[r]||E.style(t,r)}if((u=!E.isEmptyObject(e))||!E.isEmptyObject(_))for(r in f&&1===t.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(c=g&&g.display)&&(c=Z.get(t,"display")),"none"===(l=E.css(t,"display"))&&(c?l=c:(ht([t],!0),c=t.style.display||c,l=E.css(t,"display"),ht([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===E.css(t,"float")&&(u||(d.done(function(){h.display=c}),null==c&&(l=h.display,c="none"===l?"":l)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,_)u||(g?"hidden"in g&&(p=g.hidden):g=Z.access(t,"fxshow",{display:c}),o&&(g.hidden=!p),p&&ht([t],!0),d.done(function(){for(r in p||ht([t]),Z.remove(t,"fxshow"),_)E.style(t,r,_[r])})),u=he(p?g[r]:0,r,d),r in g||(g[r]=u.start,p&&(u.end=u.start,u.start=0))}],prefilter:function(t,e){e?pe.prefilters.unshift(t):pe.prefilters.push(t)}}),E.speed=function(t,e,n){var r=t&&"object"==typeof t?E.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in E.fx.speeds?r.duration=E.fx.speeds[r.duration]:r.duration=E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(t,e,n,r){return this.filter(ct).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=E.isEmptyObject(t),o=E.speed(e,n,r),a=function(){var e=pe(this,E.extend({},t),o);(i||Z.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=E.timers,a=Z.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&le.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||E.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=Z.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=E.timers,a=r?r.length:0;for(n.finish=!0,E.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),E.each(["toggle","show","hide"],function(t,e){var n=E.fn[e];E.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(_e(e,!0),t,r,i)}}),E.each({slideDown:_e("show"),slideUp:_e("hide"),slideToggle:_e("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){E.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),E.timers=[],E.fx.tick=function(){var t,e=0,n=E.timers;for(se=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||E.fx.stop(),se=void 0},E.fx.timer=function(t){E.timers.push(t),E.fx.start()},E.fx.interval=13,E.fx.start=function(){ue||(ue=!0,fe())},E.fx.stop=function(){ue=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(t,e){return t=E.fx&&E.fx.speeds[t]||t,e=e||"fx",this.queue(e,function(e,r){var i=n.setTimeout(e,t);r.stop=function(){n.clearTimeout(i)}})},function(){var t=a.createElement("input"),e=a.createElement("select").appendChild(a.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=a.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var ge,ve=E.expr.attrHandle;E.fn.extend({attr:function(t,e){return F(this,E.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){E.removeAttr(this,t)})}}),E.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?E.prop(t,e,n):(1===o&&E.isXMLDoc(t)||(i=E.attrHooks[e.toLowerCase()]||(E.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void E.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=E.find.attr(t,e))?void 0:r)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&S(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(B);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return!1===e?E.removeAttr(t,n):t.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ve[e]||E.find.attr;ve[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=ve[a],ve[a]=i,i=null!=n(t,e,r)?a:null,ve[a]=o),i}});var ye=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function be(t){return(t.match(B)||[]).join(" ")}function xe(t){return t.getAttribute&&t.getAttribute("class")||""}function we(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(B)||[]}E.fn.extend({prop:function(t,e){return F(this,E.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[E.propFix[t]||t]})}}),E.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(t)||(e=E.propFix[e]||e,i=E.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=E.find.attr(t,"tabindex");return e?parseInt(e,10):ye.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(E.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(y(t))return this.each(function(e){E(this).addClass(t.call(this,e,xe(this)))});if((e=we(t)).length)for(;n=this[u++];)if(i=xe(n),r=1===n.nodeType&&" "+be(i)+" "){for(a=0;o=e[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=be(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(y(t))return this.each(function(e){E(this).removeClass(t.call(this,e,xe(this)))});if(!arguments.length)return this.attr("class","");if((e=we(t)).length)for(;n=this[u++];)if(i=xe(n),r=1===n.nodeType&&" "+be(i)+" "){for(a=0;o=e[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=be(r))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t,r="string"===n||Array.isArray(t);return"boolean"==typeof e&&r?e?this.addClass(t):this.removeClass(t):y(t)?this.each(function(n){E(this).toggleClass(t.call(this,n,xe(this),e),e)}):this.each(function(){var e,i,o,a;if(r)for(i=0,o=E(this),a=we(t);e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=xe(this))&&Z.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Z.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+be(xe(n))+" ").indexOf(e)>-1)return!0;return!1}});var Ee=/\r/g;E.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=y(t),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?t.call(this,n,E(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=E.map(i,function(t){return null==t?"":t+""})),(e=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=E.valHooks[i.type]||E.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Ee,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(t){var e=E.find.attr(t,"value");return null!=e?e:be(E.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!S(n.parentNode,"optgroup"))){if(e=E(n).val(),a)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=E.makeArray(e),a=i.length;a--;)((r=i[a]).selected=E.inArray(E.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=E.inArray(E(t).val(),e)>-1}},v.checkOn||(E.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),v.focusin="onfocusin"in n;var ke=/^(?:focusinfocus|focusoutblur)$/,Me=function(t){t.stopPropagation()};E.extend(E.event,{trigger:function(t,e,r,i){var o,s,u,c,l,f,d,_,p=[r||a],g=h.call(t,"type")?t.type:t,v=h.call(t,"namespace")?t.namespace.split("."):[];if(s=_=u=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!ke.test(g+E.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),l=g.indexOf(":")<0&&"on"+g,(t=t[E.expando]?t:new E.Event(g,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),e=null==e?[t]:E.makeArray(e,[t]),d=E.event.special[g]||{},i||!d.trigger||!1!==d.trigger.apply(r,e))){if(!i&&!d.noBubble&&!m(r)){for(c=d.delegateType||g,ke.test(c+g)||(s=s.parentNode);s;s=s.parentNode)p.push(s),u=s;u===(r.ownerDocument||a)&&p.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=p[o++])&&!t.isPropagationStopped();)_=s,t.type=o>1?c:d.bindType||g,(f=(Z.get(s,"events")||{})[t.type]&&Z.get(s,"handle"))&&f.apply(s,e),(f=l&&s[l])&&f.apply&&V(s)&&(t.result=f.apply(s,e),!1===t.result&&t.preventDefault());return t.type=g,i||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(p.pop(),e)||!V(r)||l&&y(r[g])&&!m(r)&&((u=r[l])&&(r[l]=null),E.event.triggered=g,t.isPropagationStopped()&&_.addEventListener(g,Me),r[g](),t.isPropagationStopped()&&_.removeEventListener(g,Me),E.event.triggered=void 0,u&&(r[l]=u)),t.result}},simulate:function(t,e,n){var r=E.extend(new E.Event,n,{type:t,isSimulated:!0});E.event.trigger(r,null,e)}}),E.fn.extend({trigger:function(t,e){return this.each(function(){E.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return E.event.trigger(t,e,n,!0)}}),v.focusin||E.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){E.event.simulate(e,t.target,E.event.fix(t))};E.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=Z.access(r,e);i||r.addEventListener(t,n,!0),Z.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Z.access(r,e)-1;i?Z.access(r,e,i):(r.removeEventListener(t,n,!0),Z.remove(r,e))}}});var Te=n.location,Ae=Date.now(),Oe=/\?/;E.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||E.error("Invalid XML: "+t),e};var Ce=/\[\]$/,Se=/\r?\n/g,De=/^(?:submit|button|image|reset|file)$/i,Pe=/^(?:input|select|textarea|keygen)/i;function Ie(t,e,n,r){var i;if(Array.isArray(e))E.each(e,function(e,i){n||Ce.test(t)?r(t,i):Ie(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==w(e))r(t,e);else for(i in e)Ie(t+"["+i+"]",e[i],n,r)}E.param=function(t,e){var n,r=[],i=function(t,e){var n=y(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!E.isPlainObject(t))E.each(t,function(){i(this.name,this.value)});else for(n in t)Ie(n,t[n],e,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=E.prop(this,"elements");return t?E.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!E(this).is(":disabled")&&Pe.test(this.nodeName)&&!De.test(t)&&(this.checked||!pt.test(t))}).map(function(t,e){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:n.replace(Se,"\r\n")}}).get()}});var Ne=/%20/g,Re=/#.*$/,Le=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)$/gm,Be=/^(?:GET|HEAD)$/,Ue=/^\/\//,qe={},ze={},We="*/".concat("*"),$e=a.createElement("a");function He(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(B)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function Fe(t,e,n,r){var i={},o=t===ze;function a(s){var u;return i[s]=!0,E.each(t[s]||[],function(t,s){var c=s(e,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(e.dataTypes.unshift(c),a(c),!1)}),u}return a(e.dataTypes[0])||!i["*"]&&a("*")}function Ke(t,e){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&E.extend(!0,t,r),t}$e.href=Te.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Te.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Te.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":We,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ke(Ke(t,E.ajaxSettings),e):Ke(E.ajaxSettings,t)},ajaxPrefilter:He(qe),ajaxTransport:He(ze),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,s,u,c,l,f,d,_,h=E.ajaxSetup({},e),p=h.context||h,g=h.context&&(p.nodeType||p.jquery)?E(p):E.event,v=E.Deferred(),y=E.Callbacks("once memory"),m=h.statusCode||{},b={},x={},w="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(l){if(!s)for(s={};e=je.exec(o);)s[e[1].toLowerCase()+" "]=(s[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=s[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==l&&(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)k.always(t[k.status]);else for(e in t)m[e]=[m[e],t[e]];return this},abort:function(t){var e=t||w;return r&&r.abort(e),M(0,e),this}};if(v.promise(k),h.url=((t||h.url||Te.href)+"").replace(Ue,Te.protocol+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(B)||[""],null==h.crossDomain){c=a.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=$e.protocol+"//"+$e.host!=c.protocol+"//"+c.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=E.param(h.data,h.traditional)),Fe(qe,h,e,k),l)return k;for(d in(f=E.event&&h.global)&&0==E.active++&&E.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Be.test(h.type),i=h.url.replace(Re,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Ne,"+")):(_=h.url.slice(i.length),h.data&&(h.processData||"string"==typeof h.data)&&(i+=(Oe.test(i)?"&":"?")+h.data,delete h.data),!1===h.cache&&(i=i.replace(Le,"$1"),_=(Oe.test(i)?"&":"?")+"_="+Ae+++_),h.url=i+_),h.ifModified&&(E.lastModified[i]&&k.setRequestHeader("If-Modified-Since",E.lastModified[i]),E.etag[i]&&k.setRequestHeader("If-None-Match",E.etag[i])),(h.data&&h.hasContent&&!1!==h.contentType||e.contentType)&&k.setRequestHeader("Content-Type",h.contentType),k.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+We+"; q=0.01":""):h.accepts["*"]),h.headers)k.setRequestHeader(d,h.headers[d]);if(h.beforeSend&&(!1===h.beforeSend.call(p,k,h)||l))return k.abort();if(w="abort",y.add(h.complete),k.done(h.success),k.fail(h.error),r=Fe(ze,h,e,k)){if(k.readyState=1,f&&g.trigger("ajaxSend",[k,h]),l)return k;h.async&&h.timeout>0&&(u=n.setTimeout(function(){k.abort("timeout")},h.timeout));try{l=!1,r.send(b,M)}catch(t){if(l)throw t;M(-1,t)}}else M(-1,"No Transport");function M(t,e,a,s){var c,d,_,b,x,w=e;l||(l=!0,u&&n.clearTimeout(u),r=void 0,o=s||"",k.readyState=t>0?4:0,c=t>=200&&t<300||304===t,a&&(b=function(t,e,n){for(var r,i,o,a,s=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(h,k,a)),b=function(t,e,n,r){var i,o,a,s,u,c={},l=t.dataTypes.slice();if(l[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}(h,b,k,c),c?(h.ifModified&&((x=k.getResponseHeader("Last-Modified"))&&(E.lastModified[i]=x),(x=k.getResponseHeader("etag"))&&(E.etag[i]=x)),204===t||"HEAD"===h.type?w="nocontent":304===t?w="notmodified":(w=b.state,d=b.data,c=!(_=b.error))):(_=w,!t&&w||(w="error",t<0&&(t=0))),k.status=t,k.statusText=(e||w)+"",c?v.resolveWith(p,[d,w,k]):v.rejectWith(p,[k,w,_]),k.statusCode(m),m=void 0,f&&g.trigger(c?"ajaxSuccess":"ajaxError",[k,h,c?d:_]),y.fireWith(p,[k,w]),f&&(g.trigger("ajaxComplete",[k,h]),--E.active||E.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,n){return E.get(t,e,n,"json")},getScript:function(t,e){return E.get(t,void 0,e,"script")}}),E.each(["get","post"],function(t,e){E[e]=function(t,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),E.ajax(E.extend({url:t,type:e,dataType:i,data:n,success:r},E.isPlainObject(t)&&t))}}),E._evalUrl=function(t,e){return E.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){E.globalEval(t,e)}})},E.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=E(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return y(t)?this.each(function(e){E(this).wrapInner(t.call(this,e))}):this.each(function(){var e=E(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=y(t);return this.each(function(n){E(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(t){return!E.expr.pseudos.visible(t)},E.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var Ye={0:200,1223:204},Ge=E.ajaxSettings.xhr();v.cors=!!Ge&&"withCredentials"in Ge,v.ajax=Ge=!!Ge,E.ajaxTransport(function(t){var e,r;if(v.cors||Ge&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);e=function(t){return function(){e&&(e=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ye[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=e(),r=s.onerror=s.ontimeout=e("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){e&&r()})},e=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),E.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return E.globalEval(t),t}}}),E.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),E.ajaxTransport("script",function(t){var e,n;if(t.crossDomain||t.scriptAttrs)return{send:function(r,i){e=E("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),a.head.appendChild(e[0])},abort:function(){n&&n()}}});var Xe,Ve=[],Je=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ve.pop()||E.expando+"_"+Ae++;return this[t]=!0,t}}),E.ajaxPrefilter("json jsonp",function(t,e,r){var i,o,a,s=!1!==t.jsonp&&(Je.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Je.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Je,"$1"+i):!1!==t.jsonp&&(t.url+=(Oe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||E.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?E(n).removeProp(i):n[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ve.push(i)),a&&y(o)&&o(a[0]),a=o=void 0}),"script"}),v.createHTMLDocument=((Xe=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Xe.childNodes.length),E.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((r=(e=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,e.head.appendChild(r)):e=a),o=!n&&[],(i=D.exec(t))?[e.createElement(i[1])]:(i=kt([t],e,o),o&&o.length&&E(o).remove(),E.merge([],i.childNodes)));var r,i,o},E.fn.load=function(t,e,n){var r,i,o,a=this,s=t.indexOf(" ");return s>-1&&(r=be(t.slice(s)),t=t.slice(0,s)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&E.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?E("<div>").append(E.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){E.fn[e]=function(t){return this.on(e,t)}}),E.expr.pseudos.animated=function(t){return E.grep(E.timers,function(e){return t===e.elem}).length},E.offset={setOffset:function(t,e,n){var r,i,o,a,s,u,c=E.css(t,"position"),l=E(t),f={};"static"===c&&(t.style.position="relative"),s=l.offset(),o=E.css(t,"top"),u=E.css(t,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),y(e)&&(e=e.call(t,n,E.extend({},s))),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):l.css(f)}},E.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){E.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===E.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&((i=E(t).offset()).top+=E.css(t,"borderTopWidth",!0),i.left+=E.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-E.css(r,"marginTop",!0),left:e.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===E.css(t,"position");)t=t.offsetParent;return t||at})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;E.fn[t]=function(r){return F(this,function(t,r,i){var o;if(m(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),E.each(["top","left"],function(t,e){E.cssHooks[e]=Gt(v.pixelPosition,function(t,n){if(n)return n=Yt(t,e),Ht.test(n)?E(t).position()[e]+"px":n})}),E.each({Height:"height",Width:"width"},function(t,e){E.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){E.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return F(this,function(e,n,i){var o;return m(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?E.css(e,n,s):E.style(e,n,i,s)},e,a?i:void 0,a)}})}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){E.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),E.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),E.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),E.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return r=u.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(u.call(arguments)))}).guid=t.guid=t.guid||E.guid++,i},E.holdReady=function(t){t?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=S,E.isFunction=y,E.isWindow=m,E.camelCase=X,E.type=w,E.now=Date.now,E.isNumeric=function(t){var e=E.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(r=function(){return E}.apply(e,[]))||(t.exports=r);var Ze=n.jQuery,Qe=n.$;return E.noConflict=function(t){return n.$===E&&(n.$=Qe),t&&n.jQuery===E&&(n.jQuery=Ze),E},i||(n.jQuery=n.$=E),E})},function(t,e,n){"use strict";var r=n(1),i=n(83).indexOf,o=n(48),a=[].indexOf,s=!!a&&1/[1].indexOf(1,-0)<0,u=o("indexOf");r({target:"Array",proto:!0,forced:s||u},{indexOf:function(t){return s?a.apply(this,arguments)||0:i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),i=n(72),o=n(27),a=n(48),s=[].join,u=i!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:u||c},{join:function(t){return s.call(o(this),void 0===t?",":t)}})},function(t,e,n){var r=n(4),i=n(62),o=n(19),a=n(15),s=n(95),u=n(111),c=n(39),l=c.get,f=c.enforce,d=String(u).split("toString");i("inspectSource",function(t){return u.call(t)}),(t.exports=function(t,e,n,i){var u=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,l=!!i&&!!i.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||o(n,"name",e),f(n).source=d.join("string"==typeof e?e:"")),t!==r?(u?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=n:o(t,e,n)):c?t[e]=n:s(e,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&l(this).source||u.call(this)})},function(t,e,n){"use strict";var r=n(1),i=n(41),o=n(17),a=n(3),s=n(48),u=[].sort,c=[1,2,3],l=a(function(){c.sort(void 0)}),f=a(function(){c.sort(null)}),d=s("sort");r({target:"Array",proto:!0,forced:l||!f||d},{sort:function(t){return void 0===t?u.call(o(this)):u.call(o(this),i(t))}})},function(t,e,n){var r=n(4),i=n(126),o=n(18),a=n(19),s=n(7),u=s("iterator"),c=s("toStringTag"),l=o.values;for(var f in i){var d=r[f],_=d&&d.prototype;if(_){if(_[u]!==l)try{a(_,u,l)}catch(t){_[u]=l}if(_[c]||a(_,c,f),i[f])for(var h in o)if(_[h]!==o[h])try{a(_,h,o[h])}catch(t){_[h]=o[h]}}}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(72),i=n(26);t.exports=function(t){return r(i(t))}},function(t,e,n){var r=n(11),i=n(13).f,o=Function.prototype,a=o.toString,s=/^\s*function ([^ (]*)/;!r||"name"in o||i(o,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(99).charAt,i=n(39),o=n(107),a=i.set,s=i.getterFor("String Iterator");o(String,"String",function(t){a(this,{type:"String Iterator",string:String(t),index:0})},function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var r=n(23),i=n(8),o=n(3),a=n(78),s=RegExp.prototype,u=s.toString,c=o(function(){return"/a/b"!=u.call({source:"a",flags:"b"})}),l="toString"!=u.name;(c||l)&&r(RegExp.prototype,"toString",function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in s)?a.call(t):n)},{unsafe:!0})},function(t,e,n){var r=n(4),i=n(126),o=n(142),a=n(19);for(var s in i){var u=r[s],c=u&&u.prototype;if(c&&c.forEach!==o)try{a(c,"forEach",o)}catch(t){c.forEach=o}}},function(t,e,n){"use strict";var r=n(1),i=n(4),o=n(46),a=n(11),s=n(115),u=n(3),c=n(15),l=n(63),f=n(9),d=n(8),_=n(17),h=n(27),p=n(45),g=n(49),v=n(57),y=n(85),m=n(55),b=n(134),x=n(105),w=n(38),E=n(13),k=n(94),M=n(19),T=n(23),A=n(62),O=n(73),C=n(68),S=n(74),D=n(7),P=n(117),I=n(44),N=n(47),R=n(39),L=n(33).forEach,j=O("hidden"),B=D("toPrimitive"),U=R.set,q=R.getterFor("Symbol"),z=Object.prototype,W=i.Symbol,$=i.JSON,H=$&&$.stringify,F=w.f,K=E.f,Y=b.f,G=k.f,X=A("symbols"),V=A("op-symbols"),J=A("string-to-symbol-registry"),Z=A("symbol-to-string-registry"),Q=A("wks"),tt=i.QObject,et=!tt||!tt.prototype||!tt.prototype.findChild,nt=a&&u(function(){return 7!=v(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=F(z,e);r&&delete z[e],K(t,e,n),r&&t!==z&&K(z,e,r)}:K,rt=function(t,e){var n=X[t]=v(W.prototype);return U(n,{type:"Symbol",tag:t,description:e}),a||(n.description=e),n},it=s&&"symbol"==typeof W.iterator?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof W},ot=function(t,e,n){t===z&&ot(V,e,n),d(t);var r=p(e,!0);return d(n),c(X,r)?(n.enumerable?(c(t,j)&&t[j][r]&&(t[j][r]=!1),n=v(n,{enumerable:g(0,!1)})):(c(t,j)||K(t,j,g(1,{})),t[j][r]=!0),nt(t,r,n)):K(t,r,n)},at=function(t,e){d(t);var n=h(e),r=y(n).concat(lt(n));return L(r,function(e){a&&!st.call(n,e)||ot(t,e,n[e])}),t},st=function(t){var e=p(t,!0),n=G.call(this,e);return!(this===z&&c(X,e)&&!c(V,e))&&(!(n||!c(this,e)||!c(X,e)||c(this,j)&&this[j][e])||n)},ut=function(t,e){var n=h(t),r=p(e,!0);if(n!==z||!c(X,r)||c(V,r)){var i=F(n,r);return!i||!c(X,r)||c(n,j)&&n[j][r]||(i.enumerable=!0),i}},ct=function(t){var e=Y(h(t)),n=[];return L(e,function(t){c(X,t)||c(C,t)||n.push(t)}),n},lt=function(t){var e=t===z,n=Y(e?V:h(t)),r=[];return L(n,function(t){!c(X,t)||e&&!c(z,t)||r.push(X[t])}),r};s||(T((W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=S(t),n=function(t){this===z&&n.call(V,t),c(this,j)&&c(this[j],e)&&(this[j][e]=!1),nt(this,e,g(1,t))};return a&&et&&nt(z,e,{configurable:!0,set:n}),rt(e,t)}).prototype,"toString",function(){return q(this).tag}),k.f=st,E.f=ot,w.f=ut,m.f=b.f=ct,x.f=lt,a&&(K(W.prototype,"description",{configurable:!0,get:function(){return q(this).description}}),o||T(z,"propertyIsEnumerable",st,{unsafe:!0})),P.f=function(t){return rt(D(t),t)}),r({global:!0,wrap:!0,forced:!s,sham:!s},{Symbol:W}),L(y(Q),function(t){I(t)}),r({target:"Symbol",stat:!0,forced:!s},{for:function(t){var e=String(t);if(c(J,e))return J[e];var n=W(e);return J[e]=n,Z[n]=e,n},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(c(Z,t))return Z[t]},useSetter:function(){et=!0},useSimple:function(){et=!1}}),r({target:"Object",stat:!0,forced:!s,sham:!a},{create:function(t,e){return void 0===e?v(t):at(v(t),e)},defineProperty:ot,defineProperties:at,getOwnPropertyDescriptor:ut}),r({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:ct,getOwnPropertySymbols:lt}),r({target:"Object",stat:!0,forced:u(function(){x.f(1)})},{getOwnPropertySymbols:function(t){return x.f(_(t))}}),$&&r({target:"JSON",stat:!0,forced:!s||u(function(){var t=W();return"[null]"!=H([t])||"{}"!=H({a:t})||"{}"!=H(Object(t))})},{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(f(e)||void 0!==t)&&!it(t))return l(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!it(e))return e}),r[1]=e,H.apply($,r)}}),W.prototype[B]||M(W.prototype,B,W.prototype.valueOf),N(W,"Symbol"),C[j]=!0},function(t,e,n){var r=n(69),i=n(72),o=n(17),a=n(14),s=n(86),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,l=4==t,f=6==t,d=5==t||f;return function(_,h,p,g){for(var v,y,m=o(_),b=i(m),x=r(h,p,3),w=a(b.length),E=0,k=g||s,M=e?k(_,w):n?k(_,0):void 0;w>E;E++)if((d||E in b)&&(y=x(v=b[E],E,m),t))if(e)M[E]=y;else if(y)switch(t){case 3:return!0;case 5:return v;case 6:return E;case 2:u.call(M,v)}else if(l)return!1;return f?-1:c||l?l:M}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},function(t,e,n){"use strict";var r=n(1),i=n(11),o=n(4),a=n(15),s=n(9),u=n(13).f,c=n(112),l=o.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};c(d,l);var _=d.prototype=l.prototype;_.constructor=d;var h=_.toString,p="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;u(_,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(a(f,t))return"";var n=p?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(t,e,n){n(44)("iterator")},function(t,e,n){"use strict";var r=n(89),i=n(108),o=n(8),a=n(26),s=n(65),u=n(100),c=n(14),l=n(91),f=n(90),d=n(3),_=[].push,h=Math.min,p=!d(function(){return!RegExp(4294967295,"y")});r("split",2,function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,o);for(var s,u,c,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,p=new RegExp(t.source,d+"g");(s=f.call(p,r))&&!((u=p.lastIndex)>h&&(l.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&_.apply(l,s.slice(1)),c=s[0].length,h=u,l.length>=o));)p.lastIndex===s.index&&p.lastIndex++;return h===r.length?!c&&p.test("")||l.push(""):l.push(r.slice(h)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=a(this),o=null==e?void 0:e[t];return void 0!==o?o.call(e,i,n):r.call(String(i),e,n)},function(t,i){var a=n(r,t,this,i,r!==e);if(a.done)return a.value;var f=o(t),d=String(this),_=s(f,RegExp),g=f.unicode,v=(f.ignoreCase?"i":"")+(f.multiline?"m":"")+(f.unicode?"u":"")+(p?"y":"g"),y=new _(p?f:"^(?:"+f.source+")",v),m=void 0===i?4294967295:i>>>0;if(0===m)return[];if(0===d.length)return null===l(y,d)?[d]:[];for(var b=0,x=0,w=[];x<d.length;){y.lastIndex=p?x:0;var E,k=l(y,p?d:d.slice(x));if(null===k||(E=h(c(y.lastIndex+(p?0:x)),d.length))===b)x=u(d,x,g);else{if(w.push(d.slice(b,x)),w.length===m)return w;for(var M=1;M<=k.length-1;M++)if(w.push(k[M]),w.length===m)return w;x=b=E}}return w.push(d.slice(b)),w}]},!p)},function(t,e,n){var r=n(1),i=n(146);r({global:!0,forced:parseInt!=i},{parseInt:i})},function(t,e,n){var r=n(11),i=n(94),o=n(49),a=n(27),s=n(45),u=n(15),c=n(110),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=a(t),e=s(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var r,i,o,a=n(132),s=n(4),u=n(9),c=n(19),l=n(15),f=n(73),d=n(68),_=s.WeakMap;if(a){var h=new _,p=h.get,g=h.has,v=h.set;r=function(t,e){return v.call(h,t,e),e},i=function(t){return p.call(h,t)||{}},o=function(t){return g.call(h,t)}}else{var y=f("state");d[y]=!0,r=function(t,e){return c(t,y,e),e},i=function(t){return l(t,y)?t[y]:{}},o=function(t){return l(t,y)}}t.exports={set:r,get:i,has:o,enforce:function(t){return o(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var r=n(89),i=n(8),o=n(17),a=n(14),s=n(40),u=n(26),c=n(100),l=n(91),f=Math.max,d=Math.min,_=Math.floor,h=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g;r("replace",2,function(t,e,n){return[function(n,r){var i=u(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,i,r):e.call(String(i),n,r)},function(t,o){var u=n(e,t,this,o);if(u.done)return u.value;var _=i(t),h=String(this),p="function"==typeof o;p||(o=String(o));var g=_.global;if(g){var v=_.unicode;_.lastIndex=0}for(var y=[];;){var m=l(_,h);if(null===m)break;if(y.push(m),!g)break;""===String(m[0])&&(_.lastIndex=c(h,a(_.lastIndex),v))}for(var b,x="",w=0,E=0;E<y.length;E++){m=y[E];for(var k=String(m[0]),M=f(d(s(m.index),h.length),0),T=[],A=1;A<m.length;A++)T.push(void 0===(b=m[A])?b:String(b));var O=m.groups;if(p){var C=[k].concat(T,M,h);void 0!==O&&C.push(O);var S=String(o.apply(void 0,C))}else S=r(k,h,M,T,O,o);M>=w&&(x+=h.slice(w,M)+S,w=M+k.length)}return x+h.slice(w)}];function r(t,n,r,i,a,s){var u=r+t.length,c=i.length,l=p;return void 0!==a&&(a=o(a),l=h),e.call(s,l,function(e,o){var s;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return n.slice(0,r);case"'":return n.slice(u);case"<":s=a[o.slice(1,-1)];break;default:var l=+o;if(0===l)return e;if(l>c){var f=_(l/10);return 0===f?e:f<=c?void 0===i[f-1]?o.charAt(1):i[f-1]+o.charAt(1):e}s=i[l-1]}return void 0===s?"":s})}})},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(75),i=n(15),o=n(117),a=n(13).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||a(e,t,{value:o.f(t)})}},function(t,e,n){var r=n(9);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=!1},function(t,e,n){var r=n(13).f,i=n(15),o=n(7)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,o)&&r(t,o,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){var n=[][t];return!n||!r(function(){n.call(null,e||function(){throw 1},1)})}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var r=n(15),i=n(17),o=n(73),a=n(120),s=o("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){"use strict";var r=n(1),i=n(56),o=n(40),a=n(14),s=n(17),u=n(86),c=n(70),l=n(87),f=Math.max,d=Math.min;r({target:"Array",proto:!0,forced:!l("splice")},{splice:function(t,e){var n,r,l,_,h,p,g=s(this),v=a(g.length),y=i(t,v),m=arguments.length;if(0===m?n=r=0:1===m?(n=0,r=v-y):(n=m-2,r=d(f(o(e),0),v-y)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(g,r),_=0;_<r;_++)(h=y+_)in g&&c(l,_,g[h]);if(l.length=r,n<r){for(_=y;_<v-r;_++)p=_+n,(h=_+r)in g?g[p]=g[h]:delete g[p];for(_=v;_>v-r+n;_--)delete g[_-1]}else if(n>r)for(_=v-r;_>y;_--)p=_+n-1,(h=_+r-1)in g?g[p]=g[h]:delete g[p];for(_=0;_<n;_++)g[_+y]=arguments[_+2];return g.length=v-r+n,l}})},function(t,e,n){var r=n(26),i=/"/g;t.exports=function(t,e,n,o){var a=String(r(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(o).replace(i,"&quot;")+'"'),s+">"+a+"</"+e+">"}},function(t,e,n){var r=n(3);t.exports=function(t){return r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3})}},function(t,e,n){var r=n(75),i=n(4),o=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?o(r[t])||o(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e,n){var r=n(114),i=n(96).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e,n){var r=n(40),i=Math.max,o=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):o(n,e)}},function(t,e,n){var r=n(8),i=n(116),o=n(96),a=n(68),s=n(133),u=n(104),c=n(73)("IE_PROTO"),l=function(){},f=function(){var t,e=u("iframe"),n=o.length;for(e.style.display="none",s.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),f=t.F;n--;)delete f.prototype[o[n]];return f()};t.exports=Object.create||function(t,e){var n;return null!==t?(l.prototype=r(t),n=new l,l.prototype=null,n[c]=t):n=f(),void 0===e?n:i(n,e)},a[c]=!0},function(t,e,n){var r=n(1),i=n(3),o=n(17),a=n(50),s=n(120);r({target:"Object",stat:!0,forced:i(function(){a(1)}),sham:!s},{getPrototypeOf:function(t){return a(o(t))}})},function(t,e,n){n(1)({target:"Object",stat:!0},{setPrototypeOf:n(77)})},function(t,e,n){"use strict";var r=n(1),i=n(33).filter;r({target:"Array",proto:!0,forced:!n(87)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),i=n(63),o=[].reverse,a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),o.call(this)}})},function(t,e,n){var r=n(4),i=n(95),o=n(46),a=r["__core-js_shared__"]||i("__core-js_shared__",{});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.2.1",mode:o?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(43);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(7),i=n(57),o=n(19),a=r("unscopables"),s=Array.prototype;null==s[a]&&o(s,a,i(null)),t.exports=function(t){s[a][t]=!0}},function(t,e,n){var r=n(8),i=n(41),o=n(7)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[o])?e:i(n)}},function(t,e,n){"use strict";var r=n(1),i=n(79).trim;r({target:"String",proto:!0,forced:n(161)("trim")},{trim:function(){return i(this)}})},function(t,e,n){"use strict";n.r(e),n.d(e,"enable_dynamic_form_elements",function(){return c}),n.d(e,"enable_select2_dropdowns",function(){return l}),n.d(e,"textinput_enter_submit",function(){return f});n(121),n(31);var r=n(20),i=n.n(r),o=(n(167),n(127)),a=n.n(o),s=n(0),u=n(2);function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;l(t),function(t){t||(t=document);t.querySelectorAll("input.labels").forEach(function(t){if(null===t.closest(".vlof_prototype")){var e,n=t.getAttribute("data-max-labels"),r=t.getAttribute("data-world"),o={pattern:/^[^:]+:[^:]+$/};null!==n&&(o.maxTags=n);var s=new a.a(t,o);s.on("invalid",function(e){var n;n="invalid"==e.type&&"number of tags exceeded"==e.detail.message?"Only one tag allowed":"Labels need to be in the format <tt>[KEY]:[VALUE]</tt>. For example <tt>os:windows</tt>.</div>",i()("div.label_error").remove();var r=document.createElement("div");r.classList.add("message","error","label_error"),r.innerHTML=n,t.parentNode.insertBefore(r,t.nextSibling)}),s.on("add",function(){i()("div.label_error").remove()}),s.on("input",function(t){i()("div.label_error").remove();var n=t.detail;s.settings.whitelist.length=0;var o="request="+encodeURIComponent(JSON.stringify({search_label:n,world:r}));e&&e.abort(),e=u.call_ajax("ajax_autocomplete_labels.py",{method:"POST",post_data:o,response_handler:function(t,e){var n=JSON.parse(e);0==n.result_code?(t.tagify.settings.whitelist=n.result,t.tagify.dropdown.show.call(t.tagify,t.value)):console.log("Error ["+n.result_code+"]: "+n.result)},handler_data:{value:n,tagify:s}})})}})}(t)}function l(t){t||(t=i()(document)),i()(t).find(".select2-enable").not(".vlof_prototype .select2-enable").select2({dropdownAutoWidth:!0,minimumResultsForSearch:5})}function f(t,e){if(t||(t=window.event),13==(t.which||t.keyCode)){if(e){var n=document.getElementById(e);n&&n.click()}return s.prevent_default_events(t)}}},function(t,e){t.exports={}},function(t,e,n){var r=n(41);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){"use strict";var r=n(45),i=n(13),o=n(49);t.exports=function(t,e,n){var a=r(e);a in t?i.f(t,a,o(0,n)):t[a]=n}},function(t,e,n){var r=n(11),i=n(4),o=n(84),a=n(124),s=n(13).f,u=n(55).f,c=n(108),l=n(78),f=n(23),d=n(3),_=n(88),h=n(7)("match"),p=i.RegExp,g=p.prototype,v=/a/g,y=/a/g,m=new p(v)!==v;if(r&&o("RegExp",!m||d(function(){return y[h]=!1,p(v)!=v||p(y)==y||"/a/i"!=p(v,"i")}))){for(var b=function(t,e){var n=this instanceof b,r=c(t),i=void 0===e;return!n&&r&&t.constructor===b&&i?t:a(m?new p(r&&!i?t.source:t,e):p((r=t instanceof b)?t.source:t,r&&i?l.call(t):e),n?this:g,b)},x=function(t){t in b||s(b,t,{configurable:!0,get:function(){return p[t]},set:function(e){p[t]=e}})},w=u(p),E=0;w.length>E;)x(w[E++]);g.constructor=b,b.prototype=g,f(i,"RegExp",b)}_("RegExp")},function(t,e,n){var r=n(3),i=n(43),o="".split;t.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==i(t)?o.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(62),i=n(74),o=r("keys");t.exports=function(t){return o[t]||(o[t]=i(t))}},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){t.exports=n(4)},function(t,e){t.exports={}},function(t,e,n){var r=n(8),i=n(138);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,o){return r(n),i(o),e?t.call(n,o):n.__proto__=o,n}}():void 0)},function(t,e,n){"use strict";var r=n(8);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){var r=n(26),i="["+n(92)+"]",o=RegExp("^"+i+i+"*"),a=RegExp(i+i+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(o,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e,n){"use strict";var r=n(1),i=n(4),o=n(11),a=n(166),s=n(16),u=n(151),c=n(93),l=n(49),f=n(19),d=n(14),_=n(196),h=n(198),p=n(45),g=n(15),v=n(98),y=n(9),m=n(57),b=n(77),x=n(55).f,w=n(199),E=n(33).forEach,k=n(88),M=n(13),T=n(38),A=n(39),O=A.get,C=A.set,S=M.f,D=T.f,P=Math.round,I=i.RangeError,N=u.ArrayBuffer,R=u.DataView,L=s.NATIVE_ARRAY_BUFFER_VIEWS,j=s.TYPED_ARRAY_TAG,B=s.TypedArray,U=s.TypedArrayPrototype,q=s.aTypedArrayConstructor,z=s.isTypedArray,W=function(t,e){for(var n=0,r=e.length,i=new(q(t))(r);r>n;)i[n]=e[n++];return i},$=function(t,e){S(t,e,{get:function(){return O(this)[e]}})},H=function(t){var e;return t instanceof N||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},F=function(t,e){return z(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},K=function(t,e){return F(t,e=p(e,!0))?l(2,t[e]):D(t,e)},Y=function(t,e,n){return!(F(t,e=p(e,!0))&&y(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?S(t,e,n):(t[e]=n.value,t)};o?(L||(T.f=K,M.f=Y,$(U,"buffer"),$(U,"byteOffset"),$(U,"byteLength"),$(U,"length")),r({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:K,defineProperty:Y}),t.exports=function(t,e,n,o){var s=t+(o?"Clamped":"")+"Array",u="get"+t,l="set"+t,p=i[s],g=p,v=g&&g.prototype,M={},T=function(t,n){S(t,n,{get:function(){return function(t,n){var r=O(t);return r.view[u](n*e+r.byteOffset,!0)}(this,n)},set:function(t){return function(t,n,r){var i=O(t);o&&(r=(r=P(r))<0?0:r>255?255:255&r),i.view[l](n*e+i.byteOffset,r,!0)}(this,n,t)},enumerable:!0})};L?a&&(g=n(function(t,n,r,i){return c(t,g,s),y(n)?H(n)?void 0!==i?new p(n,h(r,e),i):void 0!==r?new p(n,h(r,e)):new p(n):z(n)?W(g,n):w.call(g,n):new p(_(n))}),b&&b(g,B),E(x(p),function(t){t in g||f(g,t,p[t])}),g.prototype=v):(g=n(function(t,n,r,i){c(t,g,s);var o,a,u,l=0,f=0;if(y(n)){if(!H(n))return z(n)?W(g,n):w.call(g,n);o=n,f=h(r,e);var p=n.byteLength;if(void 0===i){if(p%e)throw I("Wrong length");if((a=p-f)<0)throw I("Wrong length")}else if((a=d(i)*e)+f>p)throw I("Wrong length");u=a/e}else u=_(n),o=new N(a=u*e);for(C(t,{buffer:o,byteOffset:f,byteLength:a,length:u,view:new R(o)});l<u;)T(t,l++)}),b&&b(g,B),v=g.prototype=m(U)),v.constructor!==g&&f(v,"constructor",g),j&&f(v,j,s),M[s]=g,r({global:!0,forced:g!=p,sham:!L},M),"BYTES_PER_ELEMENT"in g||f(g,"BYTES_PER_ELEMENT",e),"BYTES_PER_ELEMENT"in v||f(v,"BYTES_PER_ELEMENT",e),k(s)}):t.exports=function(){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"close_popup",function(){return close_popup}),__webpack_require__.d(__webpack_exports__,"toggle_popup",function(){return toggle_popup}),__webpack_require__.d(__webpack_exports__,"add_to_visual",function(){return add_to_visual}),__webpack_require__.d(__webpack_exports__,"pagetype_add_to_container",function(){return pagetype_add_to_container}),__webpack_require__.d(__webpack_exports__,"graph_export",function(){return graph_export});var core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(36),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_0__),utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),ajax__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),popup_data=null,popup_id=null;function close_popup(){del_event_handler("click",handle_popup_close);var menu=document.getElementById("popup_menu");menu&&menu.parentNode.removeChild(menu),popup_id=null,on_popup_close&&eval(on_popup_close)}function del_event_handler(t,e,n){(n=void 0===n?window:n).removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent?n.detachEvent("on"+t,e):n["on"+t]=null}function handle_popup_close(t){for(var e=utils__WEBPACK_IMPORTED_MODULE_1__.get_target(t);e&&"popup_menu"!=e.id&&!utils__WEBPACK_IMPORTED_MODULE_1__.has_class(e,"popup_trigger");)e=e.parentNode;if(e)return!0;close_popup()}var on_popup_close=null;function toggle_popup(t,e,n,r,i,o,a,s,u){on_popup_close=s,t||(t=window.event);var c=e.parentNode;if(popup_id){if(popup_id===n)return void close_popup();close_popup()}popup_id=n,utils__WEBPACK_IMPORTED_MODULE_1__.add_event_handler("click",handle_popup_close);var l=document.createElement("div");l.setAttribute("id","popup_menu"),l.className="popup_menu",u&&utils__WEBPACK_IMPORTED_MODULE_1__.add_class(l,"resizable"),c.appendChild(l),fix_popup_menu_position(t,l);var f=document.createElement("div");f.className="wrapper",l.appendChild(f);var d=document.createElement("div");if(d.className="content",f.appendChild(d),u){var _=document.createElement("div");_.className="resizer",f.appendChild(_)}r?(popup_data=i,d.innerHTML='<img src="themes/facelift/images/icon_reload.png" class="icon reloading">',o=o?"?"+o:"",ajax__WEBPACK_IMPORTED_MODULE_2__.get_url("ajax_popup_"+r+".py"+o,handle_render_popup_contents,{ident:n,content:d,event:t})):(d.innerHTML=a,utils__WEBPACK_IMPORTED_MODULE_1__.execute_javascript_by_object(d))}function handle_render_popup_contents(t,e){t.content&&(t.content.innerHTML=e,fix_popup_menu_position(t.event,t.content))}function fix_popup_menu_position(t,e){var n=e.getBoundingClientRect();if(n.bottom>(window.innerHeight||document.documentElement.clientHeight)){var r=n.bottom-n.top;n.top-r<0?(e.style.top="-"+(n.top-15)+"px",e.style.bottom="auto"):(e.style.top="auto",e.style.bottom="15px")}if(n.right>(window.innerWidth||document.documentElement.clientWidth)){var i=n.right-n.left;n.left-i<0?(e.style.left="-"+(n.left-15)+"px",e.style.right="auto"):(e.style.left="auto",e.style.right="15px")}}function add_to_visual(t,e){var n=popup_data[0],r={context:popup_data[1],params:popup_data[2]},i=JSON.stringify(r);close_popup(),popup_data=null;var o="ajax_add_visual.py?visual_type="+t+"&visual_name="+e+"&type="+n;ajax__WEBPACK_IMPORTED_MODULE_2__.call_ajax(o,{method:"POST",post_data:"create_info="+encodeURIComponent(i),plain_error:!0,response_handler:function(t,e){"OK"==e.substr(0,2)?window.location.href=e.substr(3):alert("Failed to add element: "+e)}})}function pagetype_add_to_container(t,e){var n=popup_data[0],r={context:popup_data[1],parameters:popup_data[2]},i=JSON.stringify(r);close_popup(),popup_data=null;var o="ajax_pagetype_add_element.py?page_type="+t+"&page_name="+e+"&element_type="+n;ajax__WEBPACK_IMPORTED_MODULE_2__.call_ajax(o,{method:"POST",post_data:"create_info="+encodeURIComponent(i),response_handler:function(t,e){if(e){var n=e.split("\n");"true"==n[1]&&utils__WEBPACK_IMPORTED_MODULE_1__.reload_sidebar(),n[0]&&(window.location.href=n[0])}}})}function graph_export(t){var e={specification:popup_data[2].definition.specification,data_range:popup_data[2].data_range};location.href=t+".py?request="+encodeURIComponent(JSON.stringify(e))}},function(t,e,n){"use strict";n.r(e),n.d(e,"is_selection_enabled",function(){return u}),n.d(e,"set_selection_enabled",function(){return c}),n.d(e,"get_selection_id",function(){return l}),n.d(e,"init_rowselect",function(){return f}),n.d(e,"toggle_all_rows",function(){return x}),n.d(e,"toggle_group_rows",function(){return w}),n.d(e,"update_bulk_moveto",function(){return E});n(32),n(34),n(35),n(21),n(18),n(22),n(51),n(28),n(12),n(37),n(29),n(36),n(25);var r=n(0),i=n(2);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a={page_id:null,selection_id:null,selected_rows:[]},s=!1;function u(){return s}function c(t){s=t}function l(){return a.selection_id}function f(t){a=t;for(var e=document.getElementsByClassName("data"),n=0;n<e.length;n++)"TABLE"===e[n].tagName&&d(e[n])}function d(t){for(var e=_(t),n=0;n<e.length;n++)a.selected_rows.indexOf(e[n].name)>-1?e[n].checked=!0:e[n].checked=!1,e[n].onchange=function(t){h(t,this)},p(e[n],function(t){t.onmouseover=function(){return g(this,!0)},t.onmouseout=function(){return g(this,!1)},t.onclick=function(t){return y(t,this)},t=null});e=null,b()}function _(t){var e,n,r=[];if("object"===o(t)&&t.length&&!t.tagName)for(n=0;n<t.length;n++){e=t[n].getElementsByTagName("input");for(var i=0;i<e.length;i++)"checkbox"==e[i].type&&r.push(e[i])}else for(e=t.getElementsByTagName("input"),n=0;n<e.length;n++)"checkbox"==e[n].type&&r.push(e[n]);return r}function h(t,e){var n=a.selected_rows.indexOf(e.name);n>-1?(a.selected_rows.splice(n,1),m("del",[e.name])):(a.selected_rows.push(e.name),m("add",[e.name])),b()}function p(t,e){for(var n=parseInt(t.value),r=t.parentNode,i=r.parentNode.children,o=!1,a=0;a<i.length&&n>0;a++){if(!1===o){if(i[a]!=r)continue;o=!0}"TD"==i[a].tagName&&(e(i[a]),n--)}}function g(t,e){var n=v(t);return null!==n&&p(n,function(t){!function(t,e){e?r.add_class(t,"checkbox_hover"):r.remove_class(t,"checkbox_hover")}(t,e)}),!1}function v(t){for(var e=t.parentNode.children,n=!1,r=null,i=e.length-1;i>=0&&null===r;i--){if(!1===n){if(e[i]!=t)continue;n=!0}for(var o=e[i].children,a=0;a<o.length;a++)if("INPUT"===o[a].tagName&&"checkbox"==o[a].type){r=o[a];break}}return r}function y(t,e){t||(t=window.event);var n=r.get_target(t);if("TD"!=n.tagName&&"LABEL"!=n.tagName)return!0;var i=v(e);if(null!==i){var o=a.selected_rows.indexOf(i.name);return o>-1?(i.checked=!1,a.selected_rows.splice(o,1),m("del",[i.name])):(i.checked=!0,a.selected_rows.push(i.name),m("add",[i.name])),b(),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,t.preventDefault?t.preventDefault():t.returnValue=!1,!1}}function m(t,e){i.post_url("ajax_set_rowselection.py","id="+a.page_id+"&selection="+a.selection_id+"&action="+t+"&rows="+e.join(","))}function b(){var t=a.selected_rows.length,e=document.getElementById("headinfo");if(e){var n=e.innerHTML;if(-1!=n.indexOf("/")){var r=n.split("/");n=r[1]}e.innerHTML=t+"/"+n}}function x(t){for(var e=_(t||document),n=!0,r=!0,i=!1,o=0;o<e.length;o++)-1===a.selected_rows.indexOf(e[o].name)?n=!1:r=!1,e[o].classList&&e[o].classList.contains("failed")&&(i=!0);n?function(t){m("del",a.selected_rows);for(var e=0;e<t.length;e++){t[e].checked=!1;var n=a.selected_rows.indexOf(t[e].name);n>-1&&a.selected_rows.splice(n,1)}b()}(e):function(t,e){void 0===e&&(e=!1);for(var n=0;n<t.length;n++)e&&!t[n].classList.contains("failed")||(t[n].checked=!0,-1===a.selected_rows.indexOf(t[n].name)&&a.selected_rows.push(t[n].name));b(),m("add",a.selected_rows)}(e,i&&r)}function w(t){for(var e=t.parentNode.parentNode,n=e.parentNode.children,r=!1,i=null,o=null,a=0;a<n.length;a++)if("TR"===n[a].tagName)if(r){if("groupheader"===n[a].className){o=a;break}}else"groupheader"===n[a].className&&(i=a+1),n[a]===e&&(r=!0);null===i&&(i=0),null===o&&(o=n.length);for(var s=[],u=i;u<o;u++)"TR"===n[u].tagName&&s.push(n[u]);x(s)}function E(t){for(var e=document.getElementsByClassName("bulk_moveto"),n=0;n<e.length;n++)for(var r=0;r<e[n].options.length;r++)e[n].options[r].value==t&&(e[n].options[r].selected=!0)}},function(t,e,n){var r=n(27),i=n(14),o=n(56),a=function(t){return function(e,n,a){var s,u=r(e),c=i(u.length),l=o(a,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r=n(3),i=/#|\.prototype\./,o=function(t,e){var n=s[a(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},a=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},function(t,e,n){var r=n(114),i=n(96);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(9),i=n(63),o=n(7)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[o])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(3),i=n(7)("species");t.exports=function(t){return!r(function(){var e=[];return(e.constructor={})[i]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},function(t,e,n){"use strict";var r=n(54),i=n(13),o=n(7),a=n(11),s=o("species");t.exports=function(t){var e=r(t),n=i.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){"use strict";var r=n(19),i=n(23),o=n(3),a=n(7),s=n(90),u=a("species"),c=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),l=!o(function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});t.exports=function(t,e,n,f){var d=a(t),_=!o(function(){var e={};return e[d]=function(){return 7},7!=""[t](e)}),h=_&&!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[u]=function(){return n}),n[d](""),!e});if(!_||!h||"replace"===t&&!c||"split"===t&&!l){var p=/./[d],g=n(d,""[t],function(t,e,n,r,i){return e.exec===s?_&&!i?{done:!0,value:p.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),v=g[0],y=g[1];i(String.prototype,t,v),i(RegExp.prototype,d,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)}),f&&r(RegExp.prototype[d],"sham",!0)}}},function(t,e,n){"use strict";var r,i,o=n(78),a=RegExp.prototype.exec,s=String.prototype.replace,u=a,c=(r=/a/,i=/b*/g,a.call(r,"a"),a.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),l=void 0!==/()??/.exec("")[1];(c||l)&&(u=function(t){var e,n,r,i,u=this;return l&&(n=new RegExp("^"+u.source+"$(?!\\s)",o.call(u))),c&&(e=u.lastIndex),r=a.call(u,t),c&&r&&(u.lastIndex=u.global?r.index+r[0].length:e),l&&r&&r.length>1&&s.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),t.exports=u},function(t,e,n){var r=n(43),i=n(90);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);e.f=o?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(4),i=n(19);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(68),i=n(9),o=n(15),a=n(13).f,s=n(74),u=n(118),c=s("meta"),l=0,f=Object.isExtensible||function(){return!0},d=function(t){a(t,c,{value:{objectID:"O"+ ++l,weakData:{}}})},_=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,c)){if(!f(t))return"F";if(!e)return"E";d(t)}return t[c].objectID},getWeakData:function(t,e){if(!o(t,c)){if(!f(t))return!0;if(!e)return!1;d(t)}return t[c].weakData},onFreeze:function(t){return u&&_.REQUIRED&&f(t)&&!o(t,c)&&d(t),t}};r[c]=!0},function(t,e,n){var r=n(43),i=n(7)("toStringTag"),o="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:o?r(e):"Object"==(a=r(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var r=n(40),i=n(26),o=function(t){return function(e,n){var o,a,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},function(t,e,n){"use strict";var r=n(99).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){"use strict";var r,i,o,a,s=n(1),u=n(46),c=n(4),l=n(75),f=n(189),d=n(23),_=n(109),h=n(47),p=n(88),g=n(9),v=n(41),y=n(93),m=n(43),b=n(106),x=n(140),w=n(65),E=n(164).set,k=n(190),M=n(191),T=n(342),A=n(165),O=n(192),C=n(144),S=n(39),D=n(84),P=n(7)("species"),I="Promise",N=S.get,R=S.set,L=S.getterFor(I),j=f,B=c.TypeError,U=c.document,q=c.process,z=c.fetch,W=q&&q.versions,$=W&&W.v8||"",H=A.f,F=H,K="process"==m(q),Y=!!(U&&U.createEvent&&c.dispatchEvent),G=D(I,function(){var t=j.resolve(1),e=function(){},n=(t.constructor={})[P]=function(t){t(e,e)};return!((K||"function"==typeof PromiseRejectionEvent)&&(!u||t.finally)&&t.then(e)instanceof n&&0!==$.indexOf("6.6")&&-1===C.indexOf("Chrome/66"))}),X=G||!x(function(t){j.all(t).catch(function(){})}),V=function(t){var e;return!(!g(t)||"function"!=typeof(e=t.then))&&e},J=function(t,e,n){if(!e.notified){e.notified=!0;var r=e.reactions;k(function(){for(var i=e.value,o=1==e.state,a=0;r.length>a;){var s,u,c,l=r[a++],f=o?l.ok:l.fail,d=l.resolve,_=l.reject,h=l.domain;try{f?(o||(2===e.rejection&&et(t,e),e.rejection=1),!0===f?s=i:(h&&h.enter(),s=f(i),h&&(h.exit(),c=!0)),s===l.promise?_(B("Promise-chain cycle")):(u=V(s))?u.call(s,d,_):d(s)):_(i)}catch(t){h&&!c&&h.exit(),_(t)}}e.reactions=[],e.notified=!1,n&&!e.rejection&&Q(t,e)})}},Z=function(t,e,n){var r,i;Y?((r=U.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},(i=c["on"+t])?i(r):"unhandledrejection"===t&&T("Unhandled promise rejection",n)},Q=function(t,e){E.call(c,function(){var n,r=e.value;if(tt(e)&&(n=O(function(){K?q.emit("unhandledRejection",r,t):Z("unhandledrejection",t,r)}),e.rejection=K||tt(e)?2:1,n.error))throw n.value})},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t,e){E.call(c,function(){K?q.emit("rejectionHandled",t):Z("rejectionhandled",t,e.value)})},nt=function(t,e,n,r){return function(i){t(e,n,i,r)}},rt=function(t,e,n,r){e.done||(e.done=!0,r&&(e=r),e.value=n,e.state=2,J(t,e,!0))},it=function(t,e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(t===n)throw B("Promise can't be resolved itself");var i=V(n);i?k(function(){var r={done:!1};try{i.call(n,nt(it,t,r,e),nt(rt,t,r,e))}catch(n){rt(t,r,n,e)}}):(e.value=n,e.state=1,J(t,e,!1))}catch(n){rt(t,{done:!1},n,e)}}};G&&(j=function(t){y(this,j,I),v(t),r.call(this);var e=N(this);try{t(nt(it,this,e),nt(rt,this,e))}catch(t){rt(this,e,t)}},(r=function(t){R(this,{type:I,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=_(j.prototype,{then:function(t,e){var n=L(this),r=H(w(this,j));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=K?q.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&J(this,n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=N(t);this.promise=t,this.resolve=nt(it,t,e),this.reject=nt(rt,t,e)},A.f=H=function(t){return t===j||t===o?new i(t):F(t)},u||"function"!=typeof f||(a=f.prototype.then,d(f.prototype,"then",function(t,e){var n=this;return new j(function(t,e){a.call(n,t,e)}).then(t,e)}),"function"==typeof z&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return M(j,z.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:G},{Promise:j}),h(j,I,!1,!0),p(I),o=l.Promise,s({target:I,stat:!0,forced:G},{reject:function(t){var e=H(this);return e.reject.call(void 0,t),e.promise}}),s({target:I,stat:!0,forced:u||G},{resolve:function(t){return M(u&&this===o?j:this,t)}}),s({target:I,stat:!0,forced:X},{all:function(t){var e=this,n=H(e),r=n.resolve,i=n.reject,o=O(function(){var n=v(e.resolve),o=[],a=0,s=1;b(t,function(t){var u=a++,c=!1;o.push(void 0),s++,n.call(e,t).then(function(t){c||(c=!0,o[u]=t,--s||r(o))},i)}),--s||r(o)});return o.error&&i(o.value),n.promise},race:function(t){var e=this,n=H(e),r=n.reject,i=O(function(){var i=v(e.resolve);b(t,function(t){i.call(e,t).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}})},function(t,e,n){"use strict";n.r(e),n.d(e,"toggle",function(){return o}),n.d(e,"persist_tree_state",function(){return a});var r=n(0),i=n(2);function o(t,e,n){var o=document.getElementById("treeimg."+t+"."+e),s=document.getElementById("tree."+t+"."+e);!function(t,e,n,o){var s;r.has_class(n,"closed")?(r.change_class(n,"closed","open"),o&&!n.innerHTML&&i.call_ajax(o,{method:"GET",response_handler:function(t,e){t.container.innerHTML=e},handler_data:{container:n}}),s="on"):(r.change_class(n,"open","closed"),s="off");a(t,e,s)}(t,e,s,n),o&&r.toggle_folding(o,!r.has_class(s,"closed"))}function a(t,e,n){i.get_url("tree_openclose.py?tree="+encodeURIComponent(t)+"&name="+encodeURIComponent(e)+"&state="+n)}},function(t,e,n){"use strict";n.r(e),n.d(e,"hide",function(){return o}),n.d(e,"show",function(){return a}),n.d(e,"add",function(){return s}),n.d(e,"update_content",function(){return u}),n.d(e,"update_position",function(){return c});n(37),n(42);var r=n(0),i=null;function o(){if(i){var t=i;i=null,t.parentNode.removeChild(t)}}function a(t,e){t=t||window.event,s(),u(e),c(t)}function s(){i||((i=document.createElement("div")).setAttribute("id","hover_menu"),document.body.appendChild(i))}function u(t){i&&(i.innerHTML=t,r.execute_javascript_by_object(i))}function c(t){if(i){var e=document.body.scrollTop?document.body.scrollTop:document.documentElement.scrollTop,n=document.body.scrollLeft?document.body.scrollLeft:document.documentElement.scrollLeft,o=t.clientX,a=t.clientY;i.style.display="block",i.style.left=o+5+n+"px",i.style.top=a+5+e+"px";var s=!0;l(i,5)||(s=!1),s||(i.style.left=o-5-i.clientWidth+"px",l(i,5)&&(s=!0)),l(i,5)||(i.style.left=5+n+"px",i.style.width=r.page_width()-10+"px");var u=parseInt(i.style.top.replace("px",""));u+i.clientHeight>r.page_height()&&u-i.clientHeight>=0&&(i.style.top=u-i.clientHeight-5+"px")}}function l(t,e){var n=parseInt(t.style.left.replace("px","")),i=document.body.scrollLeft?document.body.scrollLeft:document.documentElement.scrollLeft;return!(n+t.clientWidth>=r.page_width()-i)&&!(n-e<0)}},function(t,e,n){var r=n(4),i=n(9),o=r.document,a=i(o)&&i(o.createElement);t.exports=function(t){return a?o.createElement(t):{}}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(8),i=n(153),o=n(14),a=n(69),s=n(119),u=n(172),c=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,e,n,l,f){var d,_,h,p,g,v,y=a(e,n,l?2:1);if(f)d=t;else{if("function"!=typeof(_=s(t)))throw TypeError("Target is not iterable");if(i(_)){for(h=0,p=o(t.length);p>h;h++)if((g=l?y(r(v=t[h])[0],v[1]):y(t[h]))&&g instanceof c)return g;return new c(!1)}d=_.call(t)}for(;!(v=d.next()).done;)if((g=u(d,y,v.value,l))&&g instanceof c)return g;return new c(!1)}).stop=function(t){return new c(!0,t)}},function(t,e,n){"use strict";var r=n(1),i=n(122),o=n(50),a=n(77),s=n(47),u=n(19),c=n(23),l=n(7),f=n(46),d=n(76),_=n(123),h=_.IteratorPrototype,p=_.BUGGY_SAFARI_ITERATORS,g=l("iterator"),v=function(){return this};t.exports=function(t,e,n,l,_,y,m){i(n,e,l);var b,x,w,E=function(t){if(t===_&&O)return O;if(!p&&t in T)return T[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},k=e+" Iterator",M=!1,T=t.prototype,A=T[g]||T["@@iterator"]||_&&T[_],O=!p&&A||E(_),C="Array"==e&&T.entries||A;if(C&&(b=o(C.call(new t)),h!==Object.prototype&&b.next&&(f||o(b)===h||(a?a(b,h):"function"!=typeof b[g]&&u(b,g,v)),s(b,k,!0,!0),f&&(d[k]=v))),"values"==_&&A&&"values"!==A.name&&(M=!0,O=function(){return A.call(this)}),f&&!m||T[g]===O||u(T,g,O),d[e]=O,_)if(x={values:E("values"),keys:y?O:E("keys"),entries:E("entries")},m)for(w in x)!p&&!M&&w in T||c(T,w,x[w]);else r({target:e,proto:!0,forced:p||M},x);return x}},function(t,e,n){var r=n(9),i=n(43),o=n(7)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==i(t))}},function(t,e,n){var r=n(23);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(11),i=n(3),o=n(104);t.exports=!r&&!i(function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var r=n(62);t.exports=r("native-function-to-string",Function.toString)},function(t,e,n){var r=n(15),i=n(113),o=n(38),a=n(13);t.exports=function(t,e){for(var n=i(e),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||s(t,l,u(e,l))}}},function(t,e,n){var r=n(54),i=n(55),o=n(105),a=n(8);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(a(t)),n=o.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(15),i=n(27),o=n(83).indexOf,a=n(68);t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},function(t,e,n){var r=n(3);t.exports=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())})},function(t,e,n){var r=n(11),i=n(13),o=n(8),a=n(85);t.exports=r?Object.defineProperties:function(t,e){o(t);for(var n,r=a(e),s=r.length,u=0;s>u;)i.f(t,n=r[u++],e[n]);return t}},function(t,e,n){e.f=n(7)},function(t,e,n){var r=n(3);t.exports=!r(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(t,e,n){var r=n(98),i=n(76),o=n(7)("iterator");t.exports=function(t){if(null!=t)return t[o]||t["@@iterator"]||i[r(t)]}},function(t,e,n){var r=n(3);t.exports=!r(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},function(t,e,n){"use strict";var r=n(1),i=n(33).find,o=n(64),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),r({target:"Array",proto:!0,forced:a},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("find")},function(t,e,n){"use strict";var r=n(123).IteratorPrototype,i=n(57),o=n(49),a=n(47),s=n(76),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:o(1,n)}),a(t,c,!1,!0),s[c]=u,t}},function(t,e,n){"use strict";var r,i,o,a=n(50),s=n(19),u=n(15),c=n(7),l=n(46),f=c("iterator"),d=!1;[].keys&&("next"in(o=[].keys())?(i=a(a(o)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),l||u(r,f)||s(r,f,function(){return this}),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(t,e,n){var r=n(9),i=n(77);t.exports=function(t,e,n){var o,a;return i&&"function"==typeof(o=e.constructor)&&o!==n&&r(a=o.prototype)&&a!==n.prototype&&i(t,a),t}},function(t,e,n){var r=n(1),i=n(147);r({global:!0,forced:parseFloat!=i},{parseFloat:i})},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r,i,o;i=[],void 0===(o="function"==typeof(r=function(){"use strict";function t(t,e){if(!t)return console.warn("Tagify: ","invalid input element ",t),this;this.applySettings(t,e),this.state={},this.value=[],this.listeners={},this.DOM={},this.extend(this,new this.EventDispatcher(this)),this.build(t),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),t.autofocus&&this.DOM.input.focus()}return t.prototype={isIE:window.document.documentMode,TEXTS:{empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},DEFAULTS:{delimiters:",",pattern:null,maxTags:1/0,callbacks:{},addTagOnBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,keepInvalidTags:!1,autoComplete:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,backspace:!0,dropdown:{classname:"",enabled:2,maxItems:10,itemTemplate:"",fuzzySearch:!0}},customEventsList:["click","add","remove","invalid","input","edit"],applySettings:function(t,e){var n=t.getAttribute("data-whitelist"),r=t.getAttribute("data-blacklist");if(this.settings=this.extend({},this.DEFAULTS,e),this.settings.readonly=t.hasAttribute("readonly"),this.isIE&&(this.settings.autoComplete=!1),r&&(r=r.split(this.settings.delimiters))instanceof Array&&(this.settings.blacklist=r),n&&(n=n.split(this.settings.delimiters))instanceof Array&&(this.settings.whitelist=n),t.pattern)try{this.settings.pattern=new RegExp(t.pattern)}catch(t){}if(this.settings&&this.settings.delimiters)try{this.settings.delimiters=new RegExp("["+this.settings.delimiters+"]","g")}catch(t){}},parseHTML:function(t){return(new DOMParser).parseFromString(t.trim(),"text/html").body.firstElementChild},escapeHtml:function(t){var e=document.createTextNode(t),n=document.createElement("p");return n.appendChild(e),n.innerHTML},build:function(t){var e=this.DOM,n='<tags class="tagify '+(this.settings.mode?"tagify--mix":"")+" "+t.className+'" '+(this.settings.readonly?"readonly":"")+'>\n                            <span contenteditable data-placeholder="'+(t.placeholder||"&#8203;")+'" class="tagify__input"></span>\n                        </tags>';e.originalInput=t,e.scope=this.parseHTML(n),e.input=e.scope.querySelector("[contenteditable]"),t.parentNode.insertBefore(e.scope,t),0<=this.settings.dropdown.enabled&&this.dropdown.init.call(this)},destroy:function(){this.DOM.scope.parentNode.removeChild(this.DOM.scope)},loadOriginalValues:function(){var t=this.DOM.originalInput.value;if(t){try{t=JSON.parse(t)}catch(t){}"mix"==this.settings.mode?this.parseMixTags(t):this.addTags(t).forEach(function(t){t&&t.classList.add("tagify--noAnim")})}},extend:function(t,e,n){function r(t){var e=Object.prototype.toString.call(t).split(" ")[1].slice(0,-1);return t===Object(t)&&"Array"!=e&&"Function"!=e&&"RegExp"!=e&&"HTMLUnknownElement"!=e}function i(t,e){for(var n in e)e.hasOwnProperty(n)&&(r(e[n])?r(t[n])?i(t[n],e[n]):t[n]=Object.assign({},e[n]):t[n]=e[n])}return t instanceof Object||(t={}),i(t,e),n&&i(t,n),t},EventDispatcher:function(t){var e=document.createTextNode("");this.off=function(t,n){return n&&e.removeEventListener.call(e,t,n),this},this.on=function(t,n){return n&&e.addEventListener.call(e,t,n),this},this.trigger=function(n,r){var i;if(n)if(t.settings.isJQueryPlugin)$(t.DOM.originalInput).triggerHandler(n,[r]);else{try{i=new CustomEvent(n,{detail:r})}catch(n){console.warn(n)}e.dispatchEvent(i)}}},events:{customBinding:function(){var t=this;this.customEventsList.forEach(function(e){t.on(e,t.settings.callbacks[e])})},binding:function(){var t,e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],n=this.events.callbacks,r=e?"addEventListener":"removeEventListener";for(var i in e&&!this.listeners.main&&(this.DOM.input.addEventListener(this.isIE?"keydown":"input",n[this.isIE?"onInputIE":"onInput"].bind(this)),this.settings.isJQueryPlugin&&$(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),t=this.listeners.main=this.listeners.main||{paste:["input",n.onPaste.bind(this)],focus:["input",n.onFocusBlur.bind(this)],blur:["input",n.onFocusBlur.bind(this)],keydown:["input",n.onKeydown.bind(this)],click:["scope",n.onClickScope.bind(this)],dblclick:["scope",n.onDoubleClickScope.bind(this)]})this.DOM[t[i][0]][r](i,t[i][1])},callbacks:{onFocusBlur:function(t){var e=t.target.textContent.trim();"mix"!=this.settings.mode&&("focus"==t.type?(this.DOM.scope.classList.add("tagify--focus"),0===this.settings.dropdown.enabled&&this.dropdown.show.call(this)):"blur"==t.type?(this.DOM.scope.classList.remove("tagify--focus"),e&&this.settings.addTagOnBlur&&this.addTags(e,!0).length):(this.DOM.input.removeAttribute("style"),this.dropdown.hide.call(this)))},onKeydown:function(t){var e,n,r=this,i=t.target.textContent;if("mix"==this.settings.mode){switch(t.key){case"Backspace":var o=[];n=this.DOM.input.children,setTimeout(function(){[].forEach.call(n,function(t){return o.push(t.getAttribute("value"))}),r.value=r.value.filter(function(t){return-1!=o.indexOf(t.value)})},20);break;case"Enter":t.preventDefault()}return!0}switch(t.key){case"Backspace":""!=i&&8203!=i.charCodeAt(0)||(e=(e=this.DOM.scope.querySelectorAll("tag:not(.tagify--hide):not([readonly])"))[e.length-1],!0===this.settings.backspace?this.removeTag(e):"edit"==this.settings.backspace&&this.editTag(e));break;case"Esc":case"Escape":this.input.set.call(this),t.target.blur();break;case"ArrowRight":case"Tab":if(!i)return!0;case"Enter":t.preventDefault(),this.addTags(this.input.value,!0)}},onInput:function(t){var e=this.input.normalize.call(this),n=e.length>=this.settings.dropdown.enabled;if("mix"==this.settings.mode)return this.events.callbacks.onMixTagsInput.call(this,t);e?this.input.value!=e&&(this.input.set.call(this,e,!1),this.trigger("input",e),-1!=e.search(this.settings.delimiters)?this.addTags(e).length&&this.input.set.call(this):0<=this.settings.dropdown.enabled&&this.dropdown[n?"show":"hide"].call(this,e)):this.input.set.call(this,"")},onMixTagsInput:function(t){var e,n,r,i,o;if(this.maxTagsReached())return!0;window.getSelection&&0<(e=window.getSelection()).rangeCount&&((n=e.getRangeAt(0).cloneRange()).collapse(!0),n.setStart(window.getSelection().focusNode,0),(i=(r=n.toString().split(this.settings.mixTagsAllowedAfter))[r.length-1].match(this.settings.pattern))&&(this.state.tag={prefix:i[0],value:i.input.split(i[0])[1]},i=this.state.tag,o=this.state.tag.value.length>=this.settings.dropdown.enabled)),this.update(),this.trigger("input",this.extend({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[o?"show":"hide"].call(this,this.state.tag.value)},onInputIE:function(t){var e=this;setTimeout(function(){e.events.callbacks.onInput.call(e,t)})},onPaste:function(t){},onClickScope:function(t){var e,n=t.target.closest("tag");"TAGS"==t.target.tagName?this.DOM.input.focus():"X"==t.target.tagName?this.removeTag(t.target.parentNode):n&&(e=this.getNodeIndex(n),this.trigger("click",{tag:n,index:e,data:this.value[e]}))},onEditTagInput:function(t){var e=t.closest("tag"),n=this.getNodeIndex(e),r=this.input.normalize(t),i=r==t.originalValue||this.validateTag(r);e.classList.toggle("tagify--invalid",!0!==i),e.isValid=i,this.trigger("input",{tag:e,index:n,data:this.extend({},this.value[n],{newValue:r})})},onEditTagBlur:function(t){var e,n=t.closest("tag"),r=this.getNodeIndex(n),i=this.input.normalize(t)||t.originalValue,o=n.isValid;void 0!==o&&!0!==o||(t.textContent=i,this.value[r].value=i,this.update(),(e=t.cloneNode(!0)).removeAttribute("contenteditable"),n.title=i,n.classList.remove("tagify--editable"),t.parentNode.replaceChild(e,t),this.trigger("edit",{tag:n,index:r,data:this.value[r]}))},onEditTagkeydown:function(t){switch(t.key){case"Esc":case"Escape":t.target.textContent=t.target.originalValue;case"Enter":case"Tab":t.preventDefault(),t.target.blur()}},onDoubleClickScope:function(t){var e=t.target.closest("tag"),n=this.settings;"mix"==n.mode||n.readonly||n.enforceWhitelist||!e||e.classList.contains("tagify--editable")||e.hasAttribute("readonly")||this.editTag(e)}}},editTag:function(t){var e=this,n=t.querySelector(".tagify__tag-text"),r=this.events.callbacks;n?(t.classList.add("tagify--editable"),n.originalValue=n.textContent,n.setAttribute("contenteditable",!0),n.addEventListener("blur",r.onEditTagBlur.bind(this,n)),n.addEventListener("input",r.onEditTagInput.bind(this,n)),n.addEventListener("keydown",function(t){return r.onEditTagkeydown.call(e,t)}),n.focus()):console.warn("Cannot find element in Tag template: ",".tagify__tag-text")},input:{value:"",set:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];this.input.value=t,e&&(this.DOM.input.innerHTML=t),t||this.dropdown.hide.call(this),t.length<2&&this.input.autocomplete.suggest.call(this,""),this.input.validate.call(this)},setRangeAtStartEnd:function(){var t,e,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0],r=arguments[1];document.createRange&&((t=document.createRange()).selectNodeContents(r||this.DOM.input),t.collapse(n),(e=window.getSelection()).removeAllRanges(),e.addRange(t))},validate:function(){var t=!this.input.value||this.validateTag.call(this,this.input.value);this.DOM.input.classList.toggle("tagify__input--invalid",!0!==t)},normalize:function(){var t=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.DOM.input).innerText;return"settings"in this&&this.settings.delimiters&&(t=t.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(1))),t.replace(/\s/g," ").replace(/^\s+/,"")},autocomplete:{suggest:function(t){t&&this.input.value?this.DOM.input.setAttribute("data-suggest",t.substring(this.input.value.length)):this.DOM.input.removeAttribute("data-suggest")},set:function(t){var e=this.DOM.input.getAttribute("data-suggest"),n=t||(e?this.input.value+e:null);return!!n&&(this.input.set.call(this,n),this.input.autocomplete.suggest.call(this,""),this.dropdown.hide.call(this),this.input.setRangeAtStartEnd.call(this),!0)}}},getNodeIndex:function(t){var e=0;if(t)for(;t=t.previousElementSibling;)e++;return e},isTagDuplicate:function(t){return this.value.findIndex(function(e){return t.trim().toLowerCase()===e.value.toLowerCase()})},getTagIndexByValue:function(t){var e=[];return this.DOM.scope.querySelectorAll("tag").forEach(function(n,r){n.textContent.trim().toLowerCase()==t.toLowerCase()&&e.push(r)}),e},getTagElmByValue:function(t){var e=this.getTagIndexByValue(t)[0];return this.DOM.scope.querySelectorAll("tag")[e]},markTagByValue:function(t,e){return!!(e=e||this.getTagElmByValue(t))&&(e.classList.add("tagify--mark"),e)},isTagBlacklisted:function(t){return t=t.toLowerCase().trim(),this.settings.blacklist.filter(function(e){return t==e.toLowerCase()}).length},isTagWhitelisted:function(t){return this.settings.whitelist.some(function(e){if((e.value||e).toLowerCase()===t.toLowerCase())return!0})},validateTag:function(t){var e=t.trim(),n=!0;return e?this.settings.pattern&&!this.settings.pattern.test(e)?n=this.TEXTS.pattern:this.settings.duplicates||-1===this.isTagDuplicate(e)?(this.isTagBlacklisted(e)||this.settings.enforceWhitelist&&!this.isTagWhitelisted(e))&&(n=this.TEXTS.notAllowed):n=this.TEXTS.duplicate:n=this.TEXTS.empty,n},maxTagsReached:function(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},normalizeTags:function(t){var e=this.settings,n=e.whitelist,r=e.delimiters,i=e.mode,o=!!n&&n[0]instanceof Object,a=t instanceof Array&&t[0]instanceof Object&&"value"in t[0],s=[];if(a)return t;if("number"==typeof t&&(t=t.toString()),"string"==typeof t){if(!t.trim())return[];t=t.split(r).filter(function(t){return t}).map(function(t){return{value:t.trim()}})}else t instanceof Array&&(t=t.map(function(t){return{value:t.trim()}}));return o?(t.forEach(function(t){var e=n.filter(function(e){return e.value.toLowerCase()==t.value.toLowerCase()});e[0]?s.push(e[0]):"mix"!=i&&s.push(t)}),s):t},parseMixTags:function(t){var e=this;return t.split(this.settings.mixTagsAllowedAfter).filter(function(t){return t.match(e.settings.pattern)}).forEach(function(n){var r,i=n.replace(e.settings.pattern,"");e.isTagWhitelisted(i)&&!e.settings.duplicates&&-1==e.isTagDuplicate(i)&&(r=e.normalizeTags.call(e,i)[0],t=e.replaceMixStringWithTag(t,n,r).s)}),this.DOM.input.innerHTML=t,this.update(),t},replaceMixStringWithTag:function(t,e,n,r){return n&&t&&-1!=t.indexOf(e)&&(r=this.createTagElem(n),this.value.push(n),t=t.replace(e,r.outerHTML+"&#8288;")),{s:t,tagElm:r}},addMixTag:function(t){if(t&&this.state.tag){for(var e,n,r,i,o=this.state.tag.prefix+this.state.tag.value,a=document.createNodeIterator(this.DOM.input,NodeFilter.SHOW_TEXT),s=100;(e=a.nextNode())&&s--;)if(e.nodeType===Node.TEXT_NODE){if(-1==(r=e.nodeValue.indexOf(o)))continue;i=e.splitText(r),n=this.createTagElem(t),i.nodeValue=i.nodeValue.replace(o,""),e.parentNode.insertBefore(n,i),n.insertAdjacentHTML("afterend","&#8288;")}n&&(this.value.push(t),this.update(),this.trigger("add",this.extend({},{index:this.value.length,tag:n},t))),this.state.tag=null}},addTags:function(t,e,n){var r=this,i=[];return t&&t.length?(t=this.normalizeTags.call(this,t),"mix"==this.settings.mode?this.addMixTag(t[0]):(this.DOM.input.removeAttribute("style"),t.forEach(function(t){var e,o;if(t=Object.assign({},t),"function"==typeof r.settings.transformTag&&(t.value=r.settings.transformTag.call(r,t.value)||t.value),!0!==(e=r.maxTagsReached()||r.validateTag.call(r,t.value))){if(n)return;t.class=(t.class||"")+" tagify--notAllowed",t.title=e,r.markTagByValue(t.value),r.trigger("invalid",{data:t,index:r.value.length,message:e})}o=r.createTagElem(t),i.push(o),function(t){var e=this.DOM.scope.lastElementChild;e===this.DOM.input?this.DOM.scope.insertBefore(t,e):this.DOM.scope.appendChild(t)}.call(r,o),!0===e?(r.value.push(t),r.update(),r.DOM.scope.classList.toggle("hasMaxTags",r.value.length>=r.settings.maxTags),r.trigger("add",{tag:o,index:r.value.length-1,data:t})):r.settings.keepInvalidTags||setTimeout(function(){r.removeTag(o,!0)},1e3)}),t.length&&e&&this.input.set.call(this),i)):(console.warn("[addTags]","no tags to add:",t),i)},minify:function(t){return t.replace(new RegExp(">[\r\n ]+<","g"),"><")},createTagElem:function(t){var e,n=this.escapeHtml(t.value),r="<tag title='"+n+"' contenteditable='false' spellcheck=\"false\">\n                            <x title=''></x><div><span class='tagify__tag-text'>"+n+"</span></div>\n                        </tag>";if("function"==typeof this.settings.tagTemplate)try{r=this.settings.tagTemplate(n,t)}catch(t){}return this.settings.readonly&&(t.readonly=!0),r=this.minify(r),function(t,e){var n,r=Object.keys(e);for(n=r.length;n--;){var i=r[n];if(!e.hasOwnProperty(i))return;t.setAttribute(i,e[i])}}(e=this.parseHTML(r),t),e},removeTag:function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:250;if(t&&("string"==typeof t&&(t=this.getTagElmByValue(t)),t instanceof HTMLElement)){var r,i=this.getNodeIndex(t);n&&10<n?(t.style.width=parseFloat(window.getComputedStyle(t).width)+"px",document.body.clientTop,t.classList.add("tagify--hide"),setTimeout(o,400)):o(),e||(r=this.value.splice(i,1)[0],this.update(),this.trigger("remove",{tag:t,index:i,data:r}))}function o(){t.parentNode&&t.parentNode.removeChild(t)}},removeAllTags:function(){this.value=[],this.update(),Array.prototype.slice.call(this.DOM.scope.querySelectorAll("tag")).forEach(function(t){return t.parentNode.removeChild(t)})},update:function(){this.DOM.originalInput.value="mix"==this.settings.mode?this.DOM.input.textContent:JSON.stringify(this.value)},dropdown:{init:function(){this.DOM.dropdown=this.dropdown.build.call(this)},build:function(){var t='<div class="'+("tagify__dropdown "+this.settings.dropdown.classname).trim()+'"></div>';return this.parseHTML(t)},show:function(t){var e;if(this.settings.whitelist.length){if(this.suggestedListItems=this.dropdown.filterListItems.call(this,t),!this.suggestedListItems.length)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide.call(this);e=this.dropdown.createListHTML.call(this,this.suggestedListItems),this.DOM.dropdown.innerHTML=e,this.dropdown.highlightOption.call(this,this.DOM.dropdown.querySelector(".tagify__dropdown__item")),this.dropdown.position.call(this),!this.DOM.dropdown.parentNode!=document.body&&(document.body.appendChild(this.DOM.dropdown),this.events.binding.call(this,!1),this.dropdown.events.binding.call(this))}},hide:function(){this.DOM.dropdown&&this.DOM.dropdown.parentNode==document.body&&(document.body.removeChild(this.DOM.dropdown),window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),this.events.binding.call(this))},position:function(){var t=this.DOM.scope.getBoundingClientRect();this.DOM.dropdown.style.cssText="left: "+(t.left+window.pageXOffset)+"px;                                                top: "+(t.top+t.height-1+window.pageYOffset)+"px;                                                width: "+t.width+"px"},events:{binding:function(){var t=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],e=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this),onKeyDown:this.dropdown.events.callbacks.onKeyDown.bind(this),onMouseOver:this.dropdown.events.callbacks.onMouseOver.bind(this),onClick:this.dropdown.events.callbacks.onClick.bind(this)},n=t?"addEventListener":"removeEventListener";window[n]("resize",e.position),window[n]("keydown",e.onKeyDown),window[n]("mousedown",e.onClick),this.DOM.dropdown[n]("mouseover",e.onMouseOver)},callbacks:{onKeyDown:function(t){var e=this.DOM.dropdown.querySelector("[class$='--active']")||this.DOM.dropdown.children[0],n="";switch(t.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":t.preventDefault(),e&&(e=e[("ArrowUp"==t.key||"Up"==t.key?"previous":"next")+"ElementSibling"]),e||(e=this.DOM.dropdown.children["ArrowUp"==t.key||"Up"==t.key?this.DOM.dropdown.children.length-1:0]),this.dropdown.highlightOption.call(this,e,!0);break;case"Escape":case"Esc":this.dropdown.hide.call(this);break;case"ArrowRight":case"Tab":if(t.preventDefault(),!this.input.autocomplete.set.call(this,e?e.textContent:null))return!1;case"Enter":return t.preventDefault(),n=this.suggestedListItems[this.getNodeIndex(e)]||this.input.value,this.addTags([n],!0),this.dropdown.hide.call(this),!1}},onMouseOver:function(t){t.target.className.includes("__item")&&this.dropdown.highlightOption.call(this,t.target)},onClick:function(t){var e,n,r=this,i=function(){return r.dropdown.hide.call(r)};if(0==t.button&&t.target!=this.DOM.dropdown){if(t.target==document.documentElement)return i();(n=[t.target,t.target.parentNode].filter(function(t){return t.className.includes("tagify__dropdown__item")})[0])?(e=this.suggestedListItems[this.getNodeIndex(n)]||this.input.value,this.addTags([e],!0),this.dropdown.hide.call(this),setTimeout(function(){return r.DOM.input.focus()},100)):i()}}}},highlightOption:function(t,e){if(t){var n,r="tagify__dropdown__item--active";[].forEach.call(this.DOM.dropdown.querySelectorAll("[class$='--active']"),function(t){return t.classList.remove(r)}),t.classList.add(r),e&&(t.parentNode.scrollTop=t.clientHeight+t.offsetTop-t.parentNode.clientHeight),this.settings.autoComplete&&!this.settings.dropdown.fuzzySearch&&(n=this.suggestedListItems[this.getNodeIndex(t)].value||this.input.value,this.input.autocomplete.suggest.call(this,n))}},filterListItems:function(t){var e,n,r,i,o=this,a=[],s=this.settings.whitelist,u=this.settings.dropdown.maxItems||1/0,c=0;if(!t)return s.filter(function(t){return-1==o.isTagDuplicate(t.value||t)}).slice(0,u);for(;c<s.length&&(r=(((e=s[c]instanceof Object?s[c]:{value:s[c]}).searchBy||"")+" "+e.value).toLowerCase().indexOf(t.toLowerCase()),n=this.settings.dropdown.fuzzySearch?0<=r:0==r,i=!this.settings.duplicates&&-1<this.isTagDuplicate(e.value),n&&!i&&u--&&a.push(e),0!=u);c++);return a},createListHTML:function(t){var e=this.settings.dropdown.itemTemplate||function(t){var e=(t.value||t).replace(/`|'/g,"&#39;");return"<div class='tagify__dropdown__item "+(t.class?t.class:"")+"' "+function(t){if("[object object]"==Object.prototype.toString.call(t)){var e,n=Object.keys(t),r="";for(e=n.length;e--;){var i=n[e];if("class"!=i&&!t.hasOwnProperty(i))return;r+=" "+i+(t[i]?"="+t[i]:"")}return r}}(t)+">"+e+"</div>"};return t.map(e).join("")}}},t})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";n.r(e),n.d(e,"initialize",function(){return o});var r=n(0),i=!0;function o(){var t="hidden";function e(e){var n,o="visible",a="hidden",s={focus:o,focusin:o,pageshow:o,blur:a,focusout:a,pagehide:a};i&&(r.remove_class(document.body,"visible"),r.remove_class(document.body,"hidden"),n=(e=e||window.event).type in s?s[e.type]:this[t]?"hidden":"visible",r.add_class(document.body,n))}t in document?document.addEventListener("visibilitychange",e):(t="mozHidden")in document?document.addEventListener("mozvisibilitychange",e):(t="webkitHidden")in document?document.addEventListener("webkitvisibilitychange",e):(t="msHidden")in document&&document.addEventListener("msvisibilitychange",e),window.addEventListener("beforeunload",function(){i=!1}),void 0!==document[t]&&e({type:document[t]?"blur":"focus"})}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"toggle_option",function(){return toggle_option}),__webpack_require__.d(__webpack_exports__,"toggle_dropdown",function(){return toggle_dropdown}),__webpack_require__.d(__webpack_exports__,"toggle_tag_dropdown",function(){return toggle_tag_dropdown}),__webpack_require__.d(__webpack_exports__,"list_of_strings_init",function(){return list_of_strings_init}),__webpack_require__.d(__webpack_exports__,"add_cascading_sub_valuespec_parameters",function(){return add_cascading_sub_valuespec_parameters}),__webpack_require__.d(__webpack_exports__,"cascading_change",function(){return cascading_change}),__webpack_require__.d(__webpack_exports__,"textarea_resize",function(){return textarea_resize}),__webpack_require__.d(__webpack_exports__,"listof_add",function(){return listof_add}),__webpack_require__.d(__webpack_exports__,"listof_delete",function(){return listof_delete}),__webpack_require__.d(__webpack_exports__,"listof_drop_handler",function(){return listof_drop_handler}),__webpack_require__.d(__webpack_exports__,"listof_sort",function(){return listof_sort}),__webpack_require__.d(__webpack_exports__,"listof_update_indices",function(){return listof_update_indices}),__webpack_require__.d(__webpack_exports__,"list_choice_toggle_all",function(){return list_choice_toggle_all}),__webpack_require__.d(__webpack_exports__,"rule_comment_prefix_date_and_user",function(){return rule_comment_prefix_date_and_user}),__webpack_require__.d(__webpack_exports__,"passwordspec_randomize",function(){return passwordspec_randomize}),__webpack_require__.d(__webpack_exports__,"toggle_hidden",function(){return toggle_hidden}),__webpack_require__.d(__webpack_exports__,"duallist_enlarge",function(){return duallist_enlarge}),__webpack_require__.d(__webpack_exports__,"duallist_switch",function(){return duallist_switch}),__webpack_require__.d(__webpack_exports__,"iconselector_select",function(){return iconselector_select}),__webpack_require__.d(__webpack_exports__,"iconselector_toggle",function(){return iconselector_toggle}),__webpack_require__.d(__webpack_exports__,"iconselector_toggle_names",function(){return iconselector_toggle_names}),__webpack_require__.d(__webpack_exports__,"listofmultiple_add",function(){return listofmultiple_add}),__webpack_require__.d(__webpack_exports__,"listofmultiple_del",function(){return listofmultiple_del}),__webpack_require__.d(__webpack_exports__,"listofmultiple_init",function(){return listofmultiple_init}),__webpack_require__.d(__webpack_exports__,"autocomplete",function(){return autocomplete}),__webpack_require__.d(__webpack_exports__,"autocomplete_choose",function(){return autocomplete_choose}),__webpack_require__.d(__webpack_exports__,"autocomplete_hide_on_unrelated_events",function(){return autocomplete_hide_on_unrelated_events}),__webpack_require__.d(__webpack_exports__,"add_color_picker",function(){return add_color_picker});var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_array_sort__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(24),core_js_modules_es_array_sort__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_array_sort__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(51),core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_array_splice__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(28),core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_function_name__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_parse_int__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(37),core_js_modules_es_parse_int__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_parse_int__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(71),core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_es_regexp_constructor__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(30),core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es_regexp_to_string__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(42),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(36),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_9__),jquery__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(20),jquery__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_10__),utils__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(0),popup_menu__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(81),ajax__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(2),forms__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(67),colorpicker__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(130);function toggle_option(t,e,n){var r=document.getElementById(e);t.checked&&!n||!t.checked&&n?r.style.display="":r.style.display="none"}function toggle_dropdown(t,e){var n=document.getElementById(e);"other"==t.value?n.style.display="":n.style.display="none"}function toggle_tag_dropdown(t,e){var n=document.getElementById(e);"ignore"==t.value?n.style.display="none":n.style.display=""}function list_of_strings_init(t,e,n){var r=document.getElementById(t).getElementsByTagName("div");list_of_strings_add_event_handlers(r[r.length-1].getElementsByTagName("input")[0],e,n)}function list_of_strings_add_event_handlers(t,e,n){var r=function(){if(""!=this.value)return list_of_strings_extend(this,e,n)};t.onfocus=r,t.oninput=r,e&&(t.onpaste=function(t){var r=(t.clipboardData||window.clipboardData).getData("Text");if(""!=this.value)return!0;var i=r.replace(new RegExp("^["+n+"]+|["+n+"]+$","g"),"");if(""==i)return!0;for(var o=i.split(new RegExp("["+n+"]+")),a=this,s=0;s<o.length;s++)0!=s&&(a=list_of_strings_add_new_field(a)),a.value=o[s];return a.focus(),list_of_strings_extend(a,e,n),utils__WEBPACK_IMPORTED_MODULE_11__.prevent_default_events(t)})}function list_of_strings_remove_event_handlers(t){t.oninput=null,t.onfocus=null,t.onpaste=null}function list_of_strings_extend(t,e,n){list_of_strings_add_event_handlers(list_of_strings_add_new_field(t),e,n),list_of_strings_remove_event_handlers(t)}function list_of_strings_add_new_field(t){var e=t.name,n=e.split("_"),r=1+parseInt(n[n.length-1]);n[n.length-1]=""+r;for(var i=n.join("_"),o=t.parentNode;o.parentNode.classList&&!o.parentNode.classList.contains("listofstrings");)o=o.parentNode;var a=o.parentNode,s=document.createElement("DIV");s.innerHTML=o.innerHTML.replace('"'+e+'"','"'+i+'"'),s.innerHTML=s.innerHTML.replace("="+e+" ","="+i+" "),s.innerHTML=s.innerHTML.replace("="+e+">","="+i+">"),a.appendChild(s);for(var u=s.getElementsByClassName("vs_autocomplete"),c=0;c<u.length;c++)u[c].parentNode.removeChild(u[c]);return s.getElementsByTagName("input")[0]}var cascading_sub_valuespec_parameters={};function add_cascading_sub_valuespec_parameters(t,e){cascading_sub_valuespec_parameters[t]=e}function cascading_change(t,e,n){for(var r=parseInt(t.value),i=0;i<n;i++){var o=e+"_"+i,a=document.getElementById(o+"_sub");a&&(a.style.display=r==i?"":"none",r==i&&0==a.childElementCount&&cascading_sub_valuespec_parameters.hasOwnProperty(o)&&show_cascading_sub_valuespec(o,cascading_sub_valuespec_parameters[o]))}}function show_cascading_sub_valuespec(t,e){var n="request="+encodeURIComponent(JSON.stringify(e.request_vars));ajax__WEBPACK_IMPORTED_MODULE_13__.call_ajax(e.page_name+".py",{method:"POST",post_data:n,response_handler:function(t,e){var n=JSON.parse(e);if(0==n.result_code){var r=document.getElementById(t.varprefix+"_sub");r.innerHTML=n.result.html_code,utils__WEBPACK_IMPORTED_MODULE_11__.execute_javascript_by_object(r),forms__WEBPACK_IMPORTED_MODULE_14__.enable_dynamic_form_elements(r)}else console.log("Error ["+n.result_code+"]: "+n.result)},handler_data:{varprefix:t}})}function textarea_resize(t){t.style.height=t.scrollHeight-6+"px"}function listof_add(t,e,n){var r=document.getElementById(t+"_count"),i=""+(parseInt(r.value)+1);r.value=i;var o,a=listof_get_new_entry_html_code(t,e,i),s=document.getElementById(t+"_container"),u=document.createElement("div");"floating"==n?(u.innerHTML=a,o=u.children[0]):(u.innerHTML="<table><tbody>"+a+"</tbody></tr>",o=u.children[0].children[0].children[0]),s.appendChild(o),utils__WEBPACK_IMPORTED_MODULE_11__.execute_javascript_by_object(o),forms__WEBPACK_IMPORTED_MODULE_14__.enable_dynamic_form_elements(o),listof_update_indices(t)}function listof_get_new_entry_html_code(t,e,n){var r=document.getElementById(t+"_prototype").innerHTML,i=new RegExp(e,"g");return r=r.replace(i,n),i=new RegExp(encodeURIComponent(e).replace("!","%21"),"g"),r.replace(i,n)}function listof_delete(t,e){var n=document.getElementById(t+"_entry_"+e);n.parentNode.removeChild(n),listof_update_indices(t)}function listof_drop_handler(t){var e=t.varprefix,n=t.cur_index,r=document.getElementsByName(e+"_indexof_"+n);if(0==r.length)throw"Failed to find the indexof_fied";for(var i=r=r[0];i&&"TBODY"!=i.tagName;)i=i.parentNode;if(!i)throw"Failed to find the tbody element of "+r;listof_update_indices(e)}function listof_sort(t,e,n){var r,i,o,a,s=document.getElementById(t+"_container"),u=s.rows,c=[];for(r=0;r<u.length;r++)if(0!=(i=u[r].cells[0]).children.length){if(o=t+"_"+i.getElementsByClassName("orig_index")[0].value+"_"+n,0==(a=document.getElementsByName(o)).length)return;c.push({sort_value:a[0].value,row_node:u[r]})}for(c.sort(function(t,e){return t.sort_value.toLowerCase()<e.sort_value.toLowerCase()?-1:t.sort_value.toLowerCase()>e.sort_value.toLowerCase()?1:0});s.firstChild;)s.removeChild(s.firstChild);for(r=0;r<c.length;r++)s.appendChild(c[r].row_node);listof_update_indices(t)}function listof_update_indices(t){for(var e=document.getElementById(t+"_container"),n=0;n<e.children.length;n++){var r=e.children[n],i=r.getElementsByClassName("index")[0];if(""===i.value)r.getElementsByClassName("orig_index")[0].value=""+(n+1);i.value=""+(n+1)}}function list_choice_toggle_all(t){var e=document.getElementById(t+"_tbl").getElementsByTagName("input");if(e)for(var n=!e[0].checked,r=0;r<e.length;r++)e[r].checked=n}function rule_comment_prefix_date_and_user(t,e){var n=t.parentNode.parentNode.getElementsByTagName("textarea")[0];n&&(n.value=e+"\n"+n.value,n.focus(),n.setSelectionRange(e.length,e.length))}function passwordspec_randomize(t){for(var e,n="";n.length<8;)((e=parseInt(128*Math.random()))>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57)&&(n+=String.fromCharCode(e));var r=t.previousElementSibling;"INPUT"!=r.tagName&&(r=r.children[0]),r.value=n}function toggle_hidden(t){for(var e=t;"INPUT"!=e.tagName;)e=e.previousElementSibling;"text"==e.type?e.type="password":e.type="text"}function duallist_enlarge(t,e){var n,r=document.getElementById(e+"_"+t);n=r.id!=e+"_selected"?e+"_selected":e+"_unselected";var i=document.getElementById(n);i&&(utils__WEBPACK_IMPORTED_MODULE_11__.remove_class(i,"large"),utils__WEBPACK_IMPORTED_MODULE_11__.add_class(i,"small"),utils__WEBPACK_IMPORTED_MODULE_11__.remove_class(r,"small"),utils__WEBPACK_IMPORTED_MODULE_11__.add_class(r,"large"))}function duallist_switch(t,e,n){var r,i,o=document.getElementById(e+"_"+t);o.id!=e+"_selected"?(r=e+"_selected",i=!0):(r=e+"_unselected",i=!1);var a=document.getElementById(r);if(a){var s=document.getElementById(e);if(s){var u,c=[];for(u=0;u<o.options.length;u++)o.options[u].selected&&c.push(o.options[u]);if(0!=c.length){for(u=0;u<c.length;u++)o.removeChild(c[u]),a.appendChild(c[u]),c[u].selected=!1;if(!n)sort_select(a,new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}).compare);var l=i?a:o,f=[];for(u=0;u<l.options.length;u++)f.push(l.options[u].value);s.value=f.join("|")}}}}function sort_select(t,e){var n,r=[];for(n=0;n<t.options.length;n++)r[n]=[],r[n][0]=t.options[n].text,r[n][1]=t.options[n].value;for(r.sort(e);t.options.length>0;)t.options[0]=null;for(n=0;n<r.length;n++){var i=new Option(r[n][0],r[n][1]);t.options[n]=i}}function iconselector_select(t,e,n){document.getElementById(e+"_value").value=n;var r=document.getElementById(e+"_i_"+n);document.getElementById(e+"_img").src=r.src,popup_menu__WEBPACK_IMPORTED_MODULE_12__.close_popup()}function iconselector_toggle(t,e){var n,r=document.getElementsByClassName(t+"_nav");for(n=0;n<r.length;n++)r[n].id==t+"_"+e+"_nav"?utils__WEBPACK_IMPORTED_MODULE_11__.add_class(r[n].parentNode,"active"):utils__WEBPACK_IMPORTED_MODULE_11__.remove_class(r[n].parentNode,"active");var i=document.getElementsByClassName(t+"_container");for(n=0;n<i.length;n++)i[n].id==t+"_"+e+"_container"?i[n].style.display="":i[n].style.display="none"}function iconselector_toggle_names(t,e){var n=document.getElementById(e+"_icons");utils__WEBPACK_IMPORTED_MODULE_11__.has_class(n,"show_names")?utils__WEBPACK_IMPORTED_MODULE_11__.remove_class(n,"show_names"):utils__WEBPACK_IMPORTED_MODULE_11__.add_class(n,"show_names")}function listofmultiple_add(t,e,n){var r=document.getElementById(t+"_choice"),i=r.value;if(""!=i){r.options[r.selectedIndex].disabled=!0;var o={varprefix:t,ident:i};for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);var s="request="+encodeURIComponent(JSON.stringify(o));ajax__WEBPACK_IMPORTED_MODULE_13__.call_ajax(e+".py",{method:"POST",post_data:s,response_handler:function(e,n){var r=document.getElementById(t+"_table"),i=r.getElementsByTagName("tbody")[0],o=document.getElementById(t+"_choice"),a=o.value,s=JSON.parse(n);if(0==s.result_code){jquery__WEBPACK_IMPORTED_MODULE_10___default()(o).select2().val(null).trigger("change");var u=document.createElement("tbody");u.innerHTML=s.result.html_code;var c=u.childNodes[0];if("TR"==c.tagName){i.appendChild(c),utils__WEBPACK_IMPORTED_MODULE_11__.execute_javascript_by_object(c);var l=document.getElementById(t+"_active");""!=l.value?l.value+=";"+a:l.value=a,1==i.childNodes.length&&r.after(document.createElement("br"))}else console.log("Error: Invalid choice HTML code: "+s.result.html_code)}else console.log("Error ["+s.result_code+"]: "+s.result)}})}}function listofmultiple_del(t,e){var n=document.getElementById(t+"_"+e+"_row"),r=n.parentNode;r.removeChild(n);var i,o=document.getElementById(t+"_choice");for(i=0;i<o.children.length;i++)o.children[i].value==e&&(o.children[i].disabled=!1);jquery__WEBPACK_IMPORTED_MODULE_10___default()(o).select2();var a=document.getElementById(t+"_active"),s=a.value.split(";");for(i=0;i<s.length;i++)if(s[i]==e){s.splice(i,1);break}if(a.value=s.join(";"),0==r.childNodes.length){var u=document.getElementById(t+"_table").nextSibling;"BR"==u.nodeName&&u.parentNode.removeChild(u)}}function listofmultiple_init(t){var e=document.getElementById(t+"_table"),n=e.getElementsByTagName("tbody")[0];document.getElementById(t+"_choice").value="",listofmultiple_disable_selected_options(t),n.childNodes.length>=1&&e.after(document.createElement("br"))}function listofmultiple_disable_selected_options(t){for(var e=document.getElementById(t+"_active").value.split(";"),n=document.getElementById(t+"_choice"),r=0;r<n.children.length;r++)-1!==e.indexOf(n.children[r].value)&&(n.children[r].disabled=!0)}var g_autocomplete_ajax=null;function autocomplete(t,e,n,r){t.setAttribute("id",t.name),g_autocomplete_ajax&&g_autocomplete_ajax.abort(),g_autocomplete_ajax=ajax__WEBPACK_IMPORTED_MODULE_13__.call_ajax("ajax_vs_autocomplete.py?ident="+encodeURIComponent(e),{response_handler:autocomplete_handle_response,error_handler:autocomplete_handle_error,handler_data:[t.id,r],method:"POST",post_data:"params="+encodeURIComponent(JSON.stringify(n))+"&value="+encodeURIComponent(t.value)+"&_plain_error=1",add_ajax_id:!1})}function autocomplete_handle_response(handler_data,response_text){var input_id=handler_data[0],on_change=handler_data[1];try{var response=eval(response_text)}catch(t){return void autocomplete_show_error(input_id,response_text)}if(0==response.length)autocomplete_close(input_id);else{var input=document.getElementById(input_id);if(1==response.length&&input&&response[0][0]==input.value)return void autocomplete_close(input_id);autocomplete_show_choices(input_id,on_change,response)}}function autocomplete_handle_error(t,e,n){var r=t[0];0!=e&&autocomplete_show_error(r,n+" ("+e+")")}function autocomplete_show_choices(t,e,n){for(var r="<ul>",i=0;i<n.length;i++){r+="<li onclick=\"cmk.valuespecs.autocomplete_choose('"+t+"', '"+n[i][0]+"');"+e+'">'+n[i][1]+"</li>"}autocomplete_show(t,r+="</ul>")}function autocomplete_choose(t,e){document.getElementById(t).value=e,autocomplete_close(t)}function autocomplete_show_error(t,e){autocomplete_show(t,"<div class=error>ERROR: "+e+"</div>")}function autocomplete_show(t,e){var n=document.getElementById(t+"_popup");if(!n){var r=document.getElementById(t);(n=document.createElement("div")).setAttribute("id",t+"_popup"),n.className="vs_autocomplete",r.parentNode.appendChild(n),n.style.minWidth=r.clientWidth+"px"}n.innerHTML=e,autocomplete_hide_on_unrelated_events(n)}function autocomplete_hide_on_unrelated_events(t){var e=function(e){var r=e.target;do{if(r==t)return;r=r.parentNode}while(r);t.parentNode&&t.parentNode.removeChild(t),n()},n=function(){document.removeEventListener("click",e)};document.addEventListener("click",e),t.addEventListener("blur",e)}function autocomplete_close(t){var e=document.getElementById(t+"_popup");e&&e.parentNode.removeChild(e)}var vs_color_pickers=[];function add_color_picker(t,e){vs_color_pickers[t]=colorpicker__WEBPACK_IMPORTED_MODULE_15__.a(document.getElementById(t+"_picker"),function(e){update_color_picker(t,e,!1)}),document.getElementById(t+"_input").oninput=function(){update_color_picker(t,this.value,!0)},update_color_picker(t,e,!0)}function update_color_picker(t,e,n){/^#[0-9A-F]{6}$/i.test(e)&&(document.getElementById(t+"_input").value=e,document.getElementById(t+"_value").value=e,document.getElementById(t+"_preview").style.backgroundColor=e,n&&vs_color_pickers[t].setHex(e))}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});n(22),n(6),n(12),n(37),n(30);!function(t,e,n){var r,i,o=t.SVGAngle||e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",a=15,s="http://www.w3.org/2000/svg",u=['<div class="picker-wrapper">','<div class="picker"></div>','<div class="picker-indicator"></div>',"</div>",'<div class="slide-wrapper">','<div class="slide"></div>','<div class="slide-indicator"></div>',"</div>"].join("");function c(e){if(t.event&&t.event.contentOverflow!==n)return{x:t.event.offsetX,y:t.event.offsetY};if(e.offsetX!==n&&e.offsetY!==n)return{x:e.offsetX,y:e.offsetY};var r=e.target.parentNode.parentNode;return{x:e.layerX-r.offsetLeft,y:e.layerY-r.offsetTop}}function l(t,n,r){for(var i in t=e.createElementNS(s,t),n)t.setAttribute(i,n[i]);"[object Array]"!=Object.prototype.toString.call(r)&&(r=[r]);for(var o=0,a=r[0]&&r.length||0;o<a;o++)t.appendChild(r[o]);return t}function f(t){var e,n,r,i,o,a=t.h%360/60;i=(o=t.v*t.s)*(1-Math.abs(a%2-1)),e=n=r=t.v-o,e+=[o,i,0,0,i,o][a=~~a],n+=[i,o,o,i,0,0][a],r+=[0,0,i,o,o,i][a];var s=Math.floor(255*e),u=Math.floor(255*n),c=Math.floor(255*r);return{r:s,g:u,b:c,hex:"#"+(16777216|c|u<<8|s<<16).toString(16).slice(1)}}function d(t){var e,n,r=t.r,i=t.g,o=t.b;return(t.r>1||t.g>1||t.b>1)&&(r/=255,i/=255,o/=255),{h:(0==(n=(e=Math.max(r,i,o))-Math.min(r,i,o))?null:e==r?(i-o)/n+(i<o?6:0):e==i?(o-r)/n+2:(r-i)/n+4)%6*60,s:0==n?0:n/e,v:e}}function _(e,r,i){return function(o){var s=c(o=o||t.event);e.h=s.y/r.offsetHeight*360+a;var u=f({h:e.h,s:1,v:1}),l=f({h:e.h,s:e.s,v:e.v});i.style.backgroundColor=u.hex,e.callback&&e.callback(l.hex,{h:e.h-a,s:e.s,v:e.v},{r:l.r,g:l.g,b:l.b},n,s)}}function h(e,n){return function(r){var i=c(r=r||t.event),o=n.offsetWidth,s=n.offsetHeight;e.s=i.x/o,e.v=(s-i.y)/s;var u=f(e);e.callback&&e.callback(u.hex,{h:e.h-a,s:e.s,v:e.v},{r:u.r,g:u.g,b:u.b},i)}}"SVG"==o?(i=l("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[l("defs",{},l("linearGradient",{id:"gradient-hsv",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[l("stop",{offset:"0%","stop-color":"#FF0000","stop-opacity":"1"}),l("stop",{offset:"13%","stop-color":"#FF00FF","stop-opacity":"1"}),l("stop",{offset:"25%","stop-color":"#8000FF","stop-opacity":"1"}),l("stop",{offset:"38%","stop-color":"#0040FF","stop-opacity":"1"}),l("stop",{offset:"50%","stop-color":"#00FFFF","stop-opacity":"1"}),l("stop",{offset:"63%","stop-color":"#00FF40","stop-opacity":"1"}),l("stop",{offset:"75%","stop-color":"#0BED00","stop-opacity":"1"}),l("stop",{offset:"88%","stop-color":"#FFFF00","stop-opacity":"1"}),l("stop",{offset:"100%","stop-color":"#FF0000","stop-opacity":"1"})])),l("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-hsv)"})]),r=l("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},[l("defs",{},[l("linearGradient",{id:"gradient-black",x1:"0%",y1:"100%",x2:"0%",y2:"0%"},[l("stop",{offset:"0%","stop-color":"#000000","stop-opacity":"1"}),l("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})]),l("linearGradient",{id:"gradient-white",x1:"0%",y1:"100%",x2:"100%",y2:"100%"},[l("stop",{offset:"0%","stop-color":"#FFFFFF","stop-opacity":"1"}),l("stop",{offset:"100%","stop-color":"#CC9A81","stop-opacity":"0"})])]),l("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-white)"}),l("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#gradient-black)"})])):"VML"==o&&(i=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; top: 0; left: 0; width: 100%; height: 100%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="red" color2="red" colors="8519f fuchsia;.25 #8000ff;24903f #0040ff;.5 aqua;41287f #00ff40;.75 #0bed00;57671f yellow"></v:fill>',"</v:rect>","</DIV>"].join(""),r=['<DIV style="position: relative; width: 100%; height: 100%">','<v:rect style="position: absolute; left: -1px; top: -1px; width: 101%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="270" color="#FFFFFF" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>",'<v:rect style="position: absolute; left: 0px; top: 0px; width: 100%; height: 101%" stroked="f" filled="t">','<v:fill type="gradient" method="none" angle="0" color="#000000" opacity="100%" color2="#CC9A81" o:opacity2="0%"></v:fill>',"</v:rect>","</DIV>"].join(""),e.namespaces.v||e.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"));var p=0;function g(t,e,n){if(!(this instanceof g))return new g(t,e,n);if(this.h=0,this.s=1,this.v=1,n)this.callback=n,this.pickerElement=e,this.slideElement=t;else{var a=t;a.innerHTML=u,this.slideElement=a.getElementsByClassName("slide")[0],this.pickerElement=a.getElementsByClassName("picker")[0];var s=a.getElementsByClassName("slide-indicator")[0],c=a.getElementsByClassName("picker-indicator")[0];g.fixIndicators(s,c),this.callback=function(t,n,r,i,o){g.positionIndicators(s,c,o,i),e(t,n,r)}}if("SVG"==o){var l=i.cloneNode(!0),f=r.cloneNode(!0),d=l.getElementById("gradient-hsv"),m=l.getElementsByTagName("rect")[0];d.id="gradient-hsv-"+p,m.setAttribute("fill","url(#"+d.id+")");var b=[f.getElementById("gradient-black"),f.getElementById("gradient-white")],x=f.getElementsByTagName("rect");b[0].id="gradient-black-"+p,b[1].id="gradient-white-"+p,x[0].setAttribute("fill","url(#"+b[1].id+")"),x[1].setAttribute("fill","url(#"+b[0].id+")"),this.slideElement.appendChild(l),this.pickerElement.appendChild(f),p++}else this.slideElement.innerHTML=i,this.pickerElement.innerHTML=r;v(this.slideElement,"click",_(this,this.slideElement,this.pickerElement)),v(this.pickerElement,"click",h(this,this.pickerElement)),y(this,this.slideElement,_(this,this.slideElement,this.pickerElement)),y(this,this.pickerElement,h(this,this.pickerElement))}function v(t,e,n){t.attachEvent?t.attachEvent("on"+e,n):t.addEventListener&&t.addEventListener(e,n,!1)}function y(t,e,n){var r=!1;v(e,"mousedown",function(t){r=!0}),v(e,"mouseup",function(t){r=!1}),v(e,"mouseout",function(t){r=!1}),v(e,"mousemove",function(t){r&&n(t)})}function m(t,e,n,r){t.h=e.h%360,t.s=e.s,t.v=e.v;var i=f(t),o={y:t.h*t.slideElement.offsetHeight/360,x:0},a=t.pickerElement.offsetHeight,s={x:t.s*t.pickerElement.offsetWidth,y:a-t.v*a};return t.pickerElement.style.backgroundColor=f({h:t.h,s:1,v:1}).hex,t.callback&&t.callback(r||i.hex,{h:t.h,s:t.s,v:t.v},n||{r:i.r,g:i.g,b:i.b},s,o),t}g.hsv2rgb=function(t){var e=f(t);return delete e.hex,e},g.hsv2hex=function(t){return f(t).hex},g.rgb2hsv=d,g.rgb2hex=function(t){return f(d(t)).hex},g.hex2hsv=function(t){return d(g.hex2rgb(t))},g.hex2rgb=function(t){return{r:parseInt(t.substr(1,2),16),g:parseInt(t.substr(3,2),16),b:parseInt(t.substr(5,2),16)}},g.prototype.setHsv=function(t){return m(this,t)},g.prototype.setRgb=function(t){return m(this,d(t),t)},g.prototype.setHex=function(t){return m(this,g.hex2hsv(t),n,t)},g.positionIndicators=function(t,e,n,r){n&&(t.style.top=n.y-t.offsetHeight/2+"px"),r&&(e.style.top=r.y-e.offsetHeight/2+"px",e.style.left=r.x-e.offsetWidth/2+"px")},g.fixIndicators=function(t,e){e.style.pointerEvents="none",t.style.pointerEvents="none"},t.ColorPicker=g}(window,window.document);var r=window.ColorPicker},,function(t,e,n){var r=n(4),i=n(111),o=r.WeakMap;t.exports="function"==typeof o&&/native code/.test(i.call(o))},function(t,e,n){var r=n(54);t.exports=r("document","documentElement")},function(t,e,n){var r=n(27),i=n(55).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?function(t){try{return i(t)}catch(t){return a.slice()}}(t):i(r(t))}},function(t,e,n){var r=n(1),i=n(168);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(1),i=n(17),o=n(85);r({target:"Object",stat:!0,forced:n(3)(function(){o(1)})},{keys:function(t){return o(i(t))}})},function(t,e,n){var r=n(9);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var r=n(46),i=n(4),o=n(3);t.exports=r||!o(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i[t]})},function(t,e,n){var r=n(7)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},t(o)}catch(t){}return n}},function(t,e,n){var r=n(1),i=n(156),o=n(64);r({target:"Array",proto:!0},{fill:i}),o("fill")},function(t,e,n){"use strict";var r=n(33).forEach,i=n(48);t.exports=i("forEach")?function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},function(t,e,n){var r=n(41),i=n(17),o=n(72),a=n(14),s=function(t){return function(e,n,s,u){r(n);var c=i(e),l=o(c),f=a(c.length),d=t?f-1:0,_=t?-1:1;if(s<2)for(;;){if(d in l){u=l[d],d+=_;break}if(d+=_,t?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:f>d;d+=_)d in l&&(u=n(u,l[d],d,c));return u}};t.exports={left:s(!1),right:s(!0)}},function(t,e,n){var r=n(54);t.exports=r("navigator","userAgent")||""},function(t,e,n){"use strict";var r=n(89),i=n(8),o=n(26),a=n(136),s=n(91);r("search",1,function(t,e,n){return[function(e){var n=o(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var o=i(t),u=String(this),c=o.lastIndex;a(c,0)||(o.lastIndex=0);var l=s(o,u);return a(o.lastIndex,c)||(o.lastIndex=c),null===l?-1:l.index}]})},function(t,e,n){var r=n(4),i=n(79).trim,o=n(92),a=r.parseInt,s=/^[+-]?0[Xx]/,u=8!==a(o+"08")||22!==a(o+"0x16");t.exports=u?function(t,e){var n=i(String(t));return a(n,e>>>0||(s.test(n)?16:10))}:a},function(t,e,n){var r=n(4),i=n(79).trim,o=n(92),a=r.parseFloat,s=1/a(o+"-0")!=-1/0;t.exports=s?function(t){var e=i(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},function(t,e,n){"use strict";var r=n(1),i=n(40),o=n(183),a=n(160),s=n(3),u=1..toFixed,c=Math.floor,l=function(t,e,n){return 0===e?n:e%2==1?l(t,e-1,n*t):l(t*t,e/2,n)};r({target:"Number",proto:!0,forced:u&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s(function(){u.call({})})},{toFixed:function(t){var e,n,r,s,u=o(this),f=i(t),d=[0,0,0,0,0,0],_="",h="0",p=function(t,e){for(var n=-1,r=e;++n<6;)r+=t*d[n],d[n]=r%1e7,r=c(r/1e7)},g=function(t){for(var e=6,n=0;--e>=0;)n+=d[e],d[e]=c(n/t),n=n%t*1e7},v=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==d[t]){var n=String(d[t]);e=""===e?n:e+a.call("0",7-n.length)+n}return e};if(f<0||f>20)throw RangeError("Incorrect fraction digits");if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(_="-",u=-u),u>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(u*l(2,69,1))-69)<0?u*l(2,-e,1):u/l(2,e,1),n*=4503599627370496,(e=52-e)>0){for(p(0,n),r=f;r>=7;)p(1e7,0),r-=7;for(p(l(10,r,1),0),r=e-1;r>=23;)g(1<<23),r-=23;g(1<<r),p(1,1),g(2),h=v()}else p(0,n),p(1<<-e,0),h=v()+a.call("0",f);return h=f>0?_+((s=h.length)<=f?"0."+a.call("0",f-s)+h:h.slice(0,s-f)+"."+h.slice(s-f)):_+h}})},function(t,e){var n=Math.expm1,r=Math.exp;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:n},function(t,e,n){"use strict";var r=n(1),i=n(4),o=n(84),a=n(23),s=n(97),u=n(106),c=n(93),l=n(9),f=n(3),d=n(140),_=n(47),h=n(124);t.exports=function(t,e,n,p,g){var v=i[t],y=v&&v.prototype,m=v,b=p?"set":"add",x={},w=function(t){var e=y[t];a(y,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(o(t,"function"!=typeof v||!(g||y.forEach&&!f(function(){(new v).entries().next()}))))m=n.getConstructor(e,t,p,b),s.REQUIRED=!0;else if(o(t,!0)){var E=new m,k=E[b](g?{}:-0,1)!=E,M=f(function(){E.has(1)}),T=d(function(t){new v(t)}),A=!g&&f(function(){for(var t=new v,e=5;e--;)t[b](e,e);return!t.has(-0)});T||((m=e(function(e,n){c(e,m,t);var r=h(new v,e,m);return null!=n&&u(n,r[b],r,p),r})).prototype=y,y.constructor=m),(M||A)&&(w("delete"),w("has"),p&&w("get")),(A||k)&&w(b),g&&y.clear&&delete y.clear}return x[t]=m,r({global:!0,forced:m!=v},x),_(m,t),g||n.setStrong(m,t,p),m}},function(t,e,n){"use strict";var r=n(4),i=n(11),o=n(16).NATIVE_ARRAY_BUFFER,a=n(19),s=n(109),u=n(3),c=n(93),l=n(40),f=n(14),d=n(196),_=n(55).f,h=n(13).f,p=n(156),g=n(47),v=n(39),y=v.get,m=v.set,b=r.ArrayBuffer,x=b,w=r.DataView,E=r.Math,k=r.RangeError,M=E.abs,T=E.pow,A=E.floor,O=E.log,C=E.LN2,S=function(t,e,n){var r,i,o,a=new Array(n),s=8*n-e-1,u=(1<<s)-1,c=u>>1,l=23===e?T(2,-24)-T(2,-77):0,f=t<0||0===t&&1/t<0?1:0,d=0;for((t=M(t))!=t||t===1/0?(i=t!=t?1:0,r=u):(r=A(O(t)/C),t*(o=T(2,-r))<1&&(r--,o*=2),(t+=r+c>=1?l/o:l*T(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(t*o-1)*T(2,e),r+=c):(i=t*T(2,c-1)*T(2,e),r=0));e>=8;a[d++]=255&i,i/=256,e-=8);for(r=r<<e|i,s+=e;s>0;a[d++]=255&r,r/=256,s-=8);return a[--d]|=128*f,a},D=function(t,e){var n,r=t.length,i=8*r-e-1,o=(1<<i)-1,a=o>>1,s=i-7,u=r-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(n=l&(1<<-s)-1,l>>=-s,s+=e;s>0;n=256*n+t[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return n?NaN:c?-1/0:1/0;n+=T(2,e),l-=a}return(c?-1:1)*n*T(2,l-e)},P=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},I=function(t){return[255&t]},N=function(t){return[255&t,t>>8&255]},R=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},L=function(t){return S(t,23,4)},j=function(t){return S(t,52,8)},B=function(t,e){h(t.prototype,e,{get:function(){return y(this)[e]}})},U=function(t,e,n,r){var i=d(+n),o=y(t);if(i+e>o.byteLength)throw k("Wrong index");var a=y(o.buffer).bytes,s=i+o.byteOffset,u=a.slice(s,s+e);return r?u:u.reverse()},q=function(t,e,n,r,i,o){var a=d(+n),s=y(t);if(a+e>s.byteLength)throw k("Wrong index");for(var u=y(s.buffer).bytes,c=a+s.byteOffset,l=r(+i),f=0;f<e;f++)u[c+f]=l[o?f:e-f-1]};if(o){if(!u(function(){b(1)})||!u(function(){new b(-1)})||u(function(){return new b,new b(1.5),new b(NaN),"ArrayBuffer"!=b.name})){for(var z,W=(x=function(t){return c(this,x),new b(d(t))}).prototype=b.prototype,$=_(b),H=0;$.length>H;)(z=$[H++])in x||a(x,z,b[z]);W.constructor=x}var F=new w(new x(2)),K=w.prototype.setInt8;F.setInt8(0,2147483648),F.setInt8(1,2147483649),!F.getInt8(0)&&F.getInt8(1)||s(w.prototype,{setInt8:function(t,e){K.call(this,t,e<<24>>24)},setUint8:function(t,e){K.call(this,t,e<<24>>24)}},{unsafe:!0})}else x=function(t){c(this,x,"ArrayBuffer");var e=d(t);m(this,{bytes:p.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},w=function(t,e,n){c(this,w,"DataView"),c(t,x,"DataView");var r=y(t).byteLength,o=l(e);if(o<0||o>r)throw k("Wrong offset");if(o+(n=void 0===n?r-o:f(n))>r)throw k("Wrong length");m(this,{buffer:t,byteLength:n,byteOffset:o}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=o)},i&&(B(x,"byteLength"),B(w,"buffer"),B(w,"byteLength"),B(w,"byteOffset")),s(w.prototype,{getInt8:function(t){return U(this,1,t)[0]<<24>>24},getUint8:function(t){return U(this,1,t)[0]},getInt16:function(t){var e=U(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=U(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return P(U(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return P(U(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return D(U(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return D(U(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){q(this,1,t,I,e)},setUint8:function(t,e){q(this,1,t,I,e)},setInt16:function(t,e){q(this,2,t,N,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){q(this,2,t,N,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){q(this,4,t,R,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){q(this,4,t,R,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){q(this,4,t,L,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){q(this,8,t,j,e,arguments.length>2?arguments[2]:void 0)}});g(x,"ArrayBuffer"),g(w,"DataView"),e.ArrayBuffer=x,e.DataView=w},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(7),i=n(76),o=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||a[o]===t)}},function(t,e,n){"use strict";var r=n(98),i={};i[n(7)("toStringTag")]="z",t.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},function(t,e,n){var r=n(1),i=n(174);r({target:"Array",stat:!0,forced:!n(140)(function(t){Array.from(t)})},{from:i})},function(t,e,n){"use strict";var r=n(17),i=n(56),o=n(14);t.exports=function(t){for(var e=r(this),n=o(e.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){var r=n(108);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(7)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){var r=n(14),i=n(160),o=n(26),a=Math.ceil,s=function(t){return function(e,n,s){var u,c,l=String(o(e)),f=l.length,d=void 0===s?" ":String(s),_=r(n);return _<=f||""==d?l:(u=_-f,(c=i.call(d,a(u/d.length))).length>u&&(c=c.slice(0,u)),t?l+c:c+l)}};t.exports={start:s(!1),end:s(!0)}},function(t,e,n){"use strict";var r=n(40),i=n(26);t.exports="".repeat||function(t){var e=String(i(this)),n="",o=r(t);if(o<0||o==1/0)throw RangeError("Wrong number of repetitions");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},function(t,e,n){var r=n(3),i=n(92);t.exports=function(t){return r(function(){return!!i[t]()||"​᠎"!="​᠎"[t]()||i[t].name!==t})}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){n(1)({target:"Math",stat:!0},{sign:n(162)})},function(t,e,n){var r,i,o,a=n(4),s=n(3),u=n(43),c=n(69),l=n(133),f=n(104),d=a.location,_=a.setImmediate,h=a.clearImmediate,p=a.process,g=a.MessageChannel,v=a.Dispatch,y=0,m={},b=function(t){if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},x=function(t){return function(){b(t)}},w=function(t){b(t.data)},E=function(t){a.postMessage(t+"",d.protocol+"//"+d.host)};_&&h||(_=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++y]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(y),y},h=function(t){delete m[t]},"process"==u(p)?r=function(t){p.nextTick(x(t))}:v&&v.now?r=function(t){v.now(x(t))}:g?(o=(i=new g).port2,i.port1.onmessage=w,r=c(o.postMessage,o,1)):!a.addEventListener||"function"!=typeof postMessage||a.importScripts||s(E)?r="onreadystatechange"in f("script")?function(t){l.appendChild(f("script")).onreadystatechange=function(){l.removeChild(this),b(t)}}:function(t){setTimeout(x(t),0)}:(r=E,a.addEventListener("message",w,!1))),t.exports={set:_,clear:h}},function(t,e,n){"use strict";var r=n(41),i=function(t){var e,n;this.promise=new t(function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r}),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){var r=n(4),i=n(3),o=n(140),a=n(16).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;t.exports=!a||!i(function(){u(1)})||!i(function(){new u(-1)})||!o(function(t){new u,new u(null),new u(1.5),new u(t)},!0)||i(function(){return 1!==new u(new s(2),1,void 0).length})},function(t,e,n){var r,i,o;i=[n(20)],void 0===(o="function"==typeof(r=function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;return function(){
/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */
var t,n,r;e&&e.requirejs||(e?n=e:e={},function(e){var i,o,a,s,u={},c={},l={},f={},d=Object.prototype.hasOwnProperty,_=[].slice,h=/\.js$/;function p(t,e){return d.call(t,e)}function g(t,e){var n,r,i,o,a,s,u,c,f,d,_,p=e&&e.split("/"),g=l.map,v=g&&g["*"]||{};if(t){for(a=(t=t.split("/")).length-1,l.nodeIdCompat&&h.test(t[a])&&(t[a]=t[a].replace(h,"")),"."===t[0].charAt(0)&&p&&(t=p.slice(0,p.length-1).concat(t)),f=0;f<t.length;f++)if("."===(_=t[f]))t.splice(f,1),f-=1;else if(".."===_){if(0===f||1===f&&".."===t[2]||".."===t[f-1])continue;f>0&&(t.splice(f-1,2),f-=2)}t=t.join("/")}if((p||v)&&g){for(f=(n=t.split("/")).length;f>0;f-=1){if(r=n.slice(0,f).join("/"),p)for(d=p.length;d>0;d-=1)if((i=g[p.slice(0,d).join("/")])&&(i=i[r])){o=i,s=f;break}if(o)break;!u&&v&&v[r]&&(u=v[r],c=f)}!o&&u&&(o=u,s=c),o&&(n.splice(0,s,o),t=n.join("/"))}return t}function v(t,n){return function(){var r=_.call(arguments,0);return"string"!=typeof r[0]&&1===r.length&&r.push(null),o.apply(e,r.concat([t,n]))}}function y(t){return function(e){u[t]=e}}function m(t){if(p(c,t)){var n=c[t];delete c[t],f[t]=!0,i.apply(e,n)}if(!p(u,t)&&!p(f,t))throw new Error("No "+t);return u[t]}function b(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function x(t){return t?b(t):[]}function w(t){return function(){return l&&l.config&&l.config[t]||{}}}a=function(t,e){var n,r,i=b(t),o=i[0],a=e[1];return t=i[1],o&&(n=m(o=g(o,a))),o?t=n&&n.normalize?n.normalize(t,(r=a,function(t){return g(t,r)})):g(t,a):(o=(i=b(t=g(t,a)))[0],t=i[1],o&&(n=m(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},s={require:function(t){return v(t)},exports:function(t){var e=u[t];return void 0!==e?e:u[t]={}},module:function(t){return{id:t,uri:"",exports:u[t],config:w(t)}}},i=function(t,n,r,i){var o,l,d,_,h,g,b,w=[],E=typeof r;if(g=x(i=i||t),"undefined"===E||"function"===E){for(n=!n.length&&r.length?["require","exports","module"]:n,h=0;h<n.length;h+=1)if("require"===(l=(_=a(n[h],g)).f))w[h]=s.require(t);else if("exports"===l)w[h]=s.exports(t),b=!0;else if("module"===l)o=w[h]=s.module(t);else if(p(u,l)||p(c,l)||p(f,l))w[h]=m(l);else{if(!_.p)throw new Error(t+" missing "+l);_.p.load(_.n,v(i,!0),y(l),{}),w[h]=u[l]}d=r?r.apply(u[t],w):void 0,t&&(o&&o.exports!==e&&o.exports!==u[t]?u[t]=o.exports:d===e&&b||(u[t]=d))}else t&&(u[t]=r)},t=n=o=function(t,n,r,u,c){if("string"==typeof t)return s[t]?s[t](n):m(a(t,x(n)).f);if(!t.splice){if((l=t).deps&&o(l.deps,l.callback),!n)return;n.splice?(t=n,n=r,r=null):t=e}return n=n||function(){},"function"==typeof r&&(r=u,u=c),u?i(e,t,n,r):setTimeout(function(){i(e,t,n,r)},4),o},o.config=function(t){return o(t)},t._defined=u,(r=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),p(u,t)||p(c,t)||(c[t]=[t,e,n])}).amd={jQuery:!0}}(),e.requirejs=t,e.require=n,e.define=r)}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){var e={};function n(t){var e=t.prototype,n=[];for(var r in e)"function"==typeof e[r]&&"constructor"!==r&&n.push(r);return n}e.Extend=function(t,e){var n={}.hasOwnProperty;function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},e.Decorate=function(t,e){var r=n(e),i=n(t);function o(){var n=Array.prototype.unshift,r=e.prototype.constructor.length,i=t.prototype.constructor;r>0&&(n.call(arguments,t.prototype.constructor),i=e.prototype.constructor),i.apply(this,arguments)}e.displayName=t.displayName,o.prototype=new function(){this.constructor=o};for(var a=0;a<i.length;a++){var s=i[a];o.prototype[s]=t.prototype[s]}for(var u=function(t){var n=function(){};t in o.prototype&&(n=o.prototype[t]);var r=e.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,n),r.apply(this,arguments)}},c=0;c<r.length;c++){var l=r[c];o.prototype[l]=u(l)}return o};var r=function(){this.listeners={}};r.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},r.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},r.prototype.invoke=function(t,e){for(var n=0,r=t.length;n<r;n++)t[n].apply(this,e)},e.Observable=r,e.generateChars=function(t){for(var e="",n=0;n<t;n++)e+=Math.floor(36*Math.random()).toString(36);return e},e.bind=function(t,e){return function(){t.apply(e,arguments)}},e._convertData=function(t){for(var e in t){var n=e.split("-"),r=t;if(1!==n.length){for(var i=0;i<n.length;i++){var o=n[i];(o=o.substring(0,1).toLowerCase()+o.substring(1))in r||(r[o]={}),i==n.length-1&&(r[o]=t[e]),r=r[o]}delete t[e]}}return t},e.hasScroll=function(e,n){var r=t(n),i=n.style.overflowX,o=n.style.overflowY;return(i!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===i||"scroll"===o||r.innerHeight()<n.scrollHeight||r.innerWidth()<n.scrollWidth)},e.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},e.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var r=t();t.map(n,function(t){r=r.add(t)}),n=r}e.append(n)},e.__cache={};var i=0;return e.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?(e=t.id,t.setAttribute("data-select2-id",e)):(t.setAttribute("data-select2-id",++i),e=i.toString())),e},e.StoreData=function(t,n,r){var i=e.GetUniqueElementId(t);e.__cache[i]||(e.__cache[i]={}),e.__cache[i][n]=r},e.GetData=function(n,r){var i=e.GetUniqueElementId(n);return r?e.__cache[i]&&null!=e.__cache[i][r]?e.__cache[i][r]:t(n).data(r):e.__cache[i]},e.RemoveData=function(t){var n=e.GetUniqueElementId(t);null!=e.__cache[n]&&delete e.__cache[n],t.removeAttribute("data-select2-id")},e}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,r){this.$element=t,this.data=r,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var r=t('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),i=this.options.get("translations").get(e.message);r.append(n(i(e.args))),r[0].className+=" select2-results__message",this.$results.append(r)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var r=t.results[n],i=this.option(r);e.push(i)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current(function(r){var i=t.map(r,function(t){return t.id.toString()});n.$results.find(".select2-results__option[aria-selected]").each(function(){var n=t(this),r=e.GetData(this,"data"),o=""+r.id;null!=r.element&&r.element.selected||null==r.element&&t.inArray(o,i)>-1?n.attr("aria-selected","true"):n.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var r=document.createElement("li");r.className="select2-results__option";var i={role:"option","aria-selected":"false"},o=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var a in(null!=n.element&&o.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==n.id&&delete i["aria-selected"],null!=n._resultId&&(r.id=n._resultId),n.title&&(r.title=n.title),n.children&&(i.role="group",i["aria-label"]=n.text,delete i["aria-selected"]),i){var s=i[a];r.setAttribute(a,s)}if(n.children){var u=t(r),c=document.createElement("strong");c.className="select2-results__group",t(c),this.template(n,c);for(var l=[],f=0;f<n.children.length;f++){var d=n.children[f],_=this.option(d);l.push(_)}var h=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});h.append(l),u.append(c),u.append(h)}else this.template(n,r);return e.StoreData(r,"data",n),r},n.prototype.bind=function(n,r){var i=this,o=n.id+"-results";this.$results.attr("id",o),n.on("results:all",function(t){i.clear(),i.append(t.data),n.isOpen()&&(i.setClasses(),i.highlightFirstItem())}),n.on("results:append",function(t){i.append(t.data),n.isOpen()&&i.setClasses()}),n.on("query",function(t){i.hideMessages(),i.showLoading(t)}),n.on("select",function(){n.isOpen()&&(i.setClasses(),i.options.get("scrollAfterSelect")&&i.highlightFirstItem())}),n.on("unselect",function(){n.isOpen()&&(i.setClasses(),i.options.get("scrollAfterSelect")&&i.highlightFirstItem())}),n.on("open",function(){i.$results.attr("aria-expanded","true"),i.$results.attr("aria-hidden","false"),i.setClasses(),i.ensureHighlightVisible()}),n.on("close",function(){i.$results.attr("aria-expanded","false"),i.$results.attr("aria-hidden","true"),i.$results.removeAttr("aria-activedescendant")}),n.on("results:toggle",function(){var t=i.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),n.on("results:select",function(){var t=i.getHighlightedResults();if(0!==t.length){var n=e.GetData(t[0],"data");"true"==t.attr("aria-selected")?i.trigger("close",{}):i.trigger("select",{data:n})}}),n.on("results:previous",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t);if(!(n<=0)){var r=n-1;0===t.length&&(r=0);var o=e.eq(r);o.trigger("mouseenter");var a=i.$results.offset().top,s=o.offset().top,u=i.$results.scrollTop()+(s-a);0===r?i.$results.scrollTop(0):s-a<0&&i.$results.scrollTop(u)}}),n.on("results:next",function(){var t=i.getHighlightedResults(),e=i.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var r=e.eq(n);r.trigger("mouseenter");var o=i.$results.offset().top+i.$results.outerHeight(!1),a=r.offset().top+r.outerHeight(!1),s=i.$results.scrollTop()+a-o;0===n?i.$results.scrollTop(0):a>o&&i.$results.scrollTop(s)}}),n.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),n.on("results:message",function(t){i.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=i.$results.scrollTop(),n=i.$results.get(0).scrollHeight-e+t.deltaY,r=t.deltaY>0&&e-t.deltaY<=0,o=t.deltaY<0&&n<=i.$results.height();r?(i.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):o&&(i.$results.scrollTop(i.$results.get(0).scrollHeight-i.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(n){var r=t(this),o=e.GetData(this,"data");"true"!==r.attr("aria-selected")?i.trigger("select",{originalEvent:n,data:o}):i.options.get("multiple")?i.trigger("unselect",{originalEvent:n,data:o}):i.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(n){var r=e.GetData(this,"data");i.getHighlightedResults().removeClass("select2-results__option--highlighted"),i.trigger("results:focus",{data:r,element:t(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,r=t.offset().top,i=this.$results.scrollTop()+(r-n),o=r-n;i-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(i)}},n.prototype.template=function(e,n){var r=this.options.get("templateResult"),i=this.options.get("escapeMarkup"),o=r(e,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=i(o):t(n).append(o)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function r(t,e){this.$element=t,this.options=e,r.__super__.constructor.call(this)}return e.Extend(r,e.Observable),r.prototype.render=function(){var n=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=e.GetData(this.$element[0],"old-tabindex")?this._tabindex=e.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n,n},r.prototype.bind=function(t,e){var r=this,i=t.id+"-results";this.container=t,this.$selection.on("focus",function(t){r.trigger("focus",t)}),this.$selection.on("blur",function(t){r._handleBlur(t)}),this.$selection.on("keydown",function(t){r.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){r.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){r.update(t.data)}),t.on("open",function(){r.$selection.attr("aria-expanded","true"),r.$selection.attr("aria-owns",i),r._attachCloseHandler(t)}),t.on("close",function(){r.$selection.attr("aria-expanded","false"),r.$selection.removeAttr("aria-activedescendant"),r.$selection.removeAttr("aria-owns"),r.$selection.trigger("focus"),r._detachCloseHandler(t)}),t.on("enable",function(){r.$selection.attr("tabindex",r._tabindex),r.$selection.attr("aria-disabled","false")}),t.on("disable",function(){r.$selection.attr("tabindex","-1"),r.$selection.attr("aria-disabled","true")})},r.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},r.prototype._attachCloseHandler=function(n){t(document.body).on("mousedown.select2."+n.id,function(n){var r=t(n.target).closest(".select2");t(".select2.select2-container--open").each(function(){this!=r[0]&&e.GetData(this,"element").select2("close")})})},r.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},r.prototype.position=function(t,e){e.find(".selection").append(t)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},r}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,r){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},i.prototype.bind=function(t,e){var n=this;i.__super__.bind.apply(this,arguments);var r=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",r),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("focus",function(e){t.isOpen()||n.$selection.trigger("focus")})},i.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t("<span></span>")},i.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),r=this.display(e,n);n.empty().append(r);var i=e.title||e.text;i?n.attr("title",i):n.removeAttr("title")}else this.clear()},i}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function r(t,e){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,e),r.prototype.render=function(){var t=r.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},r.prototype.bind=function(e,i){var o=this;r.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){o.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!o.options.get("disabled")){var r=t(this).parent(),i=n.GetData(r[0],"data");o.trigger("unselect",{originalEvent:e,data:i})}})},r.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},r.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},r.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},r.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],r=0;r<t.length;r++){var i=t[r],o=this.selectionContainer(),a=this.display(i,o);o.append(a);var s=i.title||i.text;s&&o.attr("title",s),n.StoreData(o[0],"data",i),e.push(o)}var u=this.$selection.find(".select2-selection__rendered");n.appendMany(u,e)}},r}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(e.length>1||n)return t.call(this,e);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},e}),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(t,e,n){function r(){}return r.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){r._handleClear(t)}),e.on("keypress",function(t){r._handleKeyboardClear(t,e)})},r.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var r=this.$selection.find(".select2-selection__clear");if(0!==r.length){e.stopPropagation();var i=n.GetData(r[0],"data"),o=this.$element.val();this.$element.val(this.placeholder.id);var a={data:i};if(this.trigger("clear",a),a.prevented)this.$element.val(o);else{for(var s=0;s<i.length;s++)if(a={data:i[s]},this.trigger("unselect",a),a.prevented)return void this.$element.val(o);this.$element.trigger("change"),this.trigger("toggle",{})}}}},r.prototype._handleKeyboardClear=function(t,n,r){r.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},r.prototype.update=function(e,r){if(e.call(this,r),!(this.$selection.find(".select2-selection__placeholder").length>0||0===r.length)){var i=this.options.get("translations").get("removeAllItems"),o=t('<span class="select2-selection__clear" title="'+i()+'">&times;</span>');n.StoreData(o[0],"data",r),this.$selection.find(".select2-selection__rendered").prepend(o)}},r}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function r(t,e,n){t.call(this,e,n)}return r.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var r=e.call(this);return this._transferTabIndex(),r},r.prototype.bind=function(t,r,i){var o=this,a=r.id+"-results";t.call(this,r,i),r.on("open",function(){o.$search.attr("aria-controls",a),o.$search.trigger("focus")}),r.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),r.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),r.on("disable",function(){o.$search.prop("disabled",!0)}),r.on("focus",function(t){o.$search.trigger("focus")}),r.on("results:focus",function(t){t.data._resultId?o.$search.attr("aria-activedescendant",t.data._resultId):o.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(t){o.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){o._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===o.$search.val()){var r=o.$searchContainer.prev(".select2-selection__choice");if(r.length>0){var i=e.GetData(r[0],"data");o.searchRemoveChoice(i),t.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(t){o.$search.val()&&t.stopPropagation()});var s=document.documentMode,u=s&&s<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){u?o.$selection.off("input.search input.searchcheck"):o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(u&&"input"===t.type)o.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&o.handleSearch(t)}})},r.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},r.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},r.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";t=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",t)},r}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,r){var i=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];e.call(this,n,r),n.on("*",function(e,n){if(-1!==t.inArray(e,o)){n=n||{};var r=t.Event("select2:"+e,{params:n});i.$element.trigger(r),-1!==t.inArray(e,a)&&(n.prevented=r.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var r=e(t);n._cache[t]=r}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}}),e.define("select2/data/base",["../utils"],function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var r=e.id+"-result-";return r+=t.generateChars(4),null!=n.id?r+="-"+n.id.toString():r+="-"+t.generateChars(4),r},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function r(t,e){this.$element=t,this.options=e,r.__super__.constructor.call(this)}return e.Extend(r,t),r.prototype.current=function(t){var e=[],r=this;this.$element.find(":selected").each(function(){var t=n(this),i=r.item(t);e.push(i)}),t(e)},r.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(r){var i=[];(t=[t]).push.apply(t,r);for(var o=0;o<t.length;o++){var a=t[o].id;-1===n.inArray(a,i)&&i.push(a)}e.$element.val(i),e.$element.trigger("change")});else{var r=t.id;this.$element.val(r),this.$element.trigger("change")}},r.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,n(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("change");this.current(function(r){for(var i=[],o=0;o<r.length;o++){var a=r[o].id;a!==t.id&&-1===n.inArray(a,i)&&i.push(a)}e.$element.val(i),e.$element.trigger("change")})}},r.prototype.bind=function(t,e){var n=this;this.container=t,t.on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){e.RemoveData(this)})},r.prototype.query=function(t,e){var r=[],i=this;this.$element.children().each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var o=i.item(e),a=i.matches(t,o);null!==a&&r.push(a)}}),e({results:r})},r.prototype.addOptions=function(t){e.appendMany(this.$element,t)},r.prototype.option=function(t){var r;t.children?(r=document.createElement("optgroup")).label=t.text:void 0!==(r=document.createElement("option")).textContent?r.textContent=t.text:r.innerText=t.text,void 0!==t.id&&(r.value=t.id),t.disabled&&(r.disabled=!0),t.selected&&(r.selected=!0),t.title&&(r.title=t.title);var i=n(r),o=this._normalizeItem(t);return o.element=r,e.StoreData(r,"data",o),i},r.prototype.item=function(t){var r={};if(null!=(r=e.GetData(t[0],"data")))return r;if(t.is("option"))r={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){r={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),o=[],a=0;a<i.length;a++){var s=n(i[a]),u=this.item(s);o.push(u)}r.children=o}return(r=this._normalizeItem(r)).element=t[0],e.StoreData(t[0],"data",r),r},r.prototype._normalizeItem=function(t){return t!==Object(t)&&(t={id:t,text:t}),null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},{selected:!1,disabled:!1},t)},r.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},r}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function r(t,e){this._dataToConvert=e.get("data")||[],r.__super__.constructor.call(this,t,e)}return e.Extend(r,t),r.prototype.bind=function(t,e){r.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},r.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),r.__super__.select.call(this,t)},r.prototype.convertToOptions=function(t){var r=this,i=this.$element.find("option"),o=i.map(function(){return r.item(n(this)).id}).get(),a=[];function s(t){return function(){return n(this).val()==t.id}}for(var u=0;u<t.length;u++){var c=this._normalizeItem(t[u]);if(n.inArray(c.id,o)>=0){var l=i.filter(s(c)),f=this.item(l),d=n.extend(!0,{},c,f),_=this.option(d);l.replaceWith(_)}else{var h=this.option(c);if(c.children){var p=this.convertToOptions(c.children);e.appendMany(h,p)}a.push(h)}}return a},r}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function r(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),r.__super__.constructor.call(this,t,e)}return e.Extend(r,t),r.prototype._applyDefaults=function(t){var e={data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,r){var i=n.ajax(t);return i.then(e),i.fail(r),i}};return n.extend({},e,t,!0)},r.prototype.processResults=function(t){return t},r.prototype.query=function(t,e){var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var i=n.extend({type:"GET"},this.ajaxOptions);function o(){var o=i.transport(i,function(i){var o=r.processResults(i,t);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(o)},function(){"status"in o&&(0===o.status||"0"===o.status)||r.trigger("results:message",{message:"errorLoading"})});r._request=o}"function"==typeof i.url&&(i.url=i.url.call(this.$element,t)),"function"==typeof i.data&&(i.data=i.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(o,this.ajaxOptions.delay)):o()},r}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,r){var i=r.get("tags"),o=r.get("createTag");void 0!==o&&(this.createTag=o);var a=r.get("insertTag");if(void 0!==a&&(this.insertTag=a),e.call(this,n,r),t.isArray(i))for(var s=0;s<i.length;s++){var u=i[s],c=this._normalizeItem(u),l=this.option(c);this.$element.append(l)}}return e.prototype.query=function(t,e,n){var r=this;this._removeOldTags(),null!=e.term&&null==e.page?t.call(this,e,function t(i,o){for(var a=i.results,s=0;s<a.length;s++){var u=a[s],c=null!=u.children&&!t({results:u.children},!0);if((u.text||"").toUpperCase()===(e.term||"").toUpperCase()||c)return!o&&(i.data=a,void n(i))}if(o)return!0;var l=r.createTag(e);if(null!=l){var f=r.option(l);f.attr("data-select2-tag",!0),r.addOptions([f]),r.insertTag(a,l)}i.results=a,n(i)}):t.call(this,e,n)},e.prototype.createTag=function(e,n){var r=t.trim(n.term);return""===r?null:{id:r,text:r}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var r=n.get("tokenizer");void 0!==r&&(this.tokenizer=r),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,r){var i=this;n.term=n.term||"";var o=this.tokenizer(n,this.options,function(e){var n=i._normalizeItem(e);if(!i.$element.find("option").filter(function(){return t(this).val()===n.id}).length){var r=i.option(n);r.attr("data-select2-tag",!0),i._removeOldTags(),i.addOptions([r])}!function(t){i.trigger("select",{data:t})}(n)});o.term!==n.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.trigger("focus")),n.term=o.term),e.call(this,n,r)},e.prototype.tokenizer=function(e,n,r,i){for(var o=r.get("tokenSeparators")||[],a=n.term,s=0,u=this.createTag||function(t){return{id:t.term,text:t.term}};s<a.length;){var c=a[s];if(-1!==t.inArray(c,o)){var l=a.substr(0,s),f=u(t.extend({},n,{term:l}));null!=f?(i(f),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("select",function(){r._checkIfMaximumSelected()})},t.prototype.query=function(t,e,n){var r=this;this._checkIfMaximumSelected(function(){t.call(r,e,n)})},t.prototype._checkIfMaximumSelected=function(t,e){var n=this;this.current(function(t){var r=null!=t?t.length:0;n.maximumSelectionLength>0&&r>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):e&&e()})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function n(){}return n.prototype.render=function(e){var n=e.call(this),r=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=r,this.$search=r.find("input"),n.prepend(r),n},n.prototype.bind=function(e,n,r){var i=this,o=n.id+"-results";e.call(this,n,r),this.$search.on("keydown",function(t){i.trigger("keypress",t),i._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){i.handleSearch(t)}),n.on("open",function(){i.$search.attr("tabindex",0),i.$search.attr("aria-controls",o),i.$search.trigger("focus"),window.setTimeout(function(){i.$search.trigger("focus")},0)}),n.on("close",function(){i.$search.attr("tabindex",-1),i.$search.removeAttr("aria-controls"),i.$search.removeAttr("aria-activedescendant"),i.$search.val(""),i.$search.trigger("blur")}),n.on("focus",function(){n.isOpen()||i.$search.trigger("focus")}),n.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(i.showSearch(t)?i.$searchContainer.removeClass("select2-search--hide"):i.$searchContainer.addClass("select2-search--hide"))}),n.on("results:focus",function(t){t.data._resultId?i.$search.attr("aria-activedescendant",t.data._resultId):i.$search.removeAttr("aria-activedescendant")})},n.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.showSearch=function(t,e){return!0},n}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,r){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,r)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),r=e.length-1;r>=0;r--){var i=e[r];this.placeholder.id===i.id&&n.splice(r,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,r){this.lastParams={},t.call(this,e,n,r),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("query",function(t){r.lastParams=t,r.loading=!0}),e.on("query:append",function(t){r.lastParams=t,r.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=t.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&e&&this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore()},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,r){this.$dropdownParent=t(r.get("dropdownParent")||document.body),e.call(this,n,r)}return n.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("open",function(){r._showDropdown(),r._attachPositioningHandler(e),r._bindContainerResultHandlers(e)}),e.on("close",function(){r._hideDropdown(),r._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),r=e.call(this);return n.append(r),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(t,e){if(!this._containerResultsHandlersBound){var n=this;e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,r){var i=this,o="scroll.select2."+r.id,a="resize.select2."+r.id,s="orientationchange.select2."+r.id,u=this.$container.parents().filter(e.hasScroll);u.each(function(){e.StoreData(this,"select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),u.on(o,function(n){var r=e.GetData(this,"select2-scroll-position");t(this).scrollTop(r.y)}),t(window).on(o+" "+a+" "+s,function(t){i._positionDropdown(),i._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,r){var i="scroll.select2."+r.id,o="resize.select2."+r.id,a="orientationchange.select2."+r.id;this.$container.parents().filter(e.hasScroll).off(i),t(window).off(i+" "+o+" "+a)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),r=this.$dropdown.hasClass("select2-dropdown--below"),i=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=o.top,a.bottom=o.top+a.height;var s=this.$dropdown.outerHeight(!1),u=e.scrollTop(),c=e.scrollTop()+e.height(),l=u<o.top-s,f=c>o.bottom+s,d={left:o.left,top:a.bottom},_=this.$dropdownParent;"static"===_.css("position")&&(_=_.offsetParent());var h=_.offset();d.top-=h.top,d.left-=h.left,n||r||(i="below"),f||!l||n?!l&&f&&n&&(i="below"):i="above",("above"==i||n&&"below"!==i)&&(d.top=a.top-h.top-s),null!=i&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+i),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+i)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,n,r){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,r)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,r=0;r<e.length;r++){var i=e[r];i.children?n+=t(i.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),e.define("select2/dropdown/selectOnClose",["../utils"],function(t){function e(){}return e.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("close",function(t){r._handleSelectOnClose(t)})},e.prototype._handleSelectOnClose=function(e,n){if(n&&null!=n.originalSelect2Event){var r=n.originalSelect2Event;if("select"===r._type||"unselect"===r._type)return}var i=this.getHighlightedResults();if(!(i.length<1)){var o=t.GetData(i[0],"data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("select",function(t){r._selectTriggered(t)}),e.on("unselect",function(t){r._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,r,i,o,a,s,u,c,l,f,d,_,h,p,g,v,y,m,b,x,w,E,k,M,T,A,O){function C(){this.reset()}return C.prototype.apply=function(l){if(null==(l=t.extend(!0,{},this.defaults,l)).dataAdapter){if(null!=l.ajax?l.dataAdapter=h:null!=l.data?l.dataAdapter=_:l.dataAdapter=d,l.minimumInputLength>0&&(l.dataAdapter=c.Decorate(l.dataAdapter,v)),l.maximumInputLength>0&&(l.dataAdapter=c.Decorate(l.dataAdapter,y)),l.maximumSelectionLength>0&&(l.dataAdapter=c.Decorate(l.dataAdapter,m)),l.tags&&(l.dataAdapter=c.Decorate(l.dataAdapter,p)),null==l.tokenSeparators&&null==l.tokenizer||(l.dataAdapter=c.Decorate(l.dataAdapter,g)),null!=l.query){var f=e(l.amdBase+"compat/query");l.dataAdapter=c.Decorate(l.dataAdapter,f)}if(null!=l.initSelection){var O=e(l.amdBase+"compat/initSelection");l.dataAdapter=c.Decorate(l.dataAdapter,O)}}if(null==l.resultsAdapter&&(l.resultsAdapter=n,null!=l.ajax&&(l.resultsAdapter=c.Decorate(l.resultsAdapter,E)),null!=l.placeholder&&(l.resultsAdapter=c.Decorate(l.resultsAdapter,w)),l.selectOnClose&&(l.resultsAdapter=c.Decorate(l.resultsAdapter,T))),null==l.dropdownAdapter){if(l.multiple)l.dropdownAdapter=b;else{var C=c.Decorate(b,x);l.dropdownAdapter=C}if(0!==l.minimumResultsForSearch&&(l.dropdownAdapter=c.Decorate(l.dropdownAdapter,M)),l.closeOnSelect&&(l.dropdownAdapter=c.Decorate(l.dropdownAdapter,A)),null!=l.dropdownCssClass||null!=l.dropdownCss||null!=l.adaptDropdownCssClass){var S=e(l.amdBase+"compat/dropdownCss");l.dropdownAdapter=c.Decorate(l.dropdownAdapter,S)}l.dropdownAdapter=c.Decorate(l.dropdownAdapter,k)}if(null==l.selectionAdapter){if(l.multiple?l.selectionAdapter=i:l.selectionAdapter=r,null!=l.placeholder&&(l.selectionAdapter=c.Decorate(l.selectionAdapter,o)),l.allowClear&&(l.selectionAdapter=c.Decorate(l.selectionAdapter,a)),l.multiple&&(l.selectionAdapter=c.Decorate(l.selectionAdapter,s)),null!=l.containerCssClass||null!=l.containerCss||null!=l.adaptContainerCssClass){var D=e(l.amdBase+"compat/containerCss");l.selectionAdapter=c.Decorate(l.selectionAdapter,D)}l.selectionAdapter=c.Decorate(l.selectionAdapter,u)}l.language=this._resolveLanguage(l.language),l.language.push("en");for(var P=[],I=0;I<l.language.length;I++){var N=l.language[I];-1===P.indexOf(N)&&P.push(N)}return l.language=P,l.translations=this._processTranslations(l.language,l.debug),l},C.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return f[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:function n(r,i){if(""===t.trim(r.term))return i;if(i.children&&i.children.length>0){for(var o=t.extend(!0,{},i),a=i.children.length-1;a>=0;a--)null==n(r,i.children[a])&&o.children.splice(a,1);return o.children.length>0?o:n(r,o)}var s=e(i.text).toUpperCase(),u=e(r.term).toUpperCase();return s.indexOf(u)>-1?i:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},C.prototype.applyFromElement=function(t,e){var n=t.language,r=this.defaults.language,i=e.prop("lang"),o=e.closest("[lang]").prop("lang"),a=Array.prototype.concat.call(this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(r),this._resolveLanguage(o));return t.language=a,t},C.prototype._resolveLanguage=function(e){if(!e)return[];if(t.isEmptyObject(e))return[];if(t.isPlainObject(e))return[e];var n;n=t.isArray(e)?e:[e];for(var r=[],i=0;i<n.length;i++)if(r.push(n[i]),"string"==typeof n[i]&&n[i].indexOf("-")>0){var o=n[i].split("-")[0];r.push(o)}return r},C.prototype._processTranslations=function(e,n){for(var r=new l,i=0;i<e.length;i++){var o=new l,a=e[i];if("string"==typeof a)try{o=l.loadPath(a)}catch(t){try{a=this.defaults.amdLanguageBase+a,o=l.loadPath(a)}catch(t){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+a+'" could not be automatically loaded. A fallback will be used instead.')}}else o=t.isPlainObject(a)?new l(a):a;r.extend(o)}return r},C.prototype.set=function(e,n){var r={};r[t.camelCase(e)]=n;var i=c._convertData(r);t.extend(!0,this.defaults,i)},new C}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,r){function i(e,i){if(this.options=e,null!=i&&this.fromElement(i),null!=i&&(this.options=n.applyFromElement(this.options,i)),this.options=n.apply(this.options),i&&i.is("input")){var o=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,o)}}return i.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),r.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),r.StoreData(t[0],"data",r.GetData(t[0],"select2Tags")),r.StoreData(t[0],"tags",!0)),r.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",r.GetData(t[0],"ajaxUrl")),r.StoreData(t[0],"ajax-Url",r.GetData(t[0],"ajaxUrl")));var i={};function o(t,e){return e.toUpperCase()}for(var a=0;a<t[0].attributes.length;a++){var s=t[0].attributes[a].name;if("data-"==s.substr(0,"data-".length)){var u=s.substring("data-".length),c=r.GetData(t[0],u);i[u.replace(/-([a-z])/g,o)]=c}}e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset&&(i=e.extend(!0,{},t[0].dataset,i));var l=e.extend(!0,{},r.GetData(t[0]),i);for(var f in l=r._convertData(l))e.inArray(f,n)>-1||(e.isPlainObject(this.options[f])?e.extend(this.options[f],l[f]):this.options[f]=l[f]);return this},i.prototype.get=function(t){return this.options[t]},i.prototype.set=function(t,e){this.options[t]=e},i}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,r){var i=function(t,r){null!=n.GetData(t[0],"select2")&&n.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),r=r||{},this.options=new e(r,t),i.__super__.constructor.call(this);var o=t.attr("tabindex")||0;n.StoreData(t[0],"old-tabindex",o),t.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(t,this.options);var s=this.render();this._placeContainer(s);var u=this.options.get("selectionAdapter");this.selection=new u(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var c=this.options.get("dropdownAdapter");this.dropdown=new c(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var l=this.options.get("resultsAdapter");this.results=new l(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var f=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){f.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(t[0],"select2",this),t.data("select2",this)};return n.Extend(i,n.Observable),i.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},i.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},i.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var r=this._resolveWidth(t,"style");return null!=r?r:this._resolveWidth(t,"element")}if("element"==e){var i=t.outerWidth(!1);return i<=0?"auto":i+"px"}if("style"==e){var o=t.attr("style");if("string"!=typeof o)return null;for(var a=o.split(";"),s=0,u=a.length;s<u;s+=1){var c=a[s].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return"computedstyle"==e?window.getComputedStyle(t[0]).width:e},i.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},i.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=r?(this._observer=new r(function(n){t.each(n,e._syncA),t.each(n,e._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},i.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},i.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(r,i){-1===t.inArray(r,n)&&e.trigger(r,i)})},i.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},i.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},i.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===r.ESC||n===r.TAB||n===r.UP&&e.altKey?(t.close(),e.preventDefault()):n===r.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===r.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===r.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===r.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===r.ENTER||n===r.SPACE||n===r.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},i.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},i.prototype._syncSubtree=function(t,e){var n=!1,r=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&e.addedNodes.length>0)for(var i=0;i<e.addedNodes.length;i++)e.addedNodes[i].selected&&(n=!0);else e.removedNodes&&e.removedNodes.length>0&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(t){r.trigger("selection:update",{data:t})})}},i.prototype.trigger=function(t,e){var n=i.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in r){var o=r[t],a={prevented:!1,name:t,args:e};if(n.call(this,o,a),a.prevented)return void(e.prevented=!0)}n.call(this,t,e)},i.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},i.prototype.open=function(){this.isOpen()||this.trigger("query",{})},i.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},i.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},i.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},i.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},i.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},i.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},i.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},i.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},i.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(e[0],"element",this.$element),e},i}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(t,e,n,r,i){if(null==t.fn.select2){var o=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var r=t.extend(!0,{},e);new n(t(this),r)}),this;if("string"==typeof e){var r,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=i.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),r=t[e].apply(t,a)}),t.inArray(e,o)>-1?this:r}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=r),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n})?r.apply(e,i):r)||(t.exports=o)},function(t,e,n){"use strict";var r=n(11),i=n(3),o=n(85),a=n(105),s=n(94),u=n(17),c=n(72),l=Object.assign;t.exports=!l||i(function(){var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(t){e[t]=t}),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=o(l({},e)).join("")})?function(t,e){for(var n=u(t),i=arguments.length,l=1,f=a.f,d=s.f;i>l;)for(var _,h=c(arguments[l++]),p=f?o(h).concat(f(h)):o(h),g=p.length,v=0;g>v;)_=p[v++],r&&!d.call(h,_)||(n[_]=h[_]);return n}:l},function(t,e,n){var r=n(1),i=n(170).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},function(t,e,n){var r=n(11),i=n(85),o=n(27),a=n(94).f,s=function(t){return function(e){for(var n,s=o(e),u=i(s),c=u.length,l=0,f=[];c>l;)n=u[l++],r&&!a.call(s,n)||f.push(t?[n,s[n]]:s[n]);return f}};t.exports={entries:s(!0),values:s(!1)}},function(t,e,n){var r=n(1),i=n(118),o=n(3),a=n(9),s=n(97).onFreeze,u=Object.freeze;r({target:"Object",stat:!0,forced:o(function(){u(1)}),sham:!i},{freeze:function(t){return u&&a(t)?u(s(t)):t}})},function(t,e,n){var r=n(8);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){var o=t.return;throw void 0!==o&&r(o.call(t)),e}}},function(t,e,n){"use strict";var r=n(41),i=n(9),o=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=o.call(arguments,1),a=function(){var r=n.concat(o.call(arguments));return this instanceof a?s(e,r.length,r):e.apply(t,r)};return i(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){"use strict";var r=n(69),i=n(17),o=n(172),a=n(153),s=n(14),u=n(70),c=n(119);t.exports=function(t){var e,n,l,f,d=i(t),_="function"==typeof this?this:Array,h=arguments.length,p=h>1?arguments[1]:void 0,g=void 0!==p,v=0,y=c(d);if(g&&(p=r(p,h>2?arguments[2]:void 0,2)),null==y||_==Array&&a(y))for(n=new _(e=s(d.length));e>v;v++)u(n,v,g?p(d[v],v):d[v]);else for(f=y.call(d),n=new _;!(l=f.next()).done;v++)u(n,v,g?o(f,p,[l.value,v],!0):l.value);return n.length=v,n}},function(t,e,n){"use strict";var r=n(17),i=n(56),o=n(14),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),s=o(n.length),u=i(t,s),c=i(e,s),l=arguments.length>2?arguments[2]:void 0,f=a((void 0===l?s:i(l,s))-c,s-u),d=1;for(c<u&&u<c+f&&(d=-1,c+=f-1,u+=f-1);f-- >0;)c in n?n[u]=n[c]:delete n[u],u+=d,c+=d;return n}},function(t,e,n){"use strict";var r=n(63),i=n(14),o=n(69),a=function(t,e,n,s,u,c,l,f){for(var d,_=u,h=0,p=!!l&&o(l,f,3);h<s;){if(h in n){if(d=p?p(n[h],h,e):n[h],c>0&&r(d))_=a(t,e,d,i(d.length),_,c-1)-1;else{if(_>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[_]=d}_++}h++}return _};t.exports=a},function(t,e,n){"use strict";var r=n(27),i=n(40),o=n(14),a=n(48),s=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,l=a("lastIndexOf");t.exports=c||l?function(t){if(c)return u.apply(this,arguments)||0;var e=r(this),n=o(e.length),a=n-1;for(arguments.length>1&&(a=s(a,i(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:u},function(t,e,n){"use strict";var r=n(89),i=n(8),o=n(14),a=n(26),s=n(100),u=n(91);r("match",1,function(t,e,n){return[function(e){var n=a(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=i(t),c=String(this);if(!a.global)return u(a,c);var l=a.unicode;a.lastIndex=0;for(var f,d=[],_=0;null!==(f=u(a,c));){var h=String(f[0]);d[_]=h,""===h&&(a.lastIndex=s(c,o(a.lastIndex),l)),_++}return 0===_?null:d}]})},function(t,e,n){var r=n(144);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(t,e,n){"use strict";var r=n(11),i=n(4),o=n(84),a=n(23),s=n(15),u=n(43),c=n(124),l=n(45),f=n(3),d=n(57),_=n(55).f,h=n(38).f,p=n(13).f,g=n(79).trim,v=i.Number,y=v.prototype,m="Number"==u(d(y)),b=function(t){var e,n,r,i,o,a,s,u,c=l(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=g(c)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(a=(o=c.slice(2)).length,s=0;s<a;s++)if((u=o.charCodeAt(s))<48||u>i)return NaN;return parseInt(o,r)}return+c};if(o("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,w=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof w&&(m?f(function(){y.valueOf.call(n)}):"Number"!=u(n))?c(new v(b(e)),n,w):b(e)},E=r?_(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;E.length>k;k++)s(v,x=E[k])&&!s(w,x)&&p(w,x,h(v,x));w.prototype=y,y.constructor=w,a(i,"Number",w)}},function(t,e,n){n(1)({target:"Number",stat:!0},{isInteger:n(182)})},function(t,e,n){var r=n(9),i=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&i(t)===t}},function(t,e,n){var r=n(43);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},function(t,e){var n=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},function(t,e,n){var r=n(1),i=n(149);r({target:"Math",stat:!0,forced:i!=Math.expm1},{expm1:i})},function(t,e,n){var r=n(1),i=Math.log,o=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(t){return i(t)*o}})},function(t,e,n){n(1)({target:"Math",stat:!0},{log1p:n(184)})},function(t,e,n){var r=n(1),i=Math.log,o=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return i(t)/o}})},function(t,e,n){var r=n(4);t.exports=r.Promise},function(t,e,n){var r,i,o,a,s,u,c,l,f=n(4),d=n(38).f,_=n(43),h=n(164).set,p=n(144),g=f.MutationObserver||f.WebKitMutationObserver,v=f.process,y=f.Promise,m="process"==_(v),b=d(f,"queueMicrotask"),x=b&&b.value;x||(r=function(){var t,e;for(m&&(t=v.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?a():o=void 0,t}}o=void 0,t&&t.enter()},m?a=function(){v.nextTick(r)}:g&&!/(iphone|ipod|ipad).*applewebkit/i.test(p)?(s=!0,u=document.createTextNode(""),new g(r).observe(u,{characterData:!0}),a=function(){u.data=s=!s}):y&&y.resolve?(c=y.resolve(void 0),l=c.then,a=function(){l.call(c,r)}):a=function(){h.call(f,r)}),t.exports=x||function(t){var e={fn:t,next:void 0};o&&(o.next=e),i||(i=e,a()),o=e}},function(t,e,n){var r=n(8),i=n(9),o=n(165);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=o.f(t);return(0,n.resolve)(e),n.promise}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";var r=n(150),i=n(194);t.exports=r("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},i,!0)},function(t,e,n){"use strict";var r=n(13).f,i=n(57),o=n(109),a=n(69),s=n(93),u=n(106),c=n(107),l=n(88),f=n(11),d=n(97).fastKey,_=n(39),h=_.set,p=_.getterFor;t.exports={getConstructor:function(t,e,n,c){var l=t(function(t,r){s(t,l,e),h(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=r&&u(r,t[c],t,n)}),_=p(e),g=function(t,e,n){var r,i,o=_(t),a=v(t,e);return a?a.value=n:(o.last=a={index:i=d(e,!0),key:e,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:t.size++,"F"!==i&&(o.index[i]=a)),t},v=function(t,e){var n,r=_(t),i=d(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return o(l.prototype,{clear:function(){for(var t=_(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=_(this),n=v(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),f?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=_(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),o(l.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),f&&r(l.prototype,"size",{get:function(){return _(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",i=p(e),o=p(r);c(t,e,function(t,e){h(this,{type:r,target:t,state:i(t),kind:e,last:void 0})},function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){"use strict";var r=n(109),i=n(97).getWeakData,o=n(8),a=n(9),s=n(93),u=n(106),c=n(33),l=n(15),f=n(39),d=f.set,_=f.getterFor,h=c.find,p=c.findIndex,g=0,v=function(t){return t.frozen||(t.frozen=new y)},y=function(){this.entries=[]},m=function(t,e){return h(t.entries,function(t){return t[0]===e})};y.prototype={get:function(t){var e=m(this,t);if(e)return e[1]},has:function(t){return!!m(this,t)},set:function(t,e){var n=m(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=p(this.entries,function(e){return e[0]===t});return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,c){var f=t(function(t,r){s(t,f,e),d(t,{type:e,id:g++,frozen:void 0}),null!=r&&u(r,t[c],t,n)}),h=_(e),p=function(t,e,n){var r=h(t),a=i(o(e),!0);return!0===a?v(r).set(e,n):a[r.id]=n,t};return r(f.prototype,{delete:function(t){var e=h(this);if(!a(t))return!1;var n=i(t);return!0===n?v(e).delete(t):n&&l(n,e.id)&&delete n[e.id]},has:function(t){var e=h(this);if(!a(t))return!1;var n=i(t);return!0===n?v(e).has(t):n&&l(n,e.id)}}),r(f.prototype,n?{get:function(t){var e=h(this);if(a(t)){var n=i(t);return!0===n?v(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return p(this,t,e)}}:{add:function(t){return p(this,t,!0)}}),f}}},function(t,e,n){var r=n(40),i=n(14);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){"use strict";var r=n(1),i=n(3),o=n(151),a=n(8),s=n(56),u=n(14),c=n(65),l=o.ArrayBuffer,f=o.DataView,d=l.prototype.slice;r({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:i(function(){return!new l(2).slice(1,void 0).byteLength})},{slice:function(t,e){if(void 0!==d&&void 0===e)return d.call(a(this),t);for(var n=a(this).byteLength,r=s(t,n),i=s(void 0===e?n:e,n),o=new(c(this,l))(u(i-r)),_=new f(this),h=new f(o),p=0;r<i;)h.setUint8(p++,_.getUint8(r++));return o}})},function(t,e,n){var r=n(40);t.exports=function(t,e){var n=r(t);if(n<0||n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var r=n(17),i=n(14),o=n(119),a=n(153),s=n(69),u=n(16).aTypedArrayConstructor;t.exports=function(t){var e,n,c,l,f,d=r(t),_=arguments.length,h=_>1?arguments[1]:void 0,p=void 0!==h,g=o(d);if(null!=g&&!a(g))for(f=g.call(d),d=[];!(l=f.next()).done;)d.push(l.value);for(p&&_>2&&(h=s(h,arguments[2],2)),n=i(d.length),c=new(u(this))(n),e=0;n>e;e++)c[e]=p?h(d[e],e):d[e];return c}},function(t,e,n){n(80)("Float32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){"use strict";var r=n(16),i=n(175),o=r.aTypedArray;r.exportProto("copyWithin",function(t,e){return i.call(o(this),t,e,arguments.length>2?arguments[2]:void 0)})},function(t,e,n){"use strict";var r=n(16),i=n(33).every,o=r.aTypedArray;r.exportProto("every",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(16),i=n(156),o=r.aTypedArray;r.exportProto("fill",function(t){return i.apply(o(this),arguments)})},function(t,e,n){"use strict";var r=n(16),i=n(33).filter,o=n(65),a=r.aTypedArray,s=r.aTypedArrayConstructor;r.exportProto("filter",function(t){for(var e=i(a(this),t,arguments.length>1?arguments[1]:void 0),n=o(this,this.constructor),r=0,u=e.length,c=new(s(n))(u);u>r;)c[r]=e[r++];return c})},function(t,e,n){"use strict";var r=n(16),i=n(33).find,o=r.aTypedArray;r.exportProto("find",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(16),i=n(33).findIndex,o=r.aTypedArray;r.exportProto("findIndex",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(16),i=n(33).forEach,o=r.aTypedArray;r.exportProto("forEach",function(t){i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(16),i=n(83).includes,o=r.aTypedArray;r.exportProto("includes",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(16),i=n(83).indexOf,o=r.aTypedArray;r.exportProto("indexOf",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(4),i=n(16),o=n(18),a=n(7)("iterator"),s=r.Uint8Array,u=o.values,c=o.keys,l=o.entries,f=i.aTypedArray,d=i.exportProto,_=s&&s.prototype[a],h=!!_&&("values"==_.name||null==_.name),p=function(){return u.call(f(this))};d("entries",function(){return l.call(f(this))}),d("keys",function(){return c.call(f(this))}),d("values",p,!h),d(a,p,!h)},function(t,e,n){"use strict";var r=n(16),i=r.aTypedArray,o=[].join;r.exportProto("join",function(t){return o.apply(i(this),arguments)})},function(t,e,n){"use strict";var r=n(16),i=n(177),o=r.aTypedArray;r.exportProto("lastIndexOf",function(t){return i.apply(o(this),arguments)})},function(t,e,n){"use strict";var r=n(16),i=n(33).map,o=n(65),a=r.aTypedArray,s=r.aTypedArrayConstructor;r.exportProto("map",function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0,function(t,e){return new(s(o(t,t.constructor)))(e)})})},function(t,e,n){"use strict";var r=n(16),i=n(143).left,o=r.aTypedArray;r.exportProto("reduce",function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(16),i=n(143).right,o=r.aTypedArray;r.exportProto("reduceRight",function(t){return i(o(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(16),i=r.aTypedArray,o=Math.floor;r.exportProto("reverse",function(){for(var t,e=i(this).length,n=o(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this})},function(t,e,n){"use strict";var r=n(16),i=n(14),o=n(198),a=n(17),s=n(3),u=r.aTypedArray,c=s(function(){new Int8Array(1).set({})});r.exportProto("set",function(t){u(this);var e=o(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(t),s=i(r.length),c=0;if(s+e>n)throw RangeError("Wrong length");for(;c<s;)this[e+c]=r[c++]},c)},function(t,e,n){"use strict";var r=n(16),i=n(65),o=n(3),a=r.aTypedArray,s=r.aTypedArrayConstructor,u=[].slice,c=o(function(){new Int8Array(1).slice()});r.exportProto("slice",function(t,e){for(var n=u.call(a(this),t,e),r=i(this,this.constructor),o=0,c=n.length,l=new(s(r))(c);c>o;)l[o]=n[o++];return l},c)},function(t,e,n){"use strict";var r=n(16),i=n(33).some,o=r.aTypedArray;r.exportProto("some",function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0)})},function(t,e,n){"use strict";var r=n(16),i=r.aTypedArray,o=[].sort;r.exportProto("sort",function(t){return o.call(i(this),t)})},function(t,e,n){"use strict";var r=n(16),i=n(14),o=n(56),a=n(65),s=r.aTypedArray;r.exportProto("subarray",function(t,e){var n=s(this),r=n.length,u=o(t,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===e?r:o(e,r))-u))})},function(t,e,n){"use strict";var r=n(4),i=n(16),o=n(3),a=r.Int8Array,s=i.aTypedArray,u=[].toLocaleString,c=[].slice,l=!!a&&o(function(){u.call(new a(1))}),f=o(function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()})||!o(function(){a.prototype.toLocaleString.call([1,2])});i.exportProto("toLocaleString",function(){return u.apply(l?c.call(s(this)):s(this),arguments)},f)},function(t,e,n){"use strict";var r=n(4),i=n(16),o=n(3),a=r.Uint8Array,s=a&&a.prototype,u=[].toString,c=[].join;o(function(){u.call({})})&&(u=function(){return c.call(this)}),i.exportProto("toString",u,(s||{}).toString!=u)},function(t,e,n){var r=n(1),i=n(54),o=n(41),a=n(8),s=n(9),u=n(57),c=n(173),l=n(3),f=i("Reflect","construct"),d=l(function(){function t(){}return!(f(function(){},[],t)instanceof t)}),_=!l(function(){f(function(){})}),h=d||_;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(t,e){o(t),a(e);var n=arguments.length<3?t:o(arguments[2]);if(_&&!d)return f(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var i=n.prototype,l=u(s(i)?i:Object.prototype),h=Function.apply.call(t,l,e);return s(h)?h:l}})},function(t,e,n){var r=n(3),i=n(7),o=n(46),a=i("iterator");t.exports=!r(function(){var t=new URL("b?e=1","http://a"),e=t.searchParams;return t.pathname="c%20d",o&&!t.toJSON||!e.sort||"http://a/c%20d?e=1"!==t.href||"1"!==e.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash})},function(t,e,n){"use strict";n(18);var r=n(1),i=n(225),o=n(23),a=n(109),s=n(47),u=n(122),c=n(39),l=n(93),f=n(15),d=n(69),_=n(8),h=n(9),p=n(379),g=n(119),v=n(7)("iterator"),y=c.set,m=c.getterFor("URLSearchParams"),b=c.getterFor("URLSearchParamsIterator"),x=/\+/g,w=Array(4),E=function(t){return w[t-1]||(w[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},k=function(t){try{return decodeURIComponent(t)}catch(e){return t}},M=function(t){var e=t.replace(x," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(E(n--),k);return e}},T=/[!'()~]|%20/g,A={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},O=function(t){return A[t]},C=function(t){return encodeURIComponent(t).replace(T,O)},S=function(t,e){if(e)for(var n,r,i=e.split("&"),o=0;o<i.length;)(n=i[o++]).length&&(r=n.split("="),t.push({key:M(r.shift()),value:M(r.join("="))}))},D=function(t){this.entries.length=0,S(this.entries,t)},P=function(t,e){if(t<e)throw TypeError("Not enough arguments")},I=u(function(t,e){y(this,{type:"URLSearchParamsIterator",iterator:p(m(t).entries),kind:e})},"Iterator",function(){var t=b(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),N=function(){l(this,N,"URLSearchParams");var t,e,n,r,i,o,a,s=arguments.length>0?arguments[0]:void 0,u=this,c=[];if(y(u,{type:"URLSearchParams",entries:c,updateURL:function(){},updateSearchParams:D}),void 0!==s)if(h(s))if("function"==typeof(t=g(s)))for(e=t.call(s);!(n=e.next()).done;){if((i=(r=p(_(n.value))).next()).done||(o=r.next()).done||!r.next().done)throw TypeError("Expected sequence with length 2");c.push({key:i.value+"",value:o.value+""})}else for(a in s)f(s,a)&&c.push({key:a,value:s[a]+""});else S(c,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},R=N.prototype;a(R,{append:function(t,e){P(arguments.length,2);var n=m(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){P(arguments.length,1);for(var e=m(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){P(arguments.length,1);for(var e=m(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){P(arguments.length,1);for(var e=m(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){P(arguments.length,1);for(var e=m(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){P(arguments.length,1);for(var n,r=m(this),i=r.entries,o=!1,a=t+"",s=e+"",u=0;u<i.length;u++)(n=i[u]).key===a&&(o?i.splice(u--,1):(o=!0,n.value=s));o||i.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=m(this),i=r.entries,o=i.slice();for(i.length=0,n=0;n<o.length;n++){for(t=o[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=m(this).entries,r=d(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new I(this,"keys")},values:function(){return new I(this,"values")},entries:function(){return new I(this,"entries")}},{enumerable:!0}),o(R,v,R.entries),o(R,"toString",function(){for(var t,e=m(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(C(t.key)+"="+C(t.value));return n.join("&")},{enumerable:!0}),s(N,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:N}),t.exports={URLSearchParams:N,getState:m}},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"init_optiondial",function(){return init_optiondial}),__webpack_require__.d(__webpack_exports__,"dial_option",function(){return dial_option}),__webpack_require__.d(__webpack_exports__,"toggle_grouped_rows",function(){return toggle_grouped_rows}),__webpack_require__.d(__webpack_exports__,"reschedule_check",function(){return reschedule_check}),__webpack_require__.d(__webpack_exports__,"update_togglebutton",function(){return update_togglebutton}),__webpack_require__.d(__webpack_exports__,"toggle_form",function(){return toggle_form});var core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(22),core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_join__WEBPACK_IMPORTED_MODULE_0__),utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),ajax__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(2),foldable_container__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(102),g_dial_direction=1,g_last_optiondial=null;function init_optiondial(t){var e=document.getElementById(t);make_unselectable(e),utils__WEBPACK_IMPORTED_MODULE_1__.add_event_handler("wheel",optiondial_wheel,e)}function make_unselectable(t){t.onselectstart=function(){return!1},t.style.MozUserSelect="none",t.style.KhtmlUserSelect="none",t.unselectable="on"}function optiondial_wheel(t){t=t||window.event;var e=utils__WEBPACK_IMPORTED_MODULE_1__.wheel_event_delta(t);if(g_last_optiondial>utils__WEBPACK_IMPORTED_MODULE_1__.time()-.1)return utils__WEBPACK_IMPORTED_MODULE_1__.prevent_default_events(t);g_last_optiondial=utils__WEBPACK_IMPORTED_MODULE_1__.time();var n=utils__WEBPACK_IMPORTED_MODULE_1__.get_target(t);for(3==t.nodeType&&(n=n.parentNode);!n.className;)n=n.parentNode;return e>0&&(g_dial_direction=-1),n.onclick(t),g_dial_direction=1,utils__WEBPACK_IMPORTED_MODULE_1__.prevent_default_events(t)}function dial_option(t,e,n,r){for(var i=r[0],o=0,a=null;o<r.length;o++)if(a=r[o][0],utils__WEBPACK_IMPORTED_MODULE_1__.has_class(t,"val_"+a)){i=r[(o+r.length+g_dial_direction)%r.length],utils__WEBPACK_IMPORTED_MODULE_1__.change_class(t,"val_"+a,"val_"+i[0]);break}var s,u=0;for(s=0;s<=10;s+=1)u+=10,setTimeout(function(t,e,n,r){return function(){turn_dial(t,"",n,r)}}(n,0,s,g_dial_direction),u);for(s=-10;s<=0;s+=1)u+=10,setTimeout(function(t,e,n,r){return function(){turn_dial(t,e,n,r)}}(n,i[1],s,g_dial_direction),u);var c="ajax_set_viewoption.py?view_name="+e+"&option="+n+"&value="+i[0];ajax__WEBPACK_IMPORTED_MODULE_2__.call_ajax(c,{method:"GET",response_handler:function(t){"refresh"==t.option?utils__WEBPACK_IMPORTED_MODULE_1__.set_reload(t.new_value):utils__WEBPACK_IMPORTED_MODULE_1__.schedule_reload("",400)},handler_data:{new_value:i[0],option:n}})}function turn_dial(t,e,n,r){var i=document.getElementById("optiondial_"+t).getElementsByTagName("DIV")[0];e&&i.innerHTML!=e&&(i.innerHTML=e),i.style.top=1.3*n*r+"px"}function toggle_grouped_rows(t,e,n,r){var i,o,a,s=n.parentNode;utils__WEBPACK_IMPORTED_MODULE_1__.has_class(s,"closed")?(utils__WEBPACK_IMPORTED_MODULE_1__.remove_class(s,"closed"),i="",o=!0,a="on"):(utils__WEBPACK_IMPORTED_MODULE_1__.add_class(s,"closed"),i="none",o=!1,a="off"),utils__WEBPACK_IMPORTED_MODULE_1__.toggle_folding(n.getElementsByTagName("IMG")[0],o),foldable_container__WEBPACK_IMPORTED_MODULE_3__.persist_tree_state(t,e,a);for(var u=s,c=0;c<r;c++)(u=u.nextElementSibling).style.display=i}function reschedule_check(t,e,n,r,i){var o=t.getElementsByTagName("IMG")[0];utils__WEBPACK_IMPORTED_MODULE_1__.remove_class(o,"reload_failed"),utils__WEBPACK_IMPORTED_MODULE_1__.add_class(o,"reloading"),ajax__WEBPACK_IMPORTED_MODULE_2__.get_url("ajax_reschedule.py?site="+encodeURIComponent(e)+"&host="+encodeURIComponent(n)+"&service="+r+"&wait_svc="+i,reschedule_check_response_handler,o)}function reschedule_check_response_handler(img,code){var validResponse=!0,response=null;utils__WEBPACK_IMPORTED_MODULE_1__.remove_class(img,"reloading");try{response=eval(code)}catch(t){validResponse=!1}validResponse&&"OK"===response[0]?window.location.reload():validResponse&&"TIMEOUT"===response[0]?(utils__WEBPACK_IMPORTED_MODULE_1__.add_class(img,"reload_failed"),img.title="Timeout while performing action: "+response[1]):validResponse?(utils__WEBPACK_IMPORTED_MODULE_1__.add_class(img,"reload_failed"),img.title="Problem while processing - Response: "+response.join(" ")):(utils__WEBPACK_IMPORTED_MODULE_1__.add_class(img,"reload_failed"),img.title="Invalid response: "+response)}function update_togglebutton(t,e){var n=document.getElementById(t+"_on"),r=document.getElementById(t+"_off");n&&r&&(e?(n.style.display="block",r.style.display="none"):(n.style.display="none",r.style.display="block"))}function toggle_form(t,e){var n="none",r="up",i=document.getElementById(e);i&&"none"==i.style.display&&(n="",r="down");var o,a=document.getElementsByClassName("view_form");for(o=0;o<a.length;o++)a[o]!=i&&(a[o].style.display="none");i&&(i.style.display=n);var s=document.getElementsByClassName("togglebutton");for(o=0;o<s.length;o++){var u=s[o];u==t||utils__WEBPACK_IMPORTED_MODULE_1__.has_class(u,"empth")||utils__WEBPACK_IMPORTED_MODULE_1__.has_class(u,"checkbox")||(utils__WEBPACK_IMPORTED_MODULE_1__.remove_class(u,"down"),utils__WEBPACK_IMPORTED_MODULE_1__.add_class(u,"up"))}utils__WEBPACK_IMPORTED_MODULE_1__.remove_class(t,"down"),utils__WEBPACK_IMPORTED_MODULE_1__.remove_class(t,"up"),utils__WEBPACK_IMPORTED_MODULE_1__.add_class(t,r)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"render_graphs",function(){return render_graphs}),__webpack_require__.d(__webpack_exports__,"show_hover_graphs",function(){return show_hover_graphs});var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_parse_int__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(37),core_js_modules_es_parse_int__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_parse_int__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(178),core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_match__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(42),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_3__),utils__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(0),ajax__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2),hover__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(103),popup_menu__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(81);function render_graphs(t,e,n,r,i,o,a,s,u,c,l,f){l=void 0===l?null:l;var d={container:t,base_url:o,pnp_url:a,site:e,host:n,service:r,with_link:s,view:i,add_txt:u,theme:f};null!==(c=void 0===c?null:c)&&null!==l&&(d.start=c,d.end=l);var _=a+"index.php/json?&host="+encodeURIComponent(n)+"&srv="+encodeURIComponent(r)+"&source=0&view="+i;ajax__WEBPACK_IMPORTED_MODULE_5__.get_url(_,pnp_response_handler,d,pnp_error_response_handler,!1)}function pnp_response_handler(data,code){var valid_response=!0,response=[];try{response=eval(code);for(var i=0;i<response.length;i++){var view=""==data.view?"0":data.view;create_pnp_graph(data,"&"+response[i].image_url.replace("#","%23").replace("&view="+view,""))}}catch(t){valid_response=!1}if(!valid_response)if(code.match(/_login/)){var container=document.getElementById(data.container);container.innerHTML='<div class="error">Unable to fetch graphs of the host. Maybe you have a distributed setup and not set up the authentication correctly yet.</div>'}else fallback_graphs(data)}function pnp_error_response_handler(t,e){404==parseInt(e)&&fallback_graphs(t)}function fallback_graphs(t){for(var e=0;e<8;e++)create_pnp_graph(t,"&host="+t.host+"&srv="+t.service+"&source="+e)}function create_pnp_graph(t,e){var n=e+"&theme="+t.theme+"&baseurl="+t.base_url;void 0!==t.start&&void 0!==t.end&&(n+="&start="+t.start+"&end="+t.end);var r=document.getElementById(t.container),i=document.createElement("img");if(i.src=t.pnp_url+"index.php/image?view="+t.view+n,t.with_link){var o=document.createElement("div");o.setAttribute("class","pnp_graph");var a=""==t.view?0:t.view,s=parseInt(utils__WEBPACK_IMPORTED_MODULE_4__.get_url_param("source",e))+1,u=document.createElement("a");u.title=t.add_txt,u.className="popup_trigger",u.onclick=function(t,e,n,r){return function(i){popup_menu__WEBPACK_IMPORTED_MODULE_7__.toggle_popup(i,this,"add_visual","add_visual",["pnpgraph",{host:t,service:e},{timerange:n,source:r}],"add_type=pnpgraph",null,!1)}}(t.host,t.service,a,s),o.appendChild(u);var c=document.createElement("a");c.href=t.pnp_url+"index.php/graph?"+n,c.appendChild(i),o.appendChild(c),r.appendChild(o)}else r.appendChild(i);i=null,c=null,r=null,n=null}function show_hover_graphs(t,e,n,r,i,o){return t=t||window.event,hover__WEBPACK_IMPORTED_MODULE_6__.show(t,'<div class="message">Loading...</div>'),o?show_pnp_hover_graphs(i):show_check_mk_hover_graphs(e,n,r),utils__WEBPACK_IMPORTED_MODULE_4__.prevent_default_events(t)}function show_check_mk_hover_graphs(t,e,n){var r="host_service_graph_popup.py?site="+encodeURIComponent(t)+"&host_name="+encodeURIComponent(e)+"&service="+encodeURIComponent(n);ajax__WEBPACK_IMPORTED_MODULE_5__.call_ajax(r,{response_handler:handle_check_mk_hover_graphs_response,error_handler:handle_hover_graphs_error,method:"GET"})}function show_pnp_hover_graphs(t){ajax__WEBPACK_IMPORTED_MODULE_5__.call_ajax(t,{response_handler:handle_pnp_hover_graphs_response,error_handler:handle_hover_graphs_error,method:"GET"})}function handle_check_mk_hover_graphs_response(t,e){-1===e.indexOf("pnp4nagios")?hover__WEBPACK_IMPORTED_MODULE_6__.update_content(e):show_pnp_hover_graphs(e)}function handle_pnp_hover_graphs_response(t,e){-1===e.indexOf("/image?")&&(e='<div class="error"> ERROR: Received an unexpected response while trying to display the PNP Graphs. Maybe there is a problem with the authentication.</div>'),hover__WEBPACK_IMPORTED_MODULE_6__.update_content(e)}function handle_hover_graphs_error(t,e){var n="<div class=error>Update failed ("+e+")</div>";hover__WEBPACK_IMPORTED_MODULE_6__.update_content(n)}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"dashboard_properties",function(){return dashboard_properties}),__webpack_require__.d(__webpack_exports__,"set_reload_on_resize",function(){return set_reload_on_resize}),__webpack_require__.d(__webpack_exports__,"set_dashboard_properties",function(){return set_dashboard_properties}),__webpack_require__.d(__webpack_exports__,"calculate_dashboard",function(){return calculate_dashboard}),__webpack_require__.d(__webpack_exports__,"execute_dashboard_scheduler",function(){return execute_dashboard_scheduler}),__webpack_require__.d(__webpack_exports__,"hide_submenus",function(){return hide_submenus}),__webpack_require__.d(__webpack_exports__,"show_submenu",function(){return show_submenu}),__webpack_require__.d(__webpack_exports__,"toggle_dashboard_edit",function(){return toggle_dashboard_edit}),__webpack_require__.d(__webpack_exports__,"has_canvas_support",function(){return has_canvas_support}),__webpack_require__.d(__webpack_exports__,"register_event_handlers",function(){return register_event_handlers});var core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(21),core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_index_of__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(180),core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_number_constructor__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_number_is_integer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(181),core_js_modules_es_number_is_integer__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_number_is_integer__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_parse_int__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(37),core_js_modules_es_parse_int__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_parse_int__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(42),core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es_string_replace__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(36),core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es_string_split__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(31),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_6__),utils__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),ajax__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),reload_on_resize={},dashboard_properties={};function set_reload_on_resize(t,e){reload_on_resize[t]=e}function set_dashboard_properties(properties){dashboard_properties=properties,dashboard_properties.refresh_dashlets.forEach(function(refresh){refresh[2]=eval(refresh[2])});var resize_actions=dashboard_properties.on_resize_dashlets;for(var nr in resize_actions)resize_actions[nr]=eval(resize_actions[nr])}function size_dashlets(){for(var t=calculate_dashlets(),e=null,n=null,r=null,i=null,o=0;o<t.length;o++){var a=t[o],s=a[0],u=a[1],c=a[2],l=a[3],f=!1;(n=document.getElementById("dashlet_title_"+o))&&(f=!0,c<=20&&(c=21),n.style.width=c-19+"px",n.style.display="block",n.style.left=dashboard_properties.dashlet_padding[3]+"px",n.style.top=dashboard_properties.dashlet_padding[4]+8+"px"),(e=document.getElementById("dashlet_"+o))&&(e.style.display="block",e.style.left=s+"px",e.style.top=u+"px",e.style.width=c+"px",e.style.height=l+"px");var d=dashboard_properties.dashlet_padding[0];f||(d=dashboard_properties.dashlet_padding[4]);var _=l-d-dashboard_properties.dashlet_padding[2],h=c-dashboard_properties.dashlet_padding[1]-dashboard_properties.dashlet_padding[3];if(r=document.getElementById("dashlet_inner_"+o)){r.style.display="block";var p=r.clientWidth,g=r.clientHeight;r.style.left=dashboard_properties.dashlet_padding[3]+"px",r.style.top=d+"px",h>0&&(r.style.width=h+"px"),_>0&&(r.style.height=_+"px"),p==r.clientWidth&&g==r.clientHeight||g_resizing&&parseInt(g_resizing.parentNode.parentNode.id.replace("dashlet_",""))==o||dashlet_resized(o,r)}(i=document.getElementById("dashlet_controls_"+o))&&set_control_size(i,c,l)}}function set_control_size(t,e,n){t.style.width=e-dashboard_properties.dashlet_padding[1]-dashboard_properties.dashlet_padding[3]+"px",t.style.height=n-dashboard_properties.dashlet_padding[2]-dashboard_properties.dashlet_padding[4]+"px",t.style.left=dashboard_properties.dashlet_padding[3]+"px",t.style.top=dashboard_properties.dashlet_padding[4]+"px"}function is_dynamic(t){return t==dashboard_properties.MAX||t==dashboard_properties.GROW}function align_to_grid(t){return~~(t/dashboard_properties.grid_size)*dashboard_properties.grid_size}function vec(t,e){this.x=t||0,this.y=e||0}function calculate_dashlets(){var t,e,n,r,i,o,a=new vec(g_dashboard_width,g_dashboard_height).divide(dashboard_properties.grid_size),s={},u=[];for(t=0;t<dashboard_properties.dashlets.length;t++){var c=dashboard_properties.dashlets[t],l=new vec(c.x,c.y),f=l.make_absolute(a),d=new vec(c.w,c.h),_=d.initial_size(l,a);l.x>0?r=(n=f.x)+_.x:n=(r=f.x)-_.x,l.y>0?i=(e=f.y)+_.y:e=(i=f.y)-_.y;for(var h=n;h<r;h++)for(var p=e;p<i;p++)s[h+" "+p]=!0;o=l.compute_grow_by(d),u.push([n,e,r,i,o])}for(var g=function(t,e,n,r){var i,o;for(i=t;i<n;i++)for(o=e;o<r;o++)if(i+" "+o in s)return!1;for(i=t;i<n;i++)for(o=e;o<r;o++)s[i+" "+o]=!0;return!0},v=!0;v;){v=!1;var y=[];for(t=0;t<u.length;t++)n=u[t][0],e=u[t][1],r=u[t][2],i=u[t][3],(o=u[t][4]).x>0&&r<a.x&&g(r,e,r+1,i)?(v=!0,r+=1):o.x<0&&n>0&&g(n-1,e,n,i)&&(v=!0,n-=1),o.y>0&&i<a.y&&g(n,i,r,i+1)?(v=!0,i+=1):o.y<0&&e>0&&g(n,e-1,r,e)&&(v=!0,e-=1),y.push([n,e,r,i,o]);u=y}var m=[];for(t=0;t<u.length;t++)n=u[t][0],e=u[t][1],r=u[t][2],i=u[t][3],m.push([n*dashboard_properties.grid_size,e*dashboard_properties.grid_size,(r-n)*dashboard_properties.grid_size,(i-e)*dashboard_properties.grid_size]);return m}vec.prototype={divide:function(t){return new vec(~~(this.x/t),~~(this.y/t))},add:function(t){return new vec(this.x+t.x,this.y+t.y)},make_absolute:function(t){return new vec(this.x<0?this.x+t.x+1:this.x-1,this.y<0?this.y+t.y+1:this.y-1)},initial_size:function(t,e){return new vec(this.x==dashboard_properties.MAX?e.x-Math.abs(t.x)+1:this.x==dashboard_properties.GROW?dashboard_properties.dashlet_min_size[0]:this.x,this.y==dashboard_properties.MAX?e.y-Math.abs(t.y)+1:this.y==dashboard_properties.GROW?dashboard_properties.dashlet_min_size[1]:this.y)},compute_grow_by:function(t){return new vec(t.x!=dashboard_properties.GROW?0:this.x<0?-1:1,t.y!=dashboard_properties.GROW?0:this.y<0?-1:1)},toString:function(){return this.x+"/"+this.y}};var g_dashboard_resizer=null,g_dashboard_top=null,g_dashboard_left=null,g_dashboard_width=null,g_dashboard_height=null;function calculate_dashboard(){if(null===g_dashboard_resizer){g_dashboard_resizer=!0,g_dashboard_top=dashboard_properties.header_height+dashboard_properties.screen_margin,g_dashboard_left=dashboard_properties.screen_margin,g_dashboard_width=utils__WEBPACK_IMPORTED_MODULE_7__.page_width()-2*dashboard_properties.screen_margin,g_dashboard_height=utils__WEBPACK_IMPORTED_MODULE_7__.page_height()-2*dashboard_properties.screen_margin-dashboard_properties.header_height;var t=document.getElementById("dashboard");t.style.left=g_dashboard_left+"px",t.style.top=g_dashboard_top+"px",t.style.width=g_dashboard_width+"px",t.style.height=g_dashboard_height+"px",size_dashlets(),g_dashboard_resizer=null}}function execute_dashboard_scheduler(t){if(utils__WEBPACK_IMPORTED_MODULE_7__.is_window_active()){for(var e=Date.parse(new Date)/1e3,n=0;n<dashboard_properties.refresh_dashlets.length;n++){var r=dashboard_properties.refresh_dashlets[n][0],i=dashboard_properties.refresh_dashlets[n][1],o=dashboard_properties.refresh_dashlets[n][2];(t&&""==document.getElementById("dashlet_inner_"+r).innerHTML||i>0&&e%i==0)&&("string"==typeof o?(-1!==o.indexOf("?")?o+="&mtime="+dashboard_properties.dashboard_mtime:o+="?mtime="+dashboard_properties.dashboard_mtime,ajax__WEBPACK_IMPORTED_MODULE_8__.get_url(o,dashboard_update_contents,"dashlet_inner_"+r)):o())}e%60==0&&utils__WEBPACK_IMPORTED_MODULE_7__.update_header_timer(),setTimeout(function(){execute_dashboard_scheduler(0)},1e3)}else setTimeout(function(){execute_dashboard_scheduler(t)},250)}function dashboard_update_contents(t,e){utils__WEBPACK_IMPORTED_MODULE_7__.update_header_timer(),utils__WEBPACK_IMPORTED_MODULE_7__.update_contents(t,e)}function toggle_dashboard_menu(t,e){var n=document.getElementById("controls");if(n)if(void 0===t&&(t="none"==n.style.display),t){if(n.style.display="block",hide_submenus(),e){var r=utils__WEBPACK_IMPORTED_MODULE_7__.get_target(e);n.style.left=e.clientX-r.offsetLeft+5+"px",n.style.top=e.clientY-r.offsetTop+5+"px";var i=document.getElementById("dashboard");if(n.offsetLeft+n.clientWidth>i.clientWidth&&(n.style.left=n.offsetLeft-n.clientWidth-15+"px"),n.offsetTop+n.clientHeight>i.clientHeight){var o=n.offsetTop-n.clientHeight-5;r!=i&&(o-=i.offsetTop),n.style.top=o+"px"}}}else n.style.display="none"}function hide_submenus(){for(var t=document.getElementsByClassName("sub"),e=0;e<t.length;e++)t[e].style.display="none"}function show_submenu(t){document.getElementById(t+"_sub").style.display="block"}var g_editing=!1;function toggle_dashboard_edit(){toggle_dashboard_menu(!1),g_editing=!g_editing,document.getElementById("control_edit").style.display=g_editing?"none":"block",document.getElementById("control_add").style.display=g_editing?"block":"none",document.getElementById("control_view").style.display=g_editing?"block":"none";for(var t=document.getElementsByClassName("dashlet"),e=0;e<t.length;e++)dashlet_toggle_edit(t[e]);if(window.parent.history.replaceState){var n,r=window.parent.location.href;if(-1!==r.indexOf("start_url")){var i=decodeURIComponent(utils__WEBPACK_IMPORTED_MODULE_7__.get_url_param("start_url",r));i=utils__WEBPACK_IMPORTED_MODULE_7__.makeuri({edit:g_editing?"1":"0"},i),n=utils__WEBPACK_IMPORTED_MODULE_7__.makeuri({start_url:i},r)}else n=utils__WEBPACK_IMPORTED_MODULE_7__.makeuri({edit:g_editing?"1":"0"},r);window.parent.history.replaceState({},document.title,n)}toggle_grid()}function toggle_grid(){g_editing?utils__WEBPACK_IMPORTED_MODULE_7__.add_class(document.getElementById("dashboard"),"grid"):utils__WEBPACK_IMPORTED_MODULE_7__.remove_class(document.getElementById("dashboard"),"grid")}function render_resize_controls(t,e){for(var n=0;n<2;n++){var r=document.createElement("div");r.className="resize resize"+e+" resize"+e+"_"+n,t.appendChild(r)}}function render_sizer(t,e,n,r,i){var o=document.createElement("div");o.className="sizer sizer"+n+" anchor"+r;var a,s,u=document.createElement("div");u.className="sizer_lbl sizer_lbl"+n+" anchor"+r,i==dashboard_properties.MAX?(o.className+=" max",o.title="Use maximum available space in this direction"):i==dashboard_properties.GROW?(o.className+=" grow",o.title="Grow in this direction"):(o.className+=" abs",o.title="Fixed size (drag border for resize)",render_resize_controls(t,n)),o.onclick=(a=e,s=n,function(){toggle_sizer(a,s)}),u.onclick=o.onclick,u.title=o.title,t.appendChild(o),is_dynamic(i)&&t.appendChild(u)}function render_corner_resizers(t){for(var e=0;e<4;e++){var n=document.createElement("div");n.className="resize resize_corner resize_corner"+e,t.appendChild(n)}}function dashlet_toggle_edit(t,e){var n,r,i,o=parseInt(t.id.replace("dashlet_","")),a=dashboard_properties.dashlets[o];if(e=void 0===e?g_editing:e){utils__WEBPACK_IMPORTED_MODULE_7__.add_class(t,"edit"),(n=document.createElement("div")).setAttribute("id","dashlet_controls_"+o),n.className="controls",t.appendChild(n),set_control_size(n,t.clientWidth,t.clientHeight),utils__WEBPACK_IMPORTED_MODULE_7__.browser.is_ie_below_9()&&(n.style.background="url(about:blank)");var s,u=get_anchor_id(a);if(utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resizable")){for(s=0;s<2;s++)render_sizer(n,o,s,u,0==s?a.w:a.h);is_dynamic(a.w)||is_dynamic(a.h)||render_corner_resizers(n)}for(s=0;s<4;s++){var c=document.createElement("a");c.className="anchor anchor"+s,c.title="Currently growing from here",u!=s&&(c.className+=" off",c.title="Click to start growing from here"),c.onclick=function(t,e){return function(){toggle_anchor(t,e)}}(o,s),n.appendChild(c)}var l=document.createElement("a");l.className="edit",l.title="Edit properties of this dashlet",l.onclick=(r=o,i=dashboard_properties.dashboard_name,function(){location.href="edit_dashlet.py?name="+i+"&id="+r}),n.appendChild(l);var f=document.createElement("a");f.className="del",f.title="Delete this dashlet",f.onclick=function(t,e){return function(){location.href="delete_dashlet.py?name="+e+"&id="+t}}(o,dashboard_properties.dashboard_name),n.appendChild(f)}else utils__WEBPACK_IMPORTED_MODULE_7__.remove_class(t,"edit"),(n=document.getElementById("dashlet_controls_"+o)).parentNode.removeChild(n)}var g_last_absolute_widths={},g_last_absolute_heights={};function toggle_sizer(t,e){var n=dashboard_properties.dashlets[t],r=document.getElementById("dashlet_"+t);0==e?n.w>0?(g_last_absolute_widths[t]=n.w,n.w=dashboard_properties.GROW):n.w==dashboard_properties.GROW?(t in g_last_absolute_widths||(g_last_absolute_widths[t]=r.clientWidth/dashboard_properties.grid_size),n.w=dashboard_properties.MAX):n.w==dashboard_properties.MAX&&(n.w=t in g_last_absolute_widths?g_last_absolute_widths[t]:r.clientWidth/dashboard_properties.grid_size):n.h>0?(g_last_absolute_heights[t]=n.h,n.h=dashboard_properties.GROW):n.h==dashboard_properties.GROW?(t in g_last_absolute_heights||(g_last_absolute_heights[t]=r.clientHeight/dashboard_properties.grid_size),n.h=dashboard_properties.MAX):n.h==dashboard_properties.MAX&&(n.h=t in g_last_absolute_heights?g_last_absolute_heights[t]:r.clientHeight/dashboard_properties.grid_size),rerender_dashlet_controls(r),size_dashlets(),persist_dashlet_pos(t)}var A_TOP_LEFT=0,A_TOP_RIGHT=1,A_BOTTOM_RIGHT=2,A_BOTTOM_LEFT=3;function get_anchor_id(t){var e;return t.x>0&&t.y>0?e=A_TOP_LEFT:t.x<=0&&t.y>0?e=A_TOP_RIGHT:t.x<=0&&t.y<=0?e=A_BOTTOM_RIGHT:t.x>0&&t.y<=0&&(e=A_BOTTOM_LEFT),e}function toggle_anchor(t,e){e!=get_anchor_id(dashboard_properties.dashlets[t])&&(calculate_relative_dashlet_coords(t,e),rerender_dashlet_controls(document.getElementById("dashlet_"+t)),size_dashlets(),persist_dashlet_pos(t))}function calculate_relative_dashlet_coords(t,e){var n=dashboard_properties.dashlets[t];void 0===e&&(e=get_anchor_id(n));var r=document.getElementById("dashlet_"+t),i=r.offsetLeft/dashboard_properties.grid_size,o=r.offsetTop/dashboard_properties.grid_size,a=r.clientWidth/dashboard_properties.grid_size,s=r.clientHeight/dashboard_properties.grid_size,u=new vec(g_dashboard_width,g_dashboard_height).divide(dashboard_properties.grid_size);is_dynamic(n.w)||(n.w=a),is_dynamic(n.h)||(n.h=s),e==A_TOP_LEFT?(n.x=i,n.y=o):e==A_TOP_RIGHT?(n.x=i+a-(u.x+2),n.y=o):e==A_BOTTOM_RIGHT?(n.x=i+a-(u.x+2),n.y=o+s-(u.y+2)):e==A_BOTTOM_LEFT&&(n.x=i,n.y=o+s-(u.y+2)),n.x+=1,n.y+=1}function rerender_dashlet_controls(t){dashlet_toggle_edit(t,!1),dashlet_toggle_edit(t,!0)}function body_click_handler(t){t||(t=window.event);var e=utils__WEBPACK_IMPORTED_MODULE_7__.get_target(t),n=utils__WEBPACK_IMPORTED_MODULE_7__.get_button(t);return"dashboard"==e.id&&"RIGHT"==n?(toggle_dashboard_menu(void 0,t),utils__WEBPACK_IMPORTED_MODULE_7__.prevent_default_events(t),!1):"controls_toggle"==e.parentNode.id&&"LEFT"==n?(toggle_dashboard_menu(void 0,t),utils__WEBPACK_IMPORTED_MODULE_7__.prevent_default_events(t),!1):("controls_toggle"==e.parentNode.id||e.parentNode.parentNode&&utils__WEBPACK_IMPORTED_MODULE_7__.has_class(e.parentNode.parentNode,"menu")||toggle_dashboard_menu(!1),!0)}var g_dragging=!1,g_drag_start=null;function drag_dashlet_start(t){if(t||(t=window.event),!g_editing)return!0;var e=utils__WEBPACK_IMPORTED_MODULE_7__.get_target(t),n=utils__WEBPACK_IMPORTED_MODULE_7__.get_button(t);if(!1===g_dragging&&"LEFT"==n&&utils__WEBPACK_IMPORTED_MODULE_7__.has_class(e,"controls")){g_dragging=e.parentNode;var r=parseInt(g_dragging.id.replace("dashlet_","")),i=dashboard_properties.dashlets[r],o=dashboard_properties.dashlet_min_size[0]*dashboard_properties.grid_size,a=dashboard_properties.dashlet_min_size[1]*dashboard_properties.grid_size,s=g_dragging.offsetLeft,u=g_dragging.offsetTop,c=g_dragging.clientWidth,l=g_dragging.clientHeight,f=get_anchor_id(i);return f==A_TOP_LEFT?(is_dynamic(i.w)&&(c=o),is_dynamic(i.h)&&(l=a)):f==A_TOP_RIGHT?(is_dynamic(i.w)&&(s=s+c-o,c=o),is_dynamic(i.h)&&(l=a)):f==A_BOTTOM_RIGHT?(is_dynamic(i.w)&&(s=s+c-o,c=o),is_dynamic(i.h)&&(u=u+l-a,l=a)):f==A_BOTTOM_LEFT&&(is_dynamic(i.w)&&(c=o),is_dynamic(i.h)&&(u=u+l-a,l=a)),g_drag_start={m_x:t.clientX-g_dashboard_left,m_y:t.clientY-g_dashboard_top,x:s,y:u,w:c,h:l},edit_visualize(g_dragging,!0),utils__WEBPACK_IMPORTED_MODULE_7__.prevent_default_events(t),!1}return!0}function drag_dashlet(t){t||(t=window.event);var e=t.clientX-g_dashboard_left,n=t.clientY-g_dashboard_top;if(!g_dragging)return!0;var r=parseInt(g_dragging.id.replace("dashlet_","")),i=g_dragging,o=align_to_grid(g_drag_start.m_x-e),a=align_to_grid(g_drag_start.m_y-n),s=g_drag_start.x-o,u=g_drag_start.y-a,c=g_drag_start.w,l=g_drag_start.h,f=align_to_grid(g_dashboard_width),d=align_to_grid(g_dashboard_height);s<0?(i.style.left="0px",i.style.width=c+"px"):s+c>f?(i.style.left=f-c+"px",i.style.width=c+"px"):(i.style.left=s+"px",i.style.width=c+"px"),u<0?(i.style.top="0px",i.style.height=l+"px"):u+l>d?(i.style.top=d-l+"px",i.style.height=l+"px"):(i.style.top=u+"px",i.style.height=l+"px"),calculate_relative_dashlet_coords(r),size_dashlets()}function drag_dashlet_stop(t){if(t||(t=window.event),!g_dragging)return!0;edit_visualize(g_dragging,!1);var e=parseInt(g_dragging.id.replace("dashlet_",""));return g_dragging=!1,g_drag_start=null,persist_dashlet_pos(e),!1}function persist_dashlet_pos(t){var e=dashboard_properties.dashlets[t];Number.isInteger(e.x)&&Number.isInteger(e.y)&&Number.isInteger(e.w)&&Number.isInteger(e.h)?ajax__WEBPACK_IMPORTED_MODULE_8__.get_url("ajax_dashlet_pos.py?name="+dashboard_properties.dashboard_name+"&id="+t+"&x="+dashboard_properties.dashlets[t].x+"&y="+dashboard_properties.dashlets[t].y+"&w="+dashboard_properties.dashlets[t].w+"&h="+dashboard_properties.dashlets[t].h,handle_dashlet_post_response,null,void 0,!1):alert("Error: Invalid dashlet coordinates found. Please report this issue ("+JSON.stringify(e)+").")}function handle_dashlet_post_response(t,e){var n=e.split(" ");"OK"!=n[0]?alert("Error: "+e):dashboard_properties.dashboard_mtime=parseInt(n[1])}function edit_visualize(t,e){t.style.zIndex=e?80:1}var g_resizing=!1,g_resize_start=null;function resize_dashlet_start(t){if(t||(t=window.event),!g_editing)return!0;var e=utils__WEBPACK_IMPORTED_MODULE_7__.get_target(t),n=utils__WEBPACK_IMPORTED_MODULE_7__.get_button(t);if(!1===g_resizing&&"LEFT"==n&&utils__WEBPACK_IMPORTED_MODULE_7__.has_class(e,"resize")){var r=e.parentNode.parentNode;return g_resizing=e,g_resize_start={m_x:t.clientX,m_y:t.clientY,x:r.offsetLeft,y:r.offsetTop,w:r.clientWidth,h:r.clientHeight},edit_visualize(r,!0),utils__WEBPACK_IMPORTED_MODULE_7__.prevent_default_events(t),!1}return!0}function get_horizontal_direction(t){return utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resize0_0")||utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resize_corner0")||utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resize_corner3")?"left":utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resize0_1")||utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resize_corner1")||utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resize_corner2")?"right":void 0}function get_vertical_direction(t){return utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resize1_0")||utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resize_corner0")||utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resize_corner1")?"top":utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resize1_1")||utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resize_corner2")||utils__WEBPACK_IMPORTED_MODULE_7__.has_class(t,"resize_corner3")?"bottom":void 0}function resize_dashlet(t){if(t||(t=window.event),!g_resizing)return!0;var e=g_resizing.parentNode.parentNode,n=parseInt(e.id.replace("dashlet_","")),r=align_to_grid(Math.abs(g_resize_start.m_x-t.clientX)),i=align_to_grid(Math.abs(g_resize_start.m_y-t.clientY));t.clientX>g_resize_start.m_x&&(r*=-1),t.clientY>g_resize_start.m_y&&(i*=-1);var o=align_to_grid(g_dashboard_width),a=align_to_grid(g_dashboard_height),s=dashboard_properties.dashlet_min_size[0]*dashboard_properties.grid_size,u=dashboard_properties.dashlet_min_size[1]*dashboard_properties.grid_size;if("left"==get_horizontal_direction(g_resizing)){var c=g_resize_start.x-r;c<0?(e.style.left="0px",e.style.width=g_resize_start.w+g_resize_start.x+"px"):g_resize_start.w+r<s?e.style.width=s+"px":(e.style.left=c+"px",e.style.width=g_resize_start.w+r+"px")}else"right"==get_horizontal_direction(g_resizing)&&(g_resize_start.x+g_resize_start.w-r>o?e.style.width=o-g_resize_start.x+"px":g_resize_start.w-r<s?e.style.width=s+"px":e.style.width=g_resize_start.w-r+"px");if("top"==get_vertical_direction(g_resizing)){var l=g_resize_start.y-i;l<0?(e.style.top="0px",e.style.height=g_resize_start.h+g_resize_start.y+"px"):g_resize_start.h+i<u?e.style.height=u+"px":(e.style.top=l+"px",e.style.height=g_resize_start.h+i+"px")}else"bottom"==get_vertical_direction(g_resizing)&&(g_resize_start.y+g_resize_start.h-i>=a?e.style.height=a-g_resize_start.y+"px":g_resize_start.h-i<u?e.style.height=u+"px":e.style.height=g_resize_start.h-i+"px");calculate_relative_dashlet_coords(n),size_dashlets()}function resize_dashlet_stop(t){if(t||(t=window.event),!g_resizing)return!0;var e=g_resizing.parentNode.parentNode,n=parseInt(e.id.replace("dashlet_",""));return edit_visualize(e,!1),g_resizing=!1,dashlet_resized(n,e),persist_dashlet_pos(n),!1}function dashlet_resized(t,e){if(void 0!==reload_on_resize[t]){var n=reload_on_resize[t];document.getElementById("dashlet_iframe_"+t).src=n+"&width="+e.clientWidth+"&height="+e.clientHeight}void 0!==dashboard_properties.on_resize_dashlets[t]&&dashboard_properties.on_resize_dashlets[t]()}function has_canvas_support(){return document.createElement("canvas").getContext}function register_event_handlers(){utils__WEBPACK_IMPORTED_MODULE_7__.add_event_handler("mousemove",function(t){return drag_dashlet(t)&&resize_dashlet(t)}),utils__WEBPACK_IMPORTED_MODULE_7__.add_event_handler("mousedown",function(t){return drag_dashlet_start(t)&&resize_dashlet_start(t)}),utils__WEBPACK_IMPORTED_MODULE_7__.add_event_handler("mouseup",function(t){return drag_dashlet_stop(t)&&resize_dashlet_stop(t)}),utils__WEBPACK_IMPORTED_MODULE_7__.add_event_handler("click",function(t){return body_click_handler(t)}),utils__WEBPACK_IMPORTED_MODULE_7__.add_event_handler("contextmenu",function(t){return utils__WEBPACK_IMPORTED_MODULE_7__.prevent_default_events(t),!1})}},function(t){t.exports=JSON.parse('{"a":"2.1.1"}')},,function(t,e,n){n(234),n(373),t.exports=n(75)},function(t,e,n){n(32),n(235),n(34),n(236),n(237),n(35),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(135),n(247),n(248),n(249),n(169),n(171),n(250),n(251),n(252),n(253),n(58),n(254),n(255),n(256),n(257),n(137),n(258),n(259),n(59),n(260),n(12),n(261),n(262),n(263),n(264),n(265),n(28),n(266),n(155),n(267),n(268),n(10),n(269),n(270),n(141),n(60),n(121),n(271),n(272),n(273),n(274),n(275),n(21),n(22),n(276),n(5),n(277),n(278),n(61),n(6),n(279),n(24),n(51),n(280),n(281),n(282),n(18),n(283),n(284),n(285),n(286),n(287),n(178),n(288),n(289),n(290),n(291),n(42),n(145),n(36),n(292),n(66),n(293),n(294),n(29),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(306),n(307),n(71),n(308),n(309),n(30),n(37),n(125),n(180),n(310),n(311),n(181),n(313),n(314),n(315),n(316),n(317),n(318),n(148),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(185),n(326),n(328),n(329),n(186),n(187),n(188),n(163),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(338),n(339),n(341),n(101),n(343),n(344),n(193),n(345),n(346),n(347),n(348),n(349),n(197),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(200),n(358),n(359),n(360),n(201),n(202),n(203),n(204),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(222),n(223),n(361),n(224),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),t.exports=n(75)},function(t,e,n){n(44)("asyncIterator")},function(t,e,n){n(44)("hasInstance")},function(t,e,n){n(44)("isConcatSpreadable")},function(t,e,n){n(44)("match")},function(t,e,n){n(44)("matchAll")},function(t,e,n){n(44)("replace")},function(t,e,n){n(44)("search")},function(t,e,n){n(44)("species")},function(t,e,n){n(44)("split")},function(t,e,n){n(44)("toPrimitive")},function(t,e,n){n(44)("toStringTag")},function(t,e,n){n(44)("unscopables")},function(t,e,n){n(1)({target:"Object",stat:!0,sham:!n(11)},{create:n(57)})},function(t,e,n){var r=n(1),i=n(11);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperty:n(13).f})},function(t,e,n){var r=n(1),i=n(11);r({target:"Object",stat:!0,forced:!i,sham:!i},{defineProperties:n(116)})},function(t,e,n){var r=n(1),i=n(106),o=n(70);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return i(t,function(t,n){o(e,t,n)},void 0,!0),e}})},function(t,e,n){var r=n(1),i=n(3),o=n(27),a=n(38).f,s=n(11),u=i(function(){a(1)});r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(o(t),e)}})},function(t,e,n){var r=n(1),i=n(11),o=n(113),a=n(27),s=n(38),u=n(70);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),i=s.f,c=o(r),l={},f=0;c.length>f;)void 0!==(n=i(r,e=c[f++]))&&u(l,e,n);return l}})},function(t,e,n){var r=n(1),i=n(3),o=n(134).f;r({target:"Object",stat:!0,forced:i(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:o})},function(t,e,n){n(1)({target:"Object",stat:!0},{is:n(136)})},function(t,e,n){var r=n(1),i=n(3),o=n(9),a=Object.isExtensible;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isExtensible:function(t){return!!o(t)&&(!a||a(t))}})},function(t,e,n){var r=n(1),i=n(3),o=n(9),a=Object.isFrozen;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isFrozen:function(t){return!o(t)||!!a&&a(t)}})},function(t,e,n){var r=n(1),i=n(3),o=n(9),a=Object.isSealed;r({target:"Object",stat:!0,forced:i(function(){a(1)})},{isSealed:function(t){return!o(t)||!!a&&a(t)}})},function(t,e,n){var r=n(1),i=n(9),o=n(97).onFreeze,a=n(118),s=n(3),u=Object.preventExtensions;r({target:"Object",stat:!0,forced:s(function(){u(1)}),sham:!a},{preventExtensions:function(t){return u&&i(t)?u(o(t)):t}})},function(t,e,n){var r=n(1),i=n(9),o=n(97).onFreeze,a=n(118),s=n(3),u=Object.seal;r({target:"Object",stat:!0,forced:s(function(){u(1)}),sham:!a},{seal:function(t){return u&&i(t)?u(o(t)):t}})},function(t,e,n){var r=n(1),i=n(170).values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},function(t,e,n){"use strict";var r=n(1),i=n(11),o=n(139),a=n(17),s=n(41),u=n(13);i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(t,e){u.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(1),i=n(11),o=n(139),a=n(17),s=n(41),u=n(13);i&&r({target:"Object",proto:!0,forced:o},{__defineSetter__:function(t,e){u.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(1),i=n(11),o=n(139),a=n(17),s=n(45),u=n(50),c=n(38).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupGetter__:function(t){var e,n=a(this),r=s(t,!0);do{if(e=c(n,r))return e.get}while(n=u(n))}})},function(t,e,n){"use strict";var r=n(1),i=n(11),o=n(139),a=n(17),s=n(45),u=n(50),c=n(38).f;i&&r({target:"Object",proto:!0,forced:o},{__lookupSetter__:function(t){var e,n=a(this),r=s(t,!0);do{if(e=c(n,r))return e.set}while(n=u(n))}})},function(t,e,n){n(1)({target:"Function",proto:!0},{bind:n(173)})},function(t,e,n){"use strict";var r=n(9),i=n(13),o=n(50),a=n(7)("hasInstance"),s=Function.prototype;a in s||i.f(s,a,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=o(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){n(1)({target:"Array",stat:!0},{isArray:n(63)})},function(t,e,n){"use strict";var r=n(1),i=n(3),o=n(70);r({target:"Array",stat:!0,forced:i(function(){function t(){}return!(Array.of.call(t)instanceof t)})},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)o(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){var r=n(1),i=n(175),o=n(64);r({target:"Array",proto:!0},{copyWithin:i}),o("copyWithin")},function(t,e,n){"use strict";var r=n(1),i=n(33).every;r({target:"Array",proto:!0,forced:n(48)("every")},{every:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),i=n(33).findIndex,o=n(64),a=!0;"findIndex"in[]&&Array(1).findIndex(function(){a=!1}),r({target:"Array",proto:!0,forced:a},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("findIndex")},function(t,e,n){"use strict";var r=n(1),i=n(176),o=n(17),a=n(14),s=n(40),u=n(86);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=o(this),n=a(e.length),r=u(e,0);return r.length=i(r,e,e,n,0,void 0===t?1:s(t)),r}})},function(t,e,n){"use strict";var r=n(1),i=n(176),o=n(17),a=n(14),s=n(41),u=n(86);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=o(this),r=a(n.length);return s(t),(e=u(n,0)).length=i(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){"use strict";var r=n(1),i=n(142);r({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},function(t,e,n){"use strict";var r=n(1),i=n(83).includes,o=n(64);r({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),o("includes")},function(t,e,n){var r=n(1),i=n(177);r({target:"Array",proto:!0,forced:i!==[].lastIndexOf},{lastIndexOf:i})},function(t,e,n){"use strict";var r=n(1),i=n(143).left;r({target:"Array",proto:!0,forced:n(48)("reduce")},{reduce:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),i=n(143).right;r({target:"Array",proto:!0,forced:n(48)("reduceRight")},{reduceRight:function(t){return i(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),i=n(33).some;r({target:"Array",proto:!0,forced:n(48)("some")},{some:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(88)("Array")},function(t,e,n){n(64)("flat")},function(t,e,n){n(64)("flatMap")},function(t,e,n){var r=n(1),i=n(56),o=String.fromCharCode,a=String.fromCodePoint;r({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],i(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?o(e):o(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){var r=n(1),i=n(27),o=n(14);r({target:"String",stat:!0},{raw:function(t){for(var e=i(t.raw),n=o(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){"use strict";var r=n(1),i=n(99).codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return i(this,t)}})},function(t,e,n){"use strict";var r=n(1),i=n(14),o=n(157),a=n(26),s=n(158),u="".endsWith,c=Math.min;r({target:"String",proto:!0,forced:!s("endsWith")},{endsWith:function(t){var e=String(a(this));o(t);var n=arguments.length>1?arguments[1]:void 0,r=i(e.length),s=void 0===n?r:c(i(n),r),l=String(t);return u?u.call(e,l,s):e.slice(s-l.length,s)===l}})},function(t,e,n){"use strict";var r=n(1),i=n(157),o=n(26);r({target:"String",proto:!0,forced:!n(158)("includes")},{includes:function(t){return!!~String(o(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),i=n(122),o=n(26),a=n(14),s=n(41),u=n(8),c=n(98),l=n(78),f=n(19),d=n(7),_=n(65),h=n(100),p=n(39),g=n(46),v=d("matchAll"),y=p.set,m=p.getterFor("RegExp String Iterator"),b=RegExp.prototype,x=b.exec,w=i(function(t,e,n,r){y(this,{type:"RegExp String Iterator",regexp:t,string:e,global:n,unicode:r,done:!1})},"RegExp String",function(){var t=m(this);if(t.done)return{value:void 0,done:!0};var e=t.regexp,n=t.string,r=function(t,e){var n,r=t.exec;if("function"==typeof r){if("object"!=typeof(n=r.call(t,e)))throw TypeError("Incorrect exec result");return n}return x.call(t,e)}(e,n);return null===r?{value:void 0,done:t.done=!0}:t.global?(""==String(r[0])&&(e.lastIndex=h(n,a(e.lastIndex),t.unicode)),{value:r,done:!1}):(t.done=!0,{value:r,done:!1})}),E=function(t){var e,n,r,i,o,s,c=u(this),f=String(t);return e=_(c,RegExp),void 0===(n=c.flags)&&c instanceof RegExp&&!("flags"in b)&&(n=l.call(c)),r=void 0===n?"":String(n),i=new e(e===RegExp?c.source:c,r),o=!!~r.indexOf("g"),s=!!~r.indexOf("u"),i.lastIndex=a(c.lastIndex),new w(i,f,o,s)};r({target:"String",proto:!0},{matchAll:function(t){var e,n,r,i=o(this);return null!=t&&(void 0===(n=t[v])&&g&&"RegExp"==c(t)&&(n=E),null!=n)?s(n).call(t,i):(e=String(i),r=new RegExp(t,"g"),g?E.call(r,e):r[v](e))}}),g||v in b||f(b,v,E)},function(t,e,n){"use strict";var r=n(1),i=n(159).end;r({target:"String",proto:!0,forced:n(179)},{padEnd:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(1),i=n(159).start;r({target:"String",proto:!0,forced:n(179)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){n(1)({target:"String",proto:!0},{repeat:n(160)})},function(t,e,n){"use strict";var r=n(1),i=n(14),o=n(157),a=n(26),s=n(158),u="".startsWith,c=Math.min;r({target:"String",proto:!0,forced:!s("startsWith")},{startsWith:function(t){var e=String(a(this));o(t);var n=i(c(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return u?u.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";var r=n(1),i=n(79).start,o=n(161)("trimStart"),a=o?function(){return i(this)}:"".trimStart;r({target:"String",proto:!0,forced:o},{trimStart:a,trimLeft:a})},function(t,e,n){"use strict";var r=n(1),i=n(79).end,o=n(161)("trimEnd"),a=o?function(){return i(this)}:"".trimEnd;r({target:"String",proto:!0,forced:o},{trimEnd:a,trimRight:a})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("anchor")},{anchor:function(t){return i(this,"a","name",t)}})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("big")},{big:function(){return i(this,"big","","")}})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("blink")},{blink:function(){return i(this,"blink","","")}})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("bold")},{bold:function(){return i(this,"b","","")}})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("fixed")},{fixed:function(){return i(this,"tt","","")}})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("fontcolor")},{fontcolor:function(t){return i(this,"font","color",t)}})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("fontsize")},{fontsize:function(t){return i(this,"font","size",t)}})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("italics")},{italics:function(){return i(this,"i","","")}})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("link")},{link:function(t){return i(this,"a","href",t)}})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("small")},{small:function(){return i(this,"small","","")}})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("strike")},{strike:function(){return i(this,"strike","","")}})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("sub")},{sub:function(){return i(this,"sub","","")}})},function(t,e,n){"use strict";var r=n(1),i=n(52);r({target:"String",proto:!0,forced:n(53)("sup")},{sup:function(){return i(this,"sup","","")}})},function(t,e,n){"use strict";var r=n(1),i=n(90);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,n){var r=n(11),i=n(13),o=n(78);r&&"g"!=/./g.flags&&i.f(RegExp.prototype,"flags",{configurable:!0,get:o})},function(t,e,n){n(1)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){n(1)({target:"Number",stat:!0},{isFinite:n(312)})},function(t,e,n){var r=n(4).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},function(t,e,n){n(1)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(1),i=n(182),o=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return i(t)&&o(t)<=9007199254740991}})},function(t,e,n){n(1)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n(1)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(1),i=n(147);r({target:"Number",stat:!0,forced:Number.parseFloat!=i},{parseFloat:i})},function(t,e,n){var r=n(1),i=n(146);r({target:"Number",stat:!0,forced:Number.parseInt!=i},{parseInt:i})},function(t,e,n){"use strict";var r=n(1),i=n(3),o=n(183),a=1..toPrecision;r({target:"Number",proto:!0,forced:i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})},{toPrecision:function(t){return void 0===t?a.call(o(this)):a.call(o(this),t)}})},function(t,e,n){var r=n(1),i=n(184),o=Math.acosh,a=Math.log,s=Math.sqrt,u=Math.LN2;r({target:"Math",stat:!0,forced:!o||710!=Math.floor(o(Number.MAX_VALUE))||o(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+u:i(t-1+s(t-1)*s(t+1))}})},function(t,e,n){var r=n(1),i=Math.asinh,o=Math.log,a=Math.sqrt;r({target:"Math",stat:!0,forced:!(i&&1/i(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):o(e+a(e*e+1)):e}})},function(t,e,n){var r=n(1),i=Math.atanh,o=Math.log;r({target:"Math",stat:!0,forced:!(i&&1/i(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:o((1+t)/(1-t))/2}})},function(t,e,n){var r=n(1),i=n(162),o=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(t){return i(t=+t)*a(o(t),1/3)}})},function(t,e,n){var r=n(1),i=Math.floor,o=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-i(o(t+.5)*a):32}})},function(t,e,n){var r=n(1),i=n(149),o=Math.cosh,a=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!o||o(710)===1/0},{cosh:function(t){var e=i(a(t)-1)+1;return(e+1/(e*s*s))*(s/2)}})},function(t,e,n){n(1)({target:"Math",stat:!0},{fround:n(327)})},function(t,e,n){var r=n(162),i=Math.abs,o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),c=o(2,-126);t.exports=Math.fround||function(t){var e,n,o=i(t),l=r(t);return o<c?l*(o/c/s+1/a-1/a)*c*s:(n=(e=(1+s/a)*o)-(e-o))>u||n!=n?l*(1/0):l*n}},function(t,e,n){var r=n(1),i=Math.hypot,o=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,s=0,u=arguments.length,c=0;s<u;)c<(n=o(arguments[s++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*a(i)}})},function(t,e,n){var r=n(1),i=n(3),o=Math.imul;r({target:"Math",stat:!0,forced:i(function(){return-5!=o(4294967295,5)||2!=o.length})},{imul:function(t,e){var n=+t,r=+e,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(1),i=n(3),o=n(149),a=Math.abs,s=Math.exp,u=Math.E;r({target:"Math",stat:!0,forced:i(function(){return-2e-17!=Math.sinh(-2e-17)})},{sinh:function(t){return a(t=+t)<1?(o(t)-o(-t))/2:(s(t-1)-s(-t-1))*(u/2)}})},function(t,e,n){var r=n(1),i=n(149),o=Math.exp;r({target:"Math",stat:!0},{tanh:function(t){var e=i(t=+t),n=i(-t);return e==1/0?1:n==1/0?-1:(e-n)/(o(t)+o(-t))}})},function(t,e,n){n(47)(Math,"Math",!0)},function(t,e,n){var r=n(1),i=Math.ceil,o=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?o:i)(t)}})},function(t,e,n){n(1)({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}})},function(t,e,n){"use strict";var r=n(1),i=n(3),o=n(17),a=n(45);r({target:"Date",proto:!0,forced:i(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})})},{toJSON:function(t){var e=o(this),n=a(e);return"number"!=typeof n||isFinite(n)?e.toISOString():null}})},function(t,e,n){var r=n(1),i=n(337);r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},function(t,e,n){"use strict";var r=n(3),i=n(159).start,o=Math.abs,a=Date.prototype,s=a.getTime,u=a.toISOString;t.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=u.call(new Date(-5e13-1))})||!r(function(){u.call(new Date(NaN))})?function(){if(!isFinite(s.call(this)))throw RangeError("Invalid time value");var t=this.getUTCFullYear(),e=this.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+i(o(t),n?6:4,0)+"-"+i(this.getUTCMonth()+1,2,0)+"-"+i(this.getUTCDate(),2,0)+"T"+i(this.getUTCHours(),2,0)+":"+i(this.getUTCMinutes(),2,0)+":"+i(this.getUTCSeconds(),2,0)+"."+i(e,3,0)+"Z"}:u},function(t,e,n){var r=n(23),i=Date.prototype,o=i.toString,a=i.getTime;new Date(NaN)+""!="Invalid Date"&&r(i,"toString",function(){var t=a.call(this);return t==t?o.call(this):"Invalid Date"})},function(t,e,n){var r=n(19),i=n(340),o=n(7)("toPrimitive"),a=Date.prototype;o in a||r(a,o,i)},function(t,e,n){"use strict";var r=n(8),i=n(45);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return i(r(this),"number"!==t)}},function(t,e,n){var r=n(4);n(47)(r.JSON,"JSON",!0)},function(t,e,n){var r=n(4);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e,n){"use strict";var r=n(1),i=n(41),o=n(165),a=n(192),s=n(106);r({target:"Promise",stat:!0},{allSettled:function(t){var e=this,n=o.f(e),r=n.resolve,u=n.reject,c=a(function(){var n=i(e.resolve),o=[],a=0,u=1;s(t,function(t){var i=a++,s=!1;o.push(void 0),u++,n.call(e,t).then(function(t){s||(s=!0,o[i]={status:"fulfilled",value:t},--u||r(o))},function(t){s||(s=!0,o[i]={status:"rejected",reason:t},--u||r(o))})}),--u||r(o)});return c.error&&u(c.value),n.promise}})},function(t,e,n){"use strict";var r=n(1),i=n(46),o=n(189),a=n(54),s=n(65),u=n(191),c=n(23);r({target:"Promise",proto:!0,real:!0},{finally:function(t){var e=s(this,a("Promise")),n="function"==typeof t;return this.then(n?function(n){return u(e,t()).then(function(){return n})}:t,n?function(n){return u(e,t()).then(function(){throw n})}:t)}}),i||"function"!=typeof o||o.prototype.finally||c(o.prototype,"finally",a("Promise").prototype.finally)},function(t,e,n){"use strict";var r=n(150),i=n(194);t.exports=r("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},i)},function(t,e,n){"use strict";var r,i=n(4),o=n(109),a=n(97),s=n(150),u=n(195),c=n(9),l=n(39).enforce,f=n(132),d=!i.ActiveXObject&&"ActiveXObject"in i,_=Object.isExtensible,h=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},p=t.exports=s("WeakMap",h,u,!0,!0);if(f&&d){r=u.getConstructor(h,"WeakMap",!0),a.REQUIRED=!0;var g=p.prototype,v=g.delete,y=g.has,m=g.get,b=g.set;o(g,{delete:function(t){if(c(t)&&!_(t)){var e=l(this);return e.frozen||(e.frozen=new r),v.call(this,t)||e.frozen.delete(t)}return v.call(this,t)},has:function(t){if(c(t)&&!_(t)){var e=l(this);return e.frozen||(e.frozen=new r),y.call(this,t)||e.frozen.has(t)}return y.call(this,t)},get:function(t){if(c(t)&&!_(t)){var e=l(this);return e.frozen||(e.frozen=new r),y.call(this,t)?m.call(this,t):e.frozen.get(t)}return m.call(this,t)},set:function(t,e){if(c(t)&&!_(t)){var n=l(this);n.frozen||(n.frozen=new r),y.call(this,t)?b.call(this,t,e):n.frozen.set(t,e)}else b.call(this,t,e);return this}})}},function(t,e,n){"use strict";n(150)("WeakSet",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},n(195),!1,!0)},function(t,e,n){"use strict";var r=n(1),i=n(4),o=n(151),a=n(88),s=o.ArrayBuffer;r({global:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},function(t,e,n){var r=n(1),i=n(16);r({target:"ArrayBuffer",stat:!0,forced:!i.NATIVE_ARRAY_BUFFER_VIEWS},{isView:i.isView})},function(t,e,n){var r=n(1),i=n(151);r({global:!0,forced:!n(16).NATIVE_ARRAY_BUFFER},{DataView:i.DataView})},function(t,e,n){n(80)("Int8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(80)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(80)("Uint8",1,function(t){return function(e,n,r){return t(this,e,n,r)}},!0)},function(t,e,n){n(80)("Int16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(80)("Uint16",2,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(80)("Int32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(80)("Uint32",4,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){n(80)("Float64",8,function(t){return function(e,n,r){return t(this,e,n,r)}})},function(t,e,n){"use strict";var r=n(166),i=n(16),o=n(199);i.exportStatic("from",o,r)},function(t,e,n){"use strict";var r=n(16),i=n(166),o=r.aTypedArrayConstructor;r.exportStatic("of",function(){for(var t=0,e=arguments.length,n=new(o(this))(e);e>t;)n[t]=arguments[t++];return n},i)},function(t,e,n){var r=n(1),i=n(54),o=n(41),a=n(8),s=n(3),u=i("Reflect","apply"),c=Function.apply;r({target:"Reflect",stat:!0,forced:!s(function(){u(function(){})})},{apply:function(t,e,n){return o(t),a(n),u?u(t,e,n):c.call(t,e,n)}})},function(t,e,n){var r=n(1),i=n(11),o=n(8),a=n(45),s=n(13);r({target:"Reflect",stat:!0,forced:n(3)(function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})}),sham:!i},{defineProperty:function(t,e,n){o(t);var r=a(e,!0);o(n);try{return s.f(t,r,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(1),i=n(8),o=n(38).f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=o(i(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var r=n(1),i=n(9),o=n(8),a=n(15),s=n(38),u=n(50);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,c,l=arguments.length<3?e:arguments[2];return o(e)===l?e[n]:(r=s.f(e,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(l):i(c=u(e))?t(c,n,l):void 0}})},function(t,e,n){var r=n(1),i=n(11),o=n(8),a=n(38);r({target:"Reflect",stat:!0,sham:!i},{getOwnPropertyDescriptor:function(t,e){return a.f(o(t),e)}})},function(t,e,n){var r=n(1),i=n(8),o=n(50);r({target:"Reflect",stat:!0,sham:!n(120)},{getPrototypeOf:function(t){return o(i(t))}})},function(t,e,n){n(1)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},function(t,e,n){var r=n(1),i=n(8),o=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function(t){return i(t),!o||o(t)}})},function(t,e,n){n(1)({target:"Reflect",stat:!0},{ownKeys:n(113)})},function(t,e,n){var r=n(1),i=n(54),o=n(8);r({target:"Reflect",stat:!0,sham:!n(118)},{preventExtensions:function(t){o(t);try{var e=i("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(1),i=n(8),o=n(9),a=n(15),s=n(13),u=n(38),c=n(50),l=n(49);r({target:"Reflect",stat:!0},{set:function t(e,n,r){var f,d,_=arguments.length<4?e:arguments[3],h=u.f(i(e),n);if(!h){if(o(d=c(e)))return t(d,n,r,_);h=l(0)}if(a(h,"value")){if(!1===h.writable||!o(_))return!1;if(f=u.f(_,n)){if(f.get||f.set||!1===f.writable)return!1;f.value=r,s.f(_,n,f)}else s.f(_,n,l(0,r));return!0}return void 0!==h.set&&(h.set.call(_,r),!0)}})},function(t,e,n){var r=n(1),i=n(8),o=n(138),a=n(77);a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){i(t),o(e);try{return a(t,e),!0}catch(t){return!1}}})},function(t,e,n){n(31),n(25),n(374),n(375),n(376),n(377),n(380),n(226),t.exports=n(75)},function(t,e,n){var r=n(4),i=n(164),o=!r.setImmediate||!r.clearImmediate;n(1)({global:!0,bind:!0,enumerable:!0,forced:o},{setImmediate:i.set,clearImmediate:i.clear})},function(t,e,n){var r=n(1),i=n(4),o=n(190),a=n(43),s=i.process,u="process"==a(s);r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=u&&s.domain;o(e?e.bind(t):t)}})},function(t,e,n){var r=n(1),i=n(4),o=n(144),a=[].slice,s=function(t){return function(e,n){var r=arguments.length>2,i=r?a.call(arguments,2):void 0;return t(r?function(){("function"==typeof e?e:Function(e)).apply(this,i)}:e,n)}};r({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:s(i.setTimeout),setInterval:s(i.setInterval)})},function(t,e,n){"use strict";n(29);var r,i=n(1),o=n(11),a=n(225),s=n(4),u=n(116),c=n(23),l=n(93),f=n(15),d=n(168),_=n(174),h=n(99).codeAt,p=n(378),g=n(47),v=n(226),y=n(39),m=s.URL,b=v.URLSearchParams,x=v.getState,w=y.set,E=y.getterFor("URL"),k=Math.floor,M=Math.pow,T=/[A-Za-z]/,A=/[\d+\-.A-Za-z]/,O=/\d/,C=/^(0x|0X)/,S=/^[0-7]+$/,D=/^\d+$/,P=/^[\dA-Fa-f]+$/,I=/[\u0000\u0009\u000A\u000D #%\/:?@[\\]]/,N=/[\u0000\u0009\u000A\u000D #\/:?@[\\]]/,R=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,L=/[\u0009\u000A\u000D]/g,j=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=U(e.slice(1,-1))))return"Invalid host";t.host=n}else if(Y(t)){if(e=p(e),I.test(e))return"Invalid host";if(null===(n=B(e)))return"Invalid host";t.host=n}else{if(N.test(e))return"Invalid host";for(n="",r=_(e),i=0;i<r.length;i++)n+=F(r[i],z);t.host=n}},B=function(t){var e,n,r,i,o,a,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=u[r]))return t;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=C.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?D:8==o?S:P).test(i))return t;a=parseInt(i,o)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=M(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*M(256,3-r);return s},U=function(t){var e,n,r,i,o,a,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,f=0,d=function(){return t.charAt(f)};if(":"==d()){if(":"!=t.charAt(1))return;f+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(e=n=0;n<4&&P.test(d());)e=16*e+parseInt(d(),16),f++,n++;if("."==d()){if(0==n)return;if(f-=n,c>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;f++}if(!O.test(d()))return;for(;O.test(d());){if(o=parseInt(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;u[c++]=e}else{if(null!==l)return;f++,l=++c}}if(null!==l)for(a=c-l,c=7;0!=c&&a>0;)s=u[c],u[c--]=u[l+a-1],u[l+--a]=s;else if(8!=c)return;return u},q=function(t){var e,n,r,i;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=k(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,i=0,o=0;o<8;o++)0!==t[o]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)i&&0===t[n]||(i&&(i=!1),r===n?(e+=n?":":"::",i=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},z={},W=d({},z,{" ":1,'"':1,"<":1,">":1,"`":1}),$=d({},W,{"#":1,"?":1,"{":1,"}":1}),H=d({},$,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),F=function(t,e){var n=h(t,0);return n>32&&n<127&&!f(e,t)?t:encodeURIComponent(t)},K={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},Y=function(t){return f(K,t.scheme)},G=function(t){return""!=t.username||""!=t.password},X=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},V=function(t,e){var n;return 2==t.length&&T.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},J=function(t){var e;return t.length>1&&V(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Z=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&V(e[0],!0)||e.pop()},Q=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},rt={},it={},ot={},at={},st={},ut={},ct={},lt={},ft={},dt={},_t={},ht={},pt={},gt={},vt={},yt={},mt={},bt={},xt=function(t,e,n,i){var o,a,s,u,c,l=n||tt,d=0,h="",p=!1,g=!1,v=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(R,"")),e=e.replace(L,""),o=_(e);d<=o.length;){switch(a=o[d],l){case tt:if(!a||!T.test(a)){if(n)return"Invalid scheme";l=nt;continue}h+=a.toLowerCase(),l=et;break;case et:if(a&&(A.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";h="",l=nt,d=0;continue}if(n&&(Y(t)!=f(K,h)||"file"==h&&(G(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,n)return void(Y(t)&&K[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?l=_t:Y(t)&&i&&i.scheme==t.scheme?l=rt:Y(t)?l=st:"/"==o[d+1]?(l=it,d++):(t.cannotBeABaseURL=!0,t.path.push(""),l=yt)}break;case nt:if(!i||i.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==a){t.scheme=i.scheme,t.path=i.path.slice(),t.query=i.query,t.fragment="",t.cannotBeABaseURL=!0,l=bt;break}l="file"==i.scheme?_t:ot;continue;case rt:if("/"!=a||"/"!=o[d+1]){l=ot;continue}l=ut,d++;break;case it:if("/"==a){l=ct;break}l=vt;continue;case ot:if(t.scheme=i.scheme,a==r)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query;else if("/"==a||"\\"==a&&Y(t))l=at;else if("?"==a)t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query="",l=mt;else{if("#"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.path.pop(),l=vt;continue}t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,t.path=i.path.slice(),t.query=i.query,t.fragment="",l=bt}break;case at:if(!Y(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=i.username,t.password=i.password,t.host=i.host,t.port=i.port,l=vt;continue}l=ct}else l=ut;break;case st:if(l=ut,"/"!=a||"/"!=h.charAt(d+1))continue;d++;break;case ut:if("/"!=a&&"\\"!=a){l=ct;continue}break;case ct:if("@"==a){p&&(h="%40"+h),p=!0,s=_(h);for(var y=0;y<s.length;y++){var m=s[y];if(":"!=m||v){var b=F(m,H);v?t.password+=b:t.username+=b}else v=!0}h=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)){if(p&&""==h)return"Invalid authority";d-=_(h).length+1,h="",l=lt}else h+=a;break;case lt:case ft:if(n&&"file"==t.scheme){l=pt;continue}if(":"!=a||g){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)){if(Y(t)&&""==h)return"Invalid host";if(n&&""==h&&(G(t)||null!==t.port))return;if(u=j(t,h))return u;if(h="",l=gt,n)return;continue}"["==a?g=!0:"]"==a&&(g=!1),h+=a}else{if(""==h)return"Invalid host";if(u=j(t,h))return u;if(h="",l=dt,n==ft)return}break;case dt:if(!O.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&Y(t)||n){if(""!=h){var x=parseInt(h,10);if(x>65535)return"Invalid port";t.port=Y(t)&&x===K[t.scheme]?null:x,h=""}if(n)return;l=gt;continue}return"Invalid port"}h+=a;break;case _t:if(t.scheme="file","/"==a||"\\"==a)l=ht;else{if(!i||"file"!=i.scheme){l=vt;continue}if(a==r)t.host=i.host,t.path=i.path.slice(),t.query=i.query;else if("?"==a)t.host=i.host,t.path=i.path.slice(),t.query="",l=mt;else{if("#"!=a){J(o.slice(d).join(""))||(t.host=i.host,t.path=i.path.slice(),Z(t)),l=vt;continue}t.host=i.host,t.path=i.path.slice(),t.query=i.query,t.fragment="",l=bt}}break;case ht:if("/"==a||"\\"==a){l=pt;break}i&&"file"==i.scheme&&!J(o.slice(d).join(""))&&(V(i.path[0],!0)?t.path.push(i.path[0]):t.host=i.host),l=vt;continue;case pt:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&V(h))l=vt;else if(""==h){if(t.host="",n)return;l=gt}else{if(u=j(t,h))return u;if("localhost"==t.host&&(t.host=""),n)return;h="",l=gt}continue}h+=a;break;case gt:if(Y(t)){if(l=vt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(l=vt,"/"!=a))continue}else t.fragment="",l=bt;else t.query="",l=mt;break;case vt:if(a==r||"/"==a||"\\"==a&&Y(t)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=h).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Z(t),"/"==a||"\\"==a&&Y(t)||t.path.push("")):Q(h)?"/"==a||"\\"==a&&Y(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&V(h)&&(t.host&&(t.host=""),h=h.charAt(0)+":"),t.path.push(h)),h="","file"==t.scheme&&(a==r||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",l=mt):"#"==a&&(t.fragment="",l=bt)}else h+=F(a,$);break;case yt:"?"==a?(t.query="",l=mt):"#"==a?(t.fragment="",l=bt):a!=r&&(t.path[0]+=F(a,z));break;case mt:n||"#"!=a?a!=r&&("'"==a&&Y(t)?t.query+="%27":t.query+="#"==a?"%23":F(a,z)):(t.fragment="",l=bt);break;case bt:a!=r&&(t.fragment+=F(a,W))}d++}},wt=function(t){var e,n,r=l(this,wt,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(t),s=w(r,{type:"URL"});if(void 0!==i)if(i instanceof wt)e=E(i);else if(n=xt(e={},String(i)))throw TypeError(n);if(n=xt(s,a,null,e))throw TypeError(n);var u=s.searchParams=new b,c=x(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},o||(r.href=kt.call(r),r.origin=Mt.call(r),r.protocol=Tt.call(r),r.username=At.call(r),r.password=Ot.call(r),r.host=Ct.call(r),r.hostname=St.call(r),r.port=Dt.call(r),r.pathname=Pt.call(r),r.search=It.call(r),r.searchParams=Nt.call(r),r.hash=Rt.call(r))},Et=wt.prototype,kt=function(){var t=E(this),e=t.scheme,n=t.username,r=t.password,i=t.host,o=t.port,a=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",G(t)&&(c+=n+(r?":"+r:"")+"@"),c+=q(i),null!==o&&(c+=":"+o)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Mt=function(){var t=E(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&Y(t)?e+"://"+q(t.host)+(null!==n?":"+n:""):"null"},Tt=function(){return E(this).scheme+":"},At=function(){return E(this).username},Ot=function(){return E(this).password},Ct=function(){var t=E(this),e=t.host,n=t.port;return null===e?"":null===n?q(e):q(e)+":"+n},St=function(){var t=E(this).host;return null===t?"":q(t)},Dt=function(){var t=E(this).port;return null===t?"":String(t)},Pt=function(){var t=E(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},It=function(){var t=E(this).query;return t?"?"+t:""},Nt=function(){return E(this).searchParams},Rt=function(){var t=E(this).fragment;return t?"#"+t:""},Lt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&u(Et,{href:Lt(kt,function(t){var e=E(this),n=String(t),r=xt(e,n);if(r)throw TypeError(r);x(e.searchParams).updateSearchParams(e.query)}),origin:Lt(Mt),protocol:Lt(Tt,function(t){var e=E(this);xt(e,String(t)+":",tt)}),username:Lt(At,function(t){var e=E(this),n=_(String(t));if(!X(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=F(n[r],H)}}),password:Lt(Ot,function(t){var e=E(this),n=_(String(t));if(!X(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=F(n[r],H)}}),host:Lt(Ct,function(t){var e=E(this);e.cannotBeABaseURL||xt(e,String(t),lt)}),hostname:Lt(St,function(t){var e=E(this);e.cannotBeABaseURL||xt(e,String(t),ft)}),port:Lt(Dt,function(t){var e=E(this);X(e)||(""==(t=String(t))?e.port=null:xt(e,t,dt))}),pathname:Lt(Pt,function(t){var e=E(this);e.cannotBeABaseURL||(e.path=[],xt(e,t+"",gt))}),search:Lt(It,function(t){var e=E(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",xt(e,t,mt)),x(e.searchParams).updateSearchParams(e.query)}),searchParams:Lt(Nt),hash:Lt(Rt,function(t){var e=E(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",xt(e,t,bt)):e.fragment=null})}),c(Et,"toJSON",function(){return kt.call(this)},{enumerable:!0}),c(Et,"toString",function(){return kt.call(this)},{enumerable:!0}),m){var jt=m.createObjectURL,Bt=m.revokeObjectURL;jt&&c(wt,"createObjectURL",function(t){return jt.apply(m,arguments)}),Bt&&c(wt,"revokeObjectURL",function(t){return Bt.apply(m,arguments)})}g(wt,"URL"),i({global:!0,forced:!a,sham:!o},{URL:wt})},function(t,e,n){"use strict";var r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,o="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,u=function(t){return t+22+75*(t<26)},c=function(t,e,n){var r=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;r+=36)t=a(t/35);return a(r+36*t/(t+38))},l=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=t.charCodeAt(n++);56320==(64512&o)?e.push(((1023&i)<<10)+(1023&o)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,l=128,f=0,d=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(s(n));var _=r.length,h=_;for(_&&r.push("-");h<i;){var p=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=l&&n<p&&(p=n);var g=h+1;if(p-l>a((2147483647-f)/g))throw RangeError(o);for(f+=(p-l)*g,l=p,e=0;e<t.length;e++){if((n=t[e])<l&&++f>2147483647)throw RangeError(o);if(n==l){for(var v=f,y=36;;y+=36){var m=y<=d?1:y>=d+26?26:y-d;if(v<m)break;var b=v-m,x=36-m;r.push(s(u(m+b%x))),v=a(b/x)}r.push(s(u(v))),d=c(f,g,h==_),f=0,++h}}++f,++l}return r.join("")};t.exports=function(t){var e,n,o=[],a=t.toLowerCase().replace(i,".").split(".");for(e=0;e<a.length;e++)n=a[e],o.push(r.test(n)?"xn--"+l(n):n);return o.join(".")}},function(t,e,n){var r=n(8),i=n(119);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){"use strict";n(1)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},,,,,,,,,,,function(e,n,r){"use strict";r.r(n);var i={};r.r(i),r.d(i,"create_graph",function(){return $}),r.d(i,"render_coordinates",function(){return Y}),r.d(i,"render_point",function(){return V}),r.d(i,"render_curve",function(){return J}),r.d(i,"render_area",function(){return Z}),r.d(i,"render_area_reverse",function(){return Q}),r.d(i,"render_dual_area",function(){return tt});var o={};r.r(o),r.d(o,"monitor",function(){return it}),r.d(o,"show_error",function(){return st}),r.d(o,"show_info",function(){return ut}),r.d(o,"hide_msg",function(){return ct});var a={};r.r(a),r.d(a,"activate_changes",function(){return lt});var s={};r.r(s),r.d(s,"start",function(){return xt}),r.d(s,"url_drop_handler",function(){return Mt}),r.d(s,"register_event_handlers",function(){return Tt});var u={};r.r(u),r.d(u,"enable",function(){return At}),r.d(u,"toggle",function(){return Ot});var c={};r.r(c),r.d(c,"timeline_hover",function(){return St}),r.d(c,"timetable_hover",function(){return Dt});var l={};r.r(l),r.d(l,"details_period_hover",function(){return Pt}),r.d(l,"details_period_click",function(){return It}),r.d(l,"details_table_hover",function(){return Nt});var f={};r.r(f),r.d(f,"toggle_subtree",function(){return Rt}),r.d(f,"toggle_box",function(){return Bt}),r.d(f,"toggle_assumption",function(){return Ut});var d={};r.r(d),r.d(d,"submit",function(){return qt}),r.d(d,"download",function(){return Ht});var _={};r.r(_),r.d(_,"refresh_job_details",function(){return Ft});var h={};r.r(h),r.d(h,"start",function(){return Jt}),r.d(h,"execute_active_check",function(){return ie});var p={};r.r(p),r.d(p,"fetch_site_status",function(){return se});var g={};r.r(g),r.d(g,"start_test",function(){return ce});var v={};r.r(v),r.d(v,"prepare",function(){return _e}),r.d(v,"start",function(){return he});var y={};r.r(y),r.d(y,"prepare_edit_dialog",function(){return me}),r.d(y,"fix_visibility",function(){return be}),r.d(y,"toggle_attribute",function(){return xe}),r.d(y,"randomize_secret",function(){return we}),r.d(y,"toggle_container",function(){return Ee}),r.d(y,"open_folder",function(){return ke}),r.d(y,"toggle_folder",function(){return Me}),r.d(y,"toggle_rule_condition_type",function(){return Te});var m={};r.r(m),r.d(m,"pause",function(){return De}),r.d(m,"stop",function(){return Pe});var b={};r.r(b),r.d(b,"version",function(){return Re}),r.d(b,"bisect",function(){return ze}),r.d(b,"bisectRight",function(){return Ue}),r.d(b,"bisectLeft",function(){return qe}),r.d(b,"ascending",function(){return Le}),r.d(b,"bisector",function(){return je}),r.d(b,"cross",function(){return He}),r.d(b,"descending",function(){return Fe}),r.d(b,"deviation",function(){return Ge}),r.d(b,"extent",function(){return Xe}),r.d(b,"histogram",function(){return ln}),r.d(b,"thresholdFreedmanDiaconis",function(){return dn}),r.d(b,"thresholdScott",function(){return _n}),r.d(b,"thresholdSturges",function(){return cn}),r.d(b,"max",function(){return hn}),r.d(b,"mean",function(){return pn}),r.d(b,"median",function(){return gn}),r.d(b,"merge",function(){return vn}),r.d(b,"min",function(){return yn}),r.d(b,"pairs",function(){return We}),r.d(b,"permute",function(){return mn}),r.d(b,"quantile",function(){return fn}),r.d(b,"range",function(){return en}),r.d(b,"scan",function(){return bn}),r.d(b,"shuffle",function(){return xn}),r.d(b,"sum",function(){return wn}),r.d(b,"ticks",function(){return an}),r.d(b,"tickIncrement",function(){return sn}),r.d(b,"tickStep",function(){return un}),r.d(b,"transpose",function(){return En}),r.d(b,"variance",function(){return Ye}),r.d(b,"zip",function(){return Mn}),r.d(b,"axisTop",function(){return Un}),r.d(b,"axisRight",function(){return qn}),r.d(b,"axisBottom",function(){return zn}),r.d(b,"axisLeft",function(){return Wn}),r.d(b,"brush",function(){return oc}),r.d(b,"brushX",function(){return rc}),r.d(b,"brushY",function(){return ic}),r.d(b,"brushSelection",function(){return nc}),r.d(b,"chord",function(){return hc}),r.d(b,"ribbon",function(){return Oc}),r.d(b,"nest",function(){return Pc}),r.d(b,"set",function(){return qc}),r.d(b,"map",function(){return Dc}),r.d(b,"keys",function(){return zc}),r.d(b,"values",function(){return Wc}),r.d(b,"entries",function(){return $c}),r.d(b,"color",function(){return Yi}),r.d(b,"rgb",function(){return Ji}),r.d(b,"hsl",function(){return io}),r.d(b,"lab",function(){return mo}),r.d(b,"hcl",function(){return Ao}),r.d(b,"lch",function(){return To}),r.d(b,"gray",function(){return yo}),r.d(b,"cubehelix",function(){return Lo}),r.d(b,"contours",function(){return Qc}),r.d(b,"contourDensity",function(){return ol}),r.d(b,"dispatch",function(){return Xn}),r.d(b,"drag",function(){return Ci}),r.d(b,"dragDisable",function(){return xi}),r.d(b,"dragEnable",function(){return wi}),r.d(b,"dsvFormat",function(){return pl}),r.d(b,"csvParse",function(){return vl}),r.d(b,"csvParseRows",function(){return yl}),r.d(b,"csvFormat",function(){return ml}),r.d(b,"csvFormatBody",function(){return bl}),r.d(b,"csvFormatRows",function(){return xl}),r.d(b,"tsvParse",function(){return El}),r.d(b,"tsvParseRows",function(){return kl}),r.d(b,"tsvFormat",function(){return Ml}),r.d(b,"tsvFormatBody",function(){return Tl}),r.d(b,"tsvFormatRows",function(){return Al}),r.d(b,"autoType",function(){return Ol}),r.d(b,"easeLinear",function(){return Ws}),r.d(b,"easeQuad",function(){return Fs}),r.d(b,"easeQuadIn",function(){return $s}),r.d(b,"easeQuadOut",function(){return Hs}),r.d(b,"easeQuadInOut",function(){return Fs}),r.d(b,"easeCubic",function(){return Gs}),r.d(b,"easeCubicIn",function(){return Ks}),r.d(b,"easeCubicOut",function(){return Ys}),r.d(b,"easeCubicInOut",function(){return Gs}),r.d(b,"easePoly",function(){return Js}),r.d(b,"easePolyIn",function(){return Xs}),r.d(b,"easePolyOut",function(){return Vs}),r.d(b,"easePolyInOut",function(){return Js}),r.d(b,"easeSin",function(){return nu}),r.d(b,"easeSinIn",function(){return tu}),r.d(b,"easeSinOut",function(){return eu}),r.d(b,"easeSinInOut",function(){return nu}),r.d(b,"easeExp",function(){return ou}),r.d(b,"easeExpIn",function(){return ru}),r.d(b,"easeExpOut",function(){return iu}),r.d(b,"easeExpInOut",function(){return ou}),r.d(b,"easeCircle",function(){return uu}),r.d(b,"easeCircleIn",function(){return au}),r.d(b,"easeCircleOut",function(){return su}),r.d(b,"easeCircleInOut",function(){return uu}),r.d(b,"easeBounce",function(){return bu}),r.d(b,"easeBounceIn",function(){return mu}),r.d(b,"easeBounceOut",function(){return bu}),r.d(b,"easeBounceInOut",function(){return xu}),r.d(b,"easeBack",function(){return ku}),r.d(b,"easeBackIn",function(){return wu}),r.d(b,"easeBackOut",function(){return Eu}),r.d(b,"easeBackInOut",function(){return ku}),r.d(b,"easeElastic",function(){return Au}),r.d(b,"easeElasticIn",function(){return Tu}),r.d(b,"easeElasticOut",function(){return Au}),r.d(b,"easeElasticInOut",function(){return Ou}),r.d(b,"blob",function(){return Sl}),r.d(b,"buffer",function(){return Pl}),r.d(b,"dsv",function(){return Ll}),r.d(b,"csv",function(){return jl}),r.d(b,"tsv",function(){return Bl}),r.d(b,"image",function(){return Ul}),r.d(b,"json",function(){return zl}),r.d(b,"text",function(){return Nl}),r.d(b,"xml",function(){return $l}),r.d(b,"html",function(){return Hl}),r.d(b,"svg",function(){return Fl}),r.d(b,"forceCenter",function(){return Kl}),r.d(b,"forceCollide",function(){return af}),r.d(b,"forceLink",function(){return lf}),r.d(b,"forceManyBody",function(){return gf}),r.d(b,"forceRadial",function(){return vf}),r.d(b,"forceSimulation",function(){return pf}),r.d(b,"forceX",function(){return yf}),r.d(b,"forceY",function(){return mf}),r.d(b,"formatDefaultLocale",function(){return Rf}),r.d(b,"format",function(){return Af}),r.d(b,"formatPrefix",function(){return Of}),r.d(b,"formatLocale",function(){return Nf}),r.d(b,"formatSpecifier",function(){return Ef}),r.d(b,"precisionFixed",function(){return Lf}),r.d(b,"precisionPrefix",function(){return jf}),r.d(b,"precisionRound",function(){return Bf}),r.d(b,"geoArea",function(){return Dd}),r.d(b,"geoBounds",function(){return E_}),r.d(b,"geoCentroid",function(){return R_}),r.d(b,"geoCircle",function(){return K_}),r.d(b,"geoClipAntimeridian",function(){return ih}),r.d(b,"geoClipCircle",function(){return oh}),r.d(b,"geoClipExtent",function(){return _h}),r.d(b,"geoClipRectangle",function(){return ch}),r.d(b,"geoContains",function(){return Dh}),r.d(b,"geoDistance",function(){return wh}),r.d(b,"geoGraticule",function(){return Nh}),r.d(b,"geoGraticule10",function(){return Rh}),r.d(b,"geoInterpolate",function(){return qh}),r.d(b,"geoLength",function(){return mh}),r.d(b,"geoPath",function(){return Bp}),r.d(b,"geoAlbers",function(){return ig}),r.d(b,"geoAlbersUsa",function(){return og}),r.d(b,"geoAzimuthalEqualArea",function(){return cg}),r.d(b,"geoAzimuthalEqualAreaRaw",function(){return ug}),r.d(b,"geoAzimuthalEquidistant",function(){return fg}),r.d(b,"geoAzimuthalEquidistantRaw",function(){return lg}),r.d(b,"geoConicConformal",function(){return vg}),r.d(b,"geoConicConformalRaw",function(){return gg}),r.d(b,"geoConicEqualArea",function(){return rg}),r.d(b,"geoConicEqualAreaRaw",function(){return ng}),r.d(b,"geoConicEquidistant",function(){return xg}),r.d(b,"geoConicEquidistantRaw",function(){return bg}),r.d(b,"geoEqualEarth",function(){return Og}),r.d(b,"geoEqualEarthRaw",function(){return Ag}),r.d(b,"geoEquirectangular",function(){return mg}),r.d(b,"geoEquirectangularRaw",function(){return yg}),r.d(b,"geoGnomonic",function(){return Sg}),r.d(b,"geoGnomonicRaw",function(){return Cg}),r.d(b,"geoIdentity",function(){return Pg}),r.d(b,"geoProjection",function(){return Qp}),r.d(b,"geoProjectionMutator",function(){return tg}),r.d(b,"geoMercator",function(){return _g}),r.d(b,"geoMercatorRaw",function(){return dg}),r.d(b,"geoNaturalEarth1",function(){return Ng}),r.d(b,"geoNaturalEarth1Raw",function(){return Ig}),r.d(b,"geoOrthographic",function(){return Lg}),r.d(b,"geoOrthographicRaw",function(){return Rg}),r.d(b,"geoStereographic",function(){return Bg}),r.d(b,"geoStereographicRaw",function(){return jg}),r.d(b,"geoTransverseMercator",function(){return qg}),r.d(b,"geoTransverseMercatorRaw",function(){return Ug}),r.d(b,"geoRotation",function(){return $_}),r.d(b,"geoStream",function(){return Ed}),r.d(b,"geoTransform",function(){return Up}),r.d(b,"cluster",function(){return Hg}),r.d(b,"hierarchy",function(){return Kg}),r.d(b,"pack",function(){return vv}),r.d(b,"packSiblings",function(){return fv}),r.d(b,"packEnclose",function(){return Zg}),r.d(b,"partition",function(){return Ev}),r.d(b,"stratify",function(){return Cv}),r.d(b,"tree",function(){return Lv}),r.d(b,"treemap",function(){return zv}),r.d(b,"treemapBinary",function(){return Wv}),r.d(b,"treemapDice",function(){return wv}),r.d(b,"treemapSlice",function(){return jv}),r.d(b,"treemapSliceDice",function(){return $v}),r.d(b,"treemapSquarify",function(){return qv}),r.d(b,"treemapResquarify",function(){return Hv}),r.d(b,"interpolate",function(){return ca}),r.d(b,"interpolateArray",function(){return Vo}),r.d(b,"interpolateBasis",function(){return Uo}),r.d(b,"interpolateBasisClosed",function(){return qo}),r.d(b,"interpolateDate",function(){return Jo}),r.d(b,"interpolateDiscrete",function(){return la}),r.d(b,"interpolateHue",function(){return fa}),r.d(b,"interpolateNumber",function(){return Zo}),r.d(b,"interpolateObject",function(){return ta}),r.d(b,"interpolateRound",function(){return da}),r.d(b,"interpolateString",function(){return ra}),r.d(b,"interpolateTransformCss",function(){return va}),r.d(b,"interpolateTransformSvg",function(){return ya}),r.d(b,"interpolateZoom",function(){return xa}),r.d(b,"interpolateRgb",function(){return Ko}),r.d(b,"interpolateRgbBasis",function(){return Go}),r.d(b,"interpolateRgbBasisClosed",function(){return Xo}),r.d(b,"interpolateHsl",function(){return Ea}),r.d(b,"interpolateHslLong",function(){return ka}),r.d(b,"interpolateLab",function(){return Ma}),r.d(b,"interpolateHcl",function(){return Aa}),r.d(b,"interpolateHclLong",function(){return Oa}),r.d(b,"interpolateCubehelix",function(){return Sa}),r.d(b,"interpolateCubehelixLong",function(){return Da}),r.d(b,"piecewise",function(){return Pa}),r.d(b,"quantize",function(){return Ia}),r.d(b,"path",function(){return wc}),r.d(b,"polygonArea",function(){return Fv}),r.d(b,"polygonCentroid",function(){return Kv}),r.d(b,"polygonHull",function(){return Vv}),r.d(b,"polygonContains",function(){return Jv}),r.d(b,"polygonLength",function(){return Zv}),r.d(b,"quadtree",function(){return Ql}),r.d(b,"randomUniform",function(){return ty}),r.d(b,"randomNormal",function(){return ey}),r.d(b,"randomLogNormal",function(){return ny}),r.d(b,"randomBates",function(){return iy}),r.d(b,"randomIrwinHall",function(){return ry}),r.d(b,"randomExponential",function(){return oy}),r.d(b,"scaleBand",function(){return _y}),r.d(b,"scalePoint",function(){return hy}),r.d(b,"scaleIdentity",function(){return Cy}),r.d(b,"scaleLinear",function(){return Oy}),r.d(b,"scaleLog",function(){return By}),r.d(b,"scaleSymlog",function(){return Wy}),r.d(b,"scaleOrdinal",function(){return dy}),r.d(b,"scaleImplicit",function(){return fy}),r.d(b,"scalePow",function(){return Yy}),r.d(b,"scaleSqrt",function(){return Gy}),r.d(b,"scaleQuantile",function(){return Xy}),r.d(b,"scaleQuantize",function(){return Vy}),r.d(b,"scaleThreshold",function(){return Jy}),r.d(b,"scaleTime",function(){return Yx}),r.d(b,"scaleUtc",function(){return Gx}),r.d(b,"scaleSequential",function(){return Jx}),r.d(b,"scaleSequentialLog",function(){return Zx}),r.d(b,"scaleSequentialPow",function(){return tw}),r.d(b,"scaleSequentialSqrt",function(){return ew}),r.d(b,"scaleSequentialSymlog",function(){return Qx}),r.d(b,"scaleSequentialQuantile",function(){return nw}),r.d(b,"scaleDiverging",function(){return iw}),r.d(b,"scaleDivergingLog",function(){return ow}),r.d(b,"scaleDivergingPow",function(){return sw}),r.d(b,"scaleDivergingSqrt",function(){return uw}),r.d(b,"scaleDivergingSymlog",function(){return aw}),r.d(b,"tickFormat",function(){return Ty}),r.d(b,"schemeCategory10",function(){return lw}),r.d(b,"schemeAccent",function(){return fw}),r.d(b,"schemeDark2",function(){return dw}),r.d(b,"schemePaired",function(){return _w}),r.d(b,"schemePastel1",function(){return hw}),r.d(b,"schemePastel2",function(){return pw}),r.d(b,"schemeSet1",function(){return gw}),r.d(b,"schemeSet2",function(){return vw}),r.d(b,"schemeSet3",function(){return yw}),r.d(b,"schemeTableau10",function(){return mw}),r.d(b,"interpolateBrBG",function(){return ww}),r.d(b,"schemeBrBG",function(){return xw}),r.d(b,"interpolatePRGn",function(){return kw}),r.d(b,"schemePRGn",function(){return Ew}),r.d(b,"interpolatePiYG",function(){return Tw}),r.d(b,"schemePiYG",function(){return Mw}),r.d(b,"interpolatePuOr",function(){return Ow}),r.d(b,"schemePuOr",function(){return Aw}),r.d(b,"interpolateRdBu",function(){return Sw}),r.d(b,"schemeRdBu",function(){return Cw}),r.d(b,"interpolateRdGy",function(){return Pw}),r.d(b,"schemeRdGy",function(){return Dw}),r.d(b,"interpolateRdYlBu",function(){return Nw}),r.d(b,"schemeRdYlBu",function(){return Iw}),r.d(b,"interpolateRdYlGn",function(){return Lw}),r.d(b,"schemeRdYlGn",function(){return Rw}),r.d(b,"interpolateSpectral",function(){return Bw}),r.d(b,"schemeSpectral",function(){return jw}),r.d(b,"interpolateBuGn",function(){return qw}),r.d(b,"schemeBuGn",function(){return Uw}),r.d(b,"interpolateBuPu",function(){return Ww}),r.d(b,"schemeBuPu",function(){return zw}),r.d(b,"interpolateGnBu",function(){return Hw}),r.d(b,"schemeGnBu",function(){return $w}),r.d(b,"interpolateOrRd",function(){return Kw}),r.d(b,"schemeOrRd",function(){return Fw}),r.d(b,"interpolatePuBuGn",function(){return Gw}),r.d(b,"schemePuBuGn",function(){return Yw}),r.d(b,"interpolatePuBu",function(){return Vw}),r.d(b,"schemePuBu",function(){return Xw}),r.d(b,"interpolatePuRd",function(){return Zw}),r.d(b,"schemePuRd",function(){return Jw}),r.d(b,"interpolateRdPu",function(){return tE}),r.d(b,"schemeRdPu",function(){return Qw}),r.d(b,"interpolateYlGnBu",function(){return nE}),r.d(b,"schemeYlGnBu",function(){return eE}),r.d(b,"interpolateYlGn",function(){return iE}),r.d(b,"schemeYlGn",function(){return rE}),r.d(b,"interpolateYlOrBr",function(){return aE}),r.d(b,"schemeYlOrBr",function(){return oE}),r.d(b,"interpolateYlOrRd",function(){return uE}),r.d(b,"schemeYlOrRd",function(){return sE}),r.d(b,"interpolateBlues",function(){return lE}),r.d(b,"schemeBlues",function(){return cE}),r.d(b,"interpolateGreens",function(){return dE}),r.d(b,"schemeGreens",function(){return fE}),r.d(b,"interpolateGreys",function(){return hE}),r.d(b,"schemeGreys",function(){return _E}),r.d(b,"interpolatePurples",function(){return gE}),r.d(b,"schemePurples",function(){return pE}),r.d(b,"interpolateReds",function(){return yE}),r.d(b,"schemeReds",function(){return vE}),r.d(b,"interpolateOranges",function(){return bE}),r.d(b,"schemeOranges",function(){return mE}),r.d(b,"interpolateCividis",function(){return xE}),r.d(b,"interpolateCubehelixDefault",function(){return wE}),r.d(b,"interpolateRainbow",function(){return TE}),r.d(b,"interpolateWarm",function(){return EE}),r.d(b,"interpolateCool",function(){return kE}),r.d(b,"interpolateSinebow",function(){return SE}),r.d(b,"interpolateTurbo",function(){return DE}),r.d(b,"interpolateViridis",function(){return IE}),r.d(b,"interpolateMagma",function(){return NE}),r.d(b,"interpolateInferno",function(){return RE}),r.d(b,"interpolatePlasma",function(){return LE}),r.d(b,"create",function(){return ci}),r.d(b,"creator",function(){return er}),r.d(b,"local",function(){return fi}),r.d(b,"matcher",function(){return ar}),r.d(b,"mouse",function(){return pi}),r.d(b,"namespace",function(){return Zn}),r.d(b,"namespaces",function(){return Jn}),r.d(b,"clientPoint",function(){return hi}),r.d(b,"select",function(){return ui}),r.d(b,"selectAll",function(){return gi}),r.d(b,"selection",function(){return si}),r.d(b,"selector",function(){return rr}),r.d(b,"selectorAll",function(){return or}),r.d(b,"style",function(){return Er}),r.d(b,"touch",function(){return vi}),r.d(b,"touches",function(){return yi}),r.d(b,"window",function(){return mr}),r.d(b,"event",function(){return Gr}),r.d(b,"customEvent",function(){return ti}),r.d(b,"arc",function(){return nk}),r.d(b,"area",function(){return uk}),r.d(b,"line",function(){return sk}),r.d(b,"pie",function(){return fk}),r.d(b,"areaRadial",function(){return vk}),r.d(b,"radialArea",function(){return vk}),r.d(b,"lineRadial",function(){return gk}),r.d(b,"radialLine",function(){return gk}),r.d(b,"pointRadial",function(){return yk}),r.d(b,"linkHorizontal",function(){return Tk}),r.d(b,"linkVertical",function(){return Ak}),r.d(b,"linkRadial",function(){return Ok}),r.d(b,"symbol",function(){return Kk}),r.d(b,"symbols",function(){return Fk}),r.d(b,"symbolCircle",function(){return Ck}),r.d(b,"symbolCross",function(){return Sk}),r.d(b,"symbolDiamond",function(){return Ik}),r.d(b,"symbolSquare",function(){return Bk}),r.d(b,"symbolStar",function(){return jk}),r.d(b,"symbolTriangle",function(){return qk}),r.d(b,"symbolWye",function(){return Hk}),r.d(b,"curveBasisClosed",function(){return Zk}),r.d(b,"curveBasisOpen",function(){return tM}),r.d(b,"curveBasis",function(){return Vk}),r.d(b,"curveBundle",function(){return nM}),r.d(b,"curveCardinalClosed",function(){return sM}),r.d(b,"curveCardinalOpen",function(){return cM}),r.d(b,"curveCardinal",function(){return oM}),r.d(b,"curveCatmullRomClosed",function(){return hM}),r.d(b,"curveCatmullRomOpen",function(){return gM}),r.d(b,"curveCatmullRom",function(){return dM}),r.d(b,"curveLinearClosed",function(){return yM}),r.d(b,"curveLinear",function(){return ik}),r.d(b,"curveMonotoneX",function(){return TM}),r.d(b,"curveMonotoneY",function(){return AM}),r.d(b,"curveNatural",function(){return SM}),r.d(b,"curveStep",function(){return PM}),r.d(b,"curveStepAfter",function(){return NM}),r.d(b,"curveStepBefore",function(){return IM}),r.d(b,"stack",function(){return BM}),r.d(b,"stackOffsetExpand",function(){return UM}),r.d(b,"stackOffsetDiverging",function(){return qM}),r.d(b,"stackOffsetNone",function(){return RM}),r.d(b,"stackOffsetSilhouette",function(){return zM}),r.d(b,"stackOffsetWiggle",function(){return WM}),r.d(b,"stackOrderAppearance",function(){return $M}),r.d(b,"stackOrderAscending",function(){return FM}),r.d(b,"stackOrderDescending",function(){return YM}),r.d(b,"stackOrderInsideOut",function(){return GM}),r.d(b,"stackOrderNone",function(){return LM}),r.d(b,"stackOrderReverse",function(){return XM}),r.d(b,"timeInterval",function(){return tm}),r.d(b,"timeMillisecond",function(){return nm}),r.d(b,"timeMilliseconds",function(){return rm}),r.d(b,"utcMillisecond",function(){return nm}),r.d(b,"utcMilliseconds",function(){return rm}),r.d(b,"timeSecond",function(){return sm}),r.d(b,"timeSeconds",function(){return um}),r.d(b,"utcSecond",function(){return sm}),r.d(b,"utcSeconds",function(){return um}),r.d(b,"timeMinute",function(){return lm}),r.d(b,"timeMinutes",function(){return fm}),r.d(b,"timeHour",function(){return _m}),r.d(b,"timeHours",function(){return hm}),r.d(b,"timeDay",function(){return gm}),r.d(b,"timeDays",function(){return vm}),r.d(b,"timeWeek",function(){return mm}),r.d(b,"timeWeeks",function(){return Tm}),r.d(b,"timeSunday",function(){return mm}),r.d(b,"timeSundays",function(){return Tm}),r.d(b,"timeMonday",function(){return bm}),r.d(b,"timeMondays",function(){return Am}),r.d(b,"timeTuesday",function(){return xm}),r.d(b,"timeTuesdays",function(){return Om}),r.d(b,"timeWednesday",function(){return wm}),r.d(b,"timeWednesdays",function(){return Cm}),r.d(b,"timeThursday",function(){return Em}),r.d(b,"timeThursdays",function(){return Sm}),r.d(b,"timeFriday",function(){return km}),r.d(b,"timeFridays",function(){return Dm}),r.d(b,"timeSaturday",function(){return Mm}),r.d(b,"timeSaturdays",function(){return Pm}),r.d(b,"timeMonth",function(){return Nm}),r.d(b,"timeMonths",function(){return Rm}),r.d(b,"timeYear",function(){return jm}),r.d(b,"timeYears",function(){return Bm}),r.d(b,"utcMinute",function(){return qm}),r.d(b,"utcMinutes",function(){return zm}),r.d(b,"utcHour",function(){return $m}),r.d(b,"utcHours",function(){return Hm}),r.d(b,"utcDay",function(){return Km}),r.d(b,"utcDays",function(){return Ym}),r.d(b,"utcWeek",function(){return Xm}),r.d(b,"utcWeeks",function(){return nb}),r.d(b,"utcSunday",function(){return Xm}),r.d(b,"utcSundays",function(){return nb}),r.d(b,"utcMonday",function(){return Vm}),r.d(b,"utcMondays",function(){return rb}),r.d(b,"utcTuesday",function(){return Jm}),r.d(b,"utcTuesdays",function(){return ib}),r.d(b,"utcWednesday",function(){return Zm}),r.d(b,"utcWednesdays",function(){return ob}),r.d(b,"utcThursday",function(){return Qm}),r.d(b,"utcThursdays",function(){return ab}),r.d(b,"utcFriday",function(){return tb}),r.d(b,"utcFridays",function(){return sb}),r.d(b,"utcSaturday",function(){return eb}),r.d(b,"utcSaturdays",function(){return ub}),r.d(b,"utcMonth",function(){return lb}),r.d(b,"utcMonths",function(){return fb}),r.d(b,"utcYear",function(){return _b}),r.d(b,"utcYears",function(){return hb}),r.d(b,"timeFormatDefaultLocale",function(){return Nx}),r.d(b,"timeFormat",function(){return bb}),r.d(b,"timeParse",function(){return xb}),r.d(b,"utcFormat",function(){return wb}),r.d(b,"utcParse",function(){return Eb}),r.d(b,"timeFormatLocale",function(){return yb}),r.d(b,"isoFormat",function(){return Rx}),r.d(b,"isoParse",function(){return Lx}),r.d(b,"now",function(){return Ka}),r.d(b,"timer",function(){return Xa}),r.d(b,"timerFlush",function(){return Va}),r.d(b,"timeout",function(){return ts}),r.d(b,"interval",function(){return es}),r.d(b,"transition",function(){return Us}),r.d(b,"active",function(){return Pu}),r.d(b,"interrupt",function(){return ps}),r.d(b,"voronoi",function(){return NT}),r.d(b,"zoom",function(){return GT}),r.d(b,"zoomTransform",function(){return UT}),r.d(b,"zoomIdentity",function(){return BT});var x={};r.r(x),r.d(x,"flextree",function(){return sA});var w={};r.r(w),r.d(w,"log",function(){return tO}),r.d(w,"DefaultTransition",function(){return eO}),r.d(w,"layer_registry",function(){return nO}),r.d(w,"node_type_class_registry",function(){return rO}),r.d(w,"NodeMatcher",function(){return iO}),r.d(w,"get_bounding_rect",function(){return oO}),r.d(w,"get_bounding_rect_of_rotated_vertices",function(){return aO});var E={};r.r(E),r.d(E,"LayeredLayerBase",function(){return _O}),r.d(E,"LayeredOverlayBase",function(){return hO});var k={};r.r(k),r.d(k,"AbstractLayoutStyle",function(){return zO}),r.d(k,"force_simulation",function(){return WO}),r.d(k,"LayoutStyleForce",function(){return $O}),r.d(k,"tick_count",function(){return HO}),r.d(k,"tick_duration",function(){return FO}),r.d(k,"LayoutStyleHierarchyBase",function(){return KO}),r.d(k,"LayoutStyleHierarchy",function(){return YO}),r.d(k,"LayoutStyleRadial",function(){return GO}),r.d(k,"LayoutStyleFixed",function(){return XO}),r.d(k,"LayoutStyleBlock",function(){return VO}),r.d(k,"LayoutStyleExampleGenerator",function(){return JO});var M={};r.r(M),r.d(M,"BIVisualization",function(){return KC}),r.d(M,"TopologyVisualization",function(){return YC});r(233);var T,A,O,C,S,D,P,I,N,R=r(20),L=r.n(R),j=r(67),B=r(2),U=(r(141),90),q=50,z=40,W=50;function $(t,e,n,r,i){N=t;var o=document.getElementById(N);S=e,D=n,P=r,I=i,T=o.width,A=o.height,O=T-U-q,C=A-z-W}var H="#888888",F="#bbbbbb",K="#bbbbbb";function Y(t,e){var n,r,i,o,a,s,u=document.getElementById(N).getContext("2d");for(u.font="20px sans-serif",u.strokeStyle=K,u.lineWidth=.5,n=S;n<=D;n+=1800)u.strokeStyle=n%7200==0?H:n%3600==0?F:K,X(u,n,P,n,I);for(u.strokeStyle=F,u.lineWidth=1,n=S;n<=D;n+=7200)X(u,n,P,n,I);for(u.fillStyle="#000000",r=0;r<t.length;r++)i=t[r][0],o=t[r][1],a=G(0,i),s=u.measureText(o).width,u.fillText(o,U-s-16,a[1]+6),u.strokeStyle=r%2?F:H,X(u,S,i,D,i);for(r=0;r<e.length;r++)n=e[r][0],o=e[r][1],a=G(n,0),s=u.measureText(o).width,u.fillText(o,a[0]-s/2,A-W+28),u.strokeStyle=r%2?F:H;u.strokeStyle="#000000",X(u,S,0,D,0),X(u,S,P,S,I),X(u,S,P,D,P),function(t,e,n,r,i,o){t.strokeStyle=o,t.moveTo(e,n),t.lineTo(e,n-r),t.stroke(),t.fillColor=o,t.moveTo(e-i/2,n-r),t.lineTo(e+i/2,n-r),t.lineTo(e,n-i-r),t.fill()}(u,U,z,1,8,"#000000"),function(t,e,n,r,i,o){t.strokeStyle=o,t.moveTo(e,n),t.lineTo(e+r,n),t.stroke(),t.fillColor=o,t.moveTo(e+r,n-i/2),t.lineTo(e+r,n+i/2),t.lineTo(e+r+i,n),t.fill()}(u,T-q,A-W,8,8,"#000000")}function G(t,e){return[U+(t-S)/(D-S)*O,A-W-(e-P)/(I-P)*C]}function X(t,e,n,r,i){var o=G(e,n),a=G(r,i);t.beginPath(),t.moveTo(o[0],o[1]),t.lineTo(a[0],a[1]),t.stroke()}function V(t,e,n){var r=document.getElementById(N).getContext("2d"),i=G(t,e);r.beginPath(),r.lineWidth=4,r.strokeStyle=n,r.moveTo(i[0]-6,i[1]-6),r.lineTo(i[0]+6,i[1]+6),r.moveTo(i[0]+6,i[1]-6),r.lineTo(i[0]-6,i[1]+6),r.stroke()}function J(t,e,n,r){var i,o=document.getElementById(N).getContext("2d");o.beginPath(),o.strokeStyle=e,o.lineWidth=n;for(var a=(D-S)/t.length,s=!0,u=0;u<t.length;u++)if(null!=t[u]){var c=G(S+a*u,t[u]);s?(o.moveTo(c[0],c[1]),s=!1):(r&&o.lineTo(c[0],i[1]),o.lineTo(c[0],c[1])),i=c}else o.stroke(),s=!0;o.stroke()}function Z(t,e,n){tt(null,t,e,n)}function Q(t,e,n){tt(t,null,e,n)}function tt(t,e,n,r){var i,o=document.getElementById(N).getContext("2d");o.fillStyle=n,o.globalAlpha=r,i=t?t.length:e.length;for(var a,s,u,c=1*(D-S)/i,l=1*O/i,f=0;f<i;f++)a=G(S+c*f,0)[0],s=t?G(0,t[f])[1]:A-W,u=(e?G(0,e[f])[1]:z)-s,o.fillRect(a,s,l,u);o.globalAlpha=1}var et=r(0),nt=r(102),rt=r(128);function it(t){B.call_ajax(t.update_url,{response_handler:ot,error_handler:at,handler_data:t,method:"POST",post_data:t.post_data,add_ajax_id:!1})}function ot(t,e){var n=JSON.parse(e);1!=n.result_code?(t.update_function(t,n.result),t.is_finished_function(n.result)?t.finish_function(n.result):setTimeout(function(){return it(t)},500)):t.error_function(n.result)}function at(t,e,n){if(et.time()-t.start_time<=10&&503==e)ut("Failed to fetch state. This may be normal for a period of some seconds.");else{if(0==e)return;st("Failed to fetch state ["+e+"]: "+n+". Retrying in 1 second.<br><br>In case this error persists for more than some seconds, please verify that all processes of the site are running.")}setTimeout(function(){return it(t)},1e3)}function st(t){var e=document.getElementById("async_progress_msg");e.style.display="block";var n=e.childNodes[0];et.add_class(n,"error"),et.remove_class(n,"success"),n.innerHTML=t}function ut(t){var e=document.getElementById("async_progress_msg");e.style.display="block";var n=e.childNodes[0];et.add_class(n,"success"),et.remove_class(n,"error"),n.innerHTML=t}function ct(){var t=document.getElementById("async_progress_msg");t&&(t.style.display="none")}r(10),r(22),r(6),r(28),r(125),r(37);function lt(t,e){var n=[];if("selected"==t){for(var r=document.getElementsByClassName("site_checkbox"),i=0;i<r.length;i++)r[i].checked&&n.push(r[i].name.substr(5));if(0==n.length)return void st("You have to select a site.")}else"site"==t&&n.push(e);var o=document.getElementById("activate_until");if(o){var a="",s=document.getElementsByName("activate_p_comment")[0];""!=s.value&&(a=s.value);var u=0,c=document.getElementsByName("activate_p_foreign")[0];c&&c.checked&&(u=1),function(t,e,n,r){ut("Initializing activation...");var i="activate_until="+encodeURIComponent(e)+"&sites="+encodeURIComponent(t.join(","))+"&comment="+encodeURIComponent(n)+"&activate_foreign="+encodeURIComponent(r);B.call_ajax("ajax_start_activation.py",{response_handler:ft,error_handler:dt,method:"POST",post_data:i,add_ajax_id:!1}),_t(!0),function(){var t=[];t=(t=t.concat(Array.prototype.slice.call(document.getElementsByClassName("last_result"),0))).concat(Array.prototype.slice.call(document.getElementsByClassName("header_last_result"),0));for(var e=0;e<t.length;e++)t[e].style.display="none"}(),ht(!1)}(n,o.value,a,u)}}function ft(t,e){var n=JSON.parse(e);1==n.result_code?(st(n.result),_t(!1)):(ut("Activating..."),it({update_url:"ajax_activation_state.py?activation_id="+encodeURIComponent(n.result.activation_id),start_time:et.time(),update_function:gt,is_finished_function:pt,finish_function:yt,error_function:function(t){st(t)},post_data:""}))}function dt(t,e,n){st("Failed to start activation ["+e+"]: "+n),yt()}function _t(t){var e=[];e.push(document.getElementById("activate_affected")),e.push(document.getElementById("activate_selected")),e.push(document.getElementById("discard_changes_button")),e=(e=(e=e.concat(Array.prototype.slice.call(document.getElementsByName("activate_p_comment"),0))).concat(Array.prototype.slice.call(document.getElementsByClassName("site_checkbox"),0))).concat(Array.prototype.slice.call(document.getElementsByClassName("activate_site"),0));for(var n=0;n<e.length;n++)e[n]&&(t?et.add_class(e[n],"disabled"):et.remove_class(e[n],"disabled"),e[n].disabled=!!t&&"disabled")}function ht(t){var e=[];e=(e=e.concat(Array.prototype.slice.call(document.getElementsByClassName("details"),0))).concat(Array.prototype.slice.call(document.getElementsByClassName("header_details"),0));for(var n=0;n<e.length;n++)e[n].style.display=t?"table-cell":"none"}function pt(t){for(var e in t.sites){if(t.sites.hasOwnProperty(e))if("done"!=t.sites[e]._phase)return!1}return!0}function gt(t,e){for(var n in e.sites)if(e.sites.hasOwnProperty(n)){var r=e.sites[n],i=!0;for(var o in r)if(r.hasOwnProperty(o)){i=!1;break}if(i)throw"Empty site state for "+n;vt(r)}}function vt(t){var e=document.getElementById("site_"+t._site_id+"_status");e.innerHTML=t._status_text,"done"==t._phase&&et.add_class(e,"state_"+t._state),t._status_details&&(ht(!0),(e=document.getElementById("site_"+t._site_id+"_details")).innerHTML=t._status_details),function(t){var e=document.getElementById("site_"+t._site_id+"_progress");if(function(t){var e=[];e=(e=e.concat(Array.prototype.slice.call(document.getElementsByClassName("repprogress"),0))).concat(Array.prototype.slice.call(document.getElementsByClassName("header_repprogress"),0));for(var n=0;n<e.length;n++)e[n].style.display=t?"table-cell":"none"}(!0),"done"==t._phase)return e.style.width="160px",void et.add_class(e,"state_"+t._state);var n=parseFloat(et.time()-t._time_started),r=t._expected_duration,i=100*n/r,o=parseInt(parseFloat(160)*i/100);o>160&&(o=160);e.style.width=o+"px"}(t)}function yt(){ut("Activation has finished. Reloading in 1 second."),_t(!1),et.schedule_reload("",1e3),et.reload_sidebar()}var mt=r(82),bt=(r(21),null);function xt(t,e,n,r){t||(t=window.event);var i=et.get_button(t);if(null!==bt||"LEFT"!=i)return!0;for(var o=e;o&&o.tagName!=n;)o=o.parentNode;if(o.tagName!=n)throw"Failed to find the parent node of "+e+" having the tag "+n;return et.add_class(o,"dragging"),bt={dragging:o,moved:!1,drop_handler:r},et.prevent_default_events(t)}function wt(t){if(t||(t=window.event),null===bt)return!0;!function(t){var e=bt.dragging,n=bt.dragging.parentNode,r=function(t){var e=t.previousElementSibling;return e&&e.children&&"TH"==e.children[0].tagName?null:e},i=function(t){return t.nextElementSibling},o=r(e);for(;o&&Et(o,t).y<0;)bt.moved=!0,n.insertBefore(e,o),o=r(e);var a=i(e);for(;a&&Et(a,t).y>0;)bt.moved=!0,n.insertBefore(e,a.nextElementSibling),a=i(e)}(t)}function Et(t,e){var n=t.getBoundingClientRect(),r=et.mouse_position(e);return{x:r.x-(n.left+n.width/2),y:r.y-(n.top+n.height/2)}}function kt(t){return t||(t=window.event),null===bt||(function(){var t=bt.dragging;if(et.remove_class(t,"dragging"),!bt.moved)return;var e=t.parentNode.children,n=Array.prototype.slice.call(e).indexOf(t);"TH"==e[0].children[0].tagName&&(n-=1);bt.drop_handler(n)}(),bt=null,et.prevent_default_events(t))}function Mt(t,e){var n=t+"&_index="+encodeURIComponent(e);location.href=n}function Tt(){et.add_event_handler("mousemove",function(t){return wt(t)}),et.add_event_handler("mouseup",function(t){return kt(t)})}function At(){document.getElementById("helpbutton").style.display="inline-block"}function Ot(){var t=document.getElementById("helpbutton");et.has_class(t,"active")?(et.remove_class(t,"active"),et.add_class(t,"passive"),Ct(!1)):(et.add_class(t,"active"),et.remove_class(t,"passive"),Ct(!0))}function Ct(t){var e,n=document.getElementsByClassName("help");for(e=0;e<n.length;e++)n[e].style.display=t?"block":"none";var r=document.getElementsByClassName("ruleset");for(e=0;e<r.length;e++)t?et.has_class(r[e],"float")&&(et.remove_class(r[e],"float"),et.add_class(r[e],"nofloat")):et.has_class(r[e],"nofloat")&&(et.remove_class(r[e],"nofloat"),et.add_class(r[e],"float"));B.get_url("ajax_switch_help.py?enabled="+(t?"yes":""))}function St(t,e,n){var r=document.getElementById("timetable_"+t+"_entry_"+e);r&&(n?et.add_class(r,"hilite"):et.remove_class(r,"hilite"))}function Dt(t,e,n){var r=document.getElementById("timeline_"+t+"_entry_"+e);r&&(n?et.add_class(r,"hilite"):et.remove_class(r,"hilite"))}function Pt(t,e,n){if(!et.has_class(t,"lock_hilite"))for(var r=document.getElementsByClassName(e),i=0;i<r.length;i++)n?et.add_class(r[i],"sla_hilite"):et.remove_class(r[i],"sla_hilite")}function It(t,e){for(var n=document.getElementsByClassName(e),r=et.has_class(t,"lock_hilite"),i=0;i<n.length;i++)r?(et.remove_class(n[i],"sla_hilite"),et.remove_class(n[i],"lock_hilite")):(et.add_class(n[i],"sla_hilite"),et.add_class(n[i],"lock_hilite"))}function Nt(t,e,n){for(var r=t.closest("table").closest("tbody").getElementsByClassName(e),i=0;i<r.length;i++)n?(et.add_class(r[i],"sla_hilite"),et.add_class(r[i],"sla_error_hilite")):(et.remove_class(r[i],"sla_error_hilite"),et.has_class(r[i],"lock_hilite")||et.remove_class(r[i],"sla_hilite"))}r(42),r(36);function Rt(t,e){"SPAN"==t.tagName&&(t=t.previousElementSibling);var n,r=t.parentNode.getElementsByTagName("ul")[0],i="bi_save_treestate.py?path="+encodeURIComponent(r.id);et.has_class(t,"closed")?(et.change_class(r,"closed","open"),et.toggle_folding(t,!0),i+="&state=open",n=!0):(et.change_class(r,"open","closed"),et.toggle_folding(t,!1),i+="&state=closed",n=!1),e&&n?B.get_url(i,Lt,t):B.get_url(i)}function Lt(t){t.onclick=null;for(var e=t;e&&!et.has_class(e,"bi_tree_container");)e=e.parentNode;B.post_url("bi_render_tree.py",e.id,jt,e)}function jt(t,e){t.innerHTML=e,et.execute_javascript_by_object(t)}function Bt(t,e){var n,r="bi_save_treestate.py?path="+encodeURIComponent(t.id);if(et.has_class(t,"open")){if(e)return;et.change_class(t,"open","closed"),r+="&state=closed",n=!1}else et.change_class(t,"closed","open"),r+="&state=open",n=!0;if(e&&n)B.get_url(r,Lt,t);else{B.get_url(r);var i=0;for(var o in t.parentNode.children){var a=t.parentNode.children[o];if(a==t)i=1;else if(i)return void(a.style.display=n?"inline-block":"none")}}}function Ut(t,e,n,r){var i=t.getElementsByTagName("img")[0],o=i.src.split("/"),a=o.pop().replace(/icon_assume_/,"").replace(/.png/,"");a="none"==a?"1":"3"==a||""==r&&"2"==a?"0":"0"==a?"none":parseInt(a)+1;var s="bi_set_assumption.py?site="+encodeURIComponent(e)+"&host="+encodeURIComponent(n);r&&(s+="&service="+encodeURIComponent(r)),s+="&state="+a,i.src=o.join("/")+"/icon_assume_"+a+".png",B.get_url(s)}function qt(t,e){document.getElementById("pending_msg").style.display="block","withCredentials"in new XMLHttpRequest?B.call_ajax(t,{method:"POST",post_data:e,response_handler:zt,error_handler:Wt,handler_data:{base_url:t}}):"undefined"!=typeof XDomainRequest?function(t,e){var n={base_url:t},r=new window.XDomainRequest;r.onload=function(){zt(n,r.responseText)},r.onerror=function(){Wt(n,null,r.responseText)},r.onprogress=function(){},r.open("post",t),r.send(e)}(t,e):Wt(null,null,"Your browser does not support direct crash reporting.")}function zt(t,e){if($t(),"OK"==e.substr(0,2)){var n=e.split(" ")[1],r=document.getElementById("success_msg");r.style.display="block",r.innerHTML=r.innerHTML.replace(/###ID###/,n)}else{var i=document.getElementById("fail_msg");i.style.display="block",i.children[0].innerHTML+=" ("+e+")."}}function Wt(t,e,n){$t();var r=document.getElementById("fail_msg");r.style.display="block",r.children[0].innerHTML+=e?" (HTTP: "+e+").":n?" ("+n+").":" (Maybe <tt>"+t.base_url+"</tt> not reachable)."}function $t(){var t=document.getElementById("pending_msg");t.parentNode.removeChild(t)}function Ht(t){var e=document.createElement("a");e.download="Check_MK_GUI_Crash-"+(new Date).toISOString()+".tar.gz",e.href=t,document.body.appendChild(e),e.click(),document.body.removeChild(e)}function Ft(t,e,n){setTimeout(function(){!function(t,e,n){B.call_ajax(t,{method:"GET",post_data:"job="+encodeURIComponent(e),response_handler:Kt,error_handler:Yt,handler_data:{url:t,ident:e,is_site:n}})}(t,e,n)},1e3)}function Kt(t,e){var n=!!document.getElementById("job_detail_msg");document.getElementById("job_details").innerHTML=e,n?(et.reload_sidebar(),window.location.reload()):Ft(t.url,t.ident,t.is_site)}function Yt(t,e,n){if(function(){var t=document.getElementById("job_detail_msg");t&&t.parentNode.removeChild(t)}(),0!=e){var r=document.getElementById("job_details"),i=document.createElement("div");r.insertBefore(i,r.children[0]),i.setAttribute("id","job_detail_msg"),i.className="message";var o="Could not update the job details.";t.is_site?o+=" The site will be started again after the restore.":o+=" Maybe the device is currently being rebooted.",o+="<br>Will continue trying to refresh the job details.",o+="<br><br>HTTP status code: "+e,n&&(o+=", Error: "+n),i.innerHTML=o,Ft(t.url,t.ident,t.is_site)}}var Gt=r(103),Xt=(r(135),null),Vt=null;function Jt(t,e,n,r,i){Vt=setTimeout(function(){ut("Updating...")},2e3),re(!0),it({update_url:"ajax_service_discovery.py",host_name:t,folder_path:e,transid:r,start_time:et.time(),is_finished_function:Qt,update_function:ne,finish_function:te,error_function:ee,post_data:Zt(t,e,n,r,i)})}function Zt(t,e,n,r,i){var o={host_name:t,folder_path:e,discovery_options:n,discovery_result:Xt};if(null!=i&&(o=Object.assign(o,i)),"bulk_update"==n.action){for(var a=[],s=document.getElementsByClassName("service_checkbox"),u=0;u<s.length;u++)s[u].checked&&a.push(s[u].name);o.update_services=a}var c="request="+encodeURIComponent(JSON.stringify(o));return void 0!==r&&(c+="&_transid="+encodeURIComponent(r)),c}function Qt(t){return t.is_finished}function te(t){"exception"!=t.job_state&&"stopped"!=t.job_state||st(t.message),re(!1)}function ee(t){Vt&&clearTimeout(Vt),st(t)}function ne(t,e){Vt&&clearTimeout(Vt),e.message?ut(e.message):ct(),Xt=e.discovery_result,t.post_data=Zt(t.host_name,t.folder_path,e.discovery_options,t.transid);var n=document.getElementById("service_container");n.style.display="block",n.innerHTML=e.body,et.execute_javascript_by_object(n),function(t){var e=document.createElement("div");e.innerHTML=t.changes_button;var n=document.getElementsByClassName("contextlinks")[0],r=n.childNodes[0];n.replaceChild(e.childNodes[0].childNodes[0],r)}(e)}function re(t){var e=[];e=(e=(e=e.concat(Array.prototype.slice.call(document.getElementsByClassName("service_checkbox"),0))).concat(Array.prototype.slice.call(document.getElementsByClassName("button"),0))).concat(Array.prototype.slice.call(document.getElementsByClassName("service_button"),0));for(var n=0;n<e.length;n++)e[n]&&(t?et.add_class(e[n],"disabled"):et.remove_class(e[n],"disabled"),e[n].disabled=t)}function ie(t,e,n,r,i,o){var a=document.getElementById(o),s="wato_ajax_execute_check.py?site="+encodeURIComponent(t)+"&folder="+encodeURIComponent(e)+"&host="+encodeURIComponent(n)+"&checktype="+encodeURIComponent(r)+"&item="+encodeURIComponent(i);B.get_url(s,oe,a)}function oe(t,e){var n,r,i,o=JSON.parse(e);1==o.result_code?(n=3,r="UNKN",i=o.result):(-1==(n=o.result.state)&&(n="p"),r=o.result.state_name,i=o.result.output),t.innerHTML=i;var a=t.parentNode.parentNode;et.has_class(a,"even0")?et.add_class(a,"even"+n):et.add_class(a,"odd"+n);var s=a.getElementsByClassName("state")[0];et.remove_class(s,"statep"),et.add_class(s,"state"+n),s.innerHTML=r}r(32),r(34),r(35),r(18),r(169),r(12),r(30),r(29),r(25);function ae(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function se(){B.call_ajax("wato_ajax_fetch_site_status.py",{response_handler:function(t,e){var n=JSON.parse(e),r=0===n.result_code,i=n.result;if(r)for(var o=0,a=Object.entries(i);o<a.length;o++){var s=ae(a[o],2),u=s[0],c=s[1];document.getElementById("livestatus_status_"+u).innerHTML=c.livestatus,document.getElementById("replication_status_"+u).innerHTML=c.replication}else ue("Site status update failed: "+i)},error_handler:function(t,e,n){0!=e&&ue("Site status update failed ["+e+"]: "+n)},method:"POST",add_ajax_id:!1})}function ue(t){document.getElementById("message_container").innerHTML="<div class=error>"+t+"</div>",L()(".reloading").remove()}function ce(t,e,n){var r=document.getElementById(t+"_log"),i=document.getElementById(t+"_img");document.getElementById(t+"_retry").style.display="none";var o,a="";a="&_transid="+encodeURIComponent(n),a+="&ipaddress="+encodeURIComponent(document.getElementsByName("vs_host_p_ipaddress")[0].value),document.getElementsByName("vs_host_p_snmp_community_USE")[0].checked&&(a+="&snmp_community="+encodeURIComponent(document.getElementsByName("vs_host_p_snmp_community")[0].value)),document.getElementsByName("vs_host_p_snmp_v3_credentials_USE")[0].checked&&(a+="&snmpv3_use="+(o=encodeURIComponent(document.getElementsByName("vs_host_p_snmp_v3_credentials_use")[0].value)),"0"==o?a+="&snmpv3_security_name="+encodeURIComponent(document.getElementsByName("vs_host_p_snmp_v3_credentials_0_1")[0].value):"1"==o?(a+="&snmpv3_auth_proto="+encodeURIComponent(document.getElementsByName("vs_host_p_snmp_v3_credentials_1_1")[0].value),a+="&snmpv3_security_name="+encodeURIComponent(document.getElementsByName("vs_host_p_snmp_v3_credentials_1_2")[0].value),a+="&snmpv3_security_password="+encodeURIComponent(document.getElementsByName("vs_host_p_snmp_v3_credentials_1_3")[0].value)):"2"==o&&(a+="&snmpv3_auth_proto="+encodeURIComponent(document.getElementsByName("vs_host_p_snmp_v3_credentials_2_1")[0].value),a+="&snmpv3_security_name="+encodeURIComponent(document.getElementsByName("vs_host_p_snmp_v3_credentials_2_2")[0].value),a+="&snmpv3_security_password="+encodeURIComponent(document.getElementsByName("vs_host_p_snmp_v3_credentials_2_3")[0].value),a+="&snmpv3_privacy_proto="+encodeURIComponent(document.getElementsByName("vs_host_p_snmp_v3_credentials_2_4")[0].value),a+="&snmpv3_privacy_password="+encodeURIComponent(document.getElementsByName("vs_host_p_snmp_v3_credentials_2_5")[0].value))),a+="&agent_port="+encodeURIComponent(document.getElementsByName("vs_rules_p_agent_port")[0].value),a+="&tcp_connect_timeout="+encodeURIComponent(document.getElementsByName("vs_rules_p_tcp_connect_timeout")[0].value),a+="&snmp_timeout="+encodeURIComponent(document.getElementsByName("vs_rules_p_snmp_timeout")[0].value),a+="&snmp_retries="+encodeURIComponent(document.getElementsByName("vs_rules_p_snmp_retries")[0].value),document.getElementsByName("vs_rules_p_datasource_program").length>0&&(a+="&datasource_program="+encodeURIComponent(document.getElementsByName("vs_rules_p_datasource_program")[0].value)),i.src=i.src.replace(/(.*\/icon_).*(\.png$)/i,"$1reload$2"),et.add_class(i,"reloading"),r.innerHTML="...",B.get_url("wato_ajax_diag_host.py?host="+encodeURIComponent(e)+"&_test="+encodeURIComponent(t)+a,le,{hostname:e,ident:t})}function le(t,e){var n=JSON.parse(e),r=document.getElementById(t.ident+"_img"),i=document.getElementById(t.ident+"_log"),o=document.getElementById(t.ident+"_retry");et.remove_class(r,"reloading");var a="",s="";1==n.result_code?(s="failed",i.className="log diag_failed",a="API Error:"+n.result):(1==n.result.status_code?(s="failed",i.className="log diag_failed"):(s="success",i.className="log diag_success"),a=n.result.output),r.src=r.src.replace(/(.*\/icon_).*(\.png$)/i,"$1"+s+"$2"),i.innerText=a,o.src=o.src.replace(/(.*\/icon_).*(\.png$)/i,"$1reload$2"),o.style.display="inline",o.parentNode.href="javascript:cmk.host_diagnose.start_test('"+t.ident+"', '"+t.hostname+"', '"+n.result.next_transid+"');"}var fe=0,de={};function _e(t){fe=t}function he(t,e,n){B.call_ajax("wato_ajax_profile_repl.py",{response_handler:function(t,e){var n=JSON.parse(e),r=0===n.result_code,i=n.result;ge(t.site_id,r,i)},error_handler:function(t,e,n){ge(t.site_id,!1,"Failed to perform profile replication ["+e+"]: "+n)},method:"POST",post_data:"request="+encodeURIComponent(JSON.stringify({site:t})),handler_data:{site_id:t},add_ajax_id:!1}),de[t]=20,setTimeout(function(){!function t(e,n,r){if(de[e]>0){de[e]--;var i=100*(20-de[e])/20;pe(e,i>=75?"repl_75":i>=50?"repl_50":i>=25?"repl_25":"repl_pending",r),setTimeout(function(){t(e,n,r)},n/20)}}(t,e,n)},e/20)}function pe(t,e,n){var r=document.getElementById("site-"+t).getElementsByClassName("repl_status")[0];r.title=n,r.className="icon repl_status "+e}function ge(t,e,n){de[t]=0,pe(t,e?"repl_success":"repl_failed",n),0==--fe&&setTimeout(ve,1e3)}function ve(){this.parent&&parent&&parent.frames[1]==this&&et.reload_sidebar()}var ye=null;function me(t){ye=t}function be(){var t=function(){for(var t=[],e=["wato_host_tags","data_sources","address"],n=0;n<e.length;n++){var r=document.getElementById(e[n]);if(r)for(var i=0;i<r.rows.length;i++){var o=r.rows[i],a=null;if("TR"==o.tagName){var s=o.cells[0];if("legend"!=s.className)continue;var u=o.cells[1],c=s.getElementsByTagName("input"),l=c[0],f=!1;if(0===l.name.indexOf("ignored_")){var d=c[c.length-1];f="on"==d.value}else f=l.checked;if(0==f){var _="attr_"+l.name.replace(/.*_change_/,"");_ in ye.inherited_tags&&null!==ye.inherited_tags[_]&&(a=ye.inherited_tags[_])}else{var h=u.getElementsByTagName("input");if(0==h.length&&(h=u.getElementsByTagName("select")),0==h.length)continue;var p=h[0];"checkbox"==p.type&&p.checked?a=p.name.substr(4):"SELECT"==p.tagName&&(a=p.value)}}t.push(a),ye.aux_tags_by_tag[a]&&(t=t.concat(ye.aux_tags_by_tag[a]))}}return t}();if(t){for(var e,n=ye.volatile_topics.slice(0),r=0;r<ye.check_attributes.length;r++){var i=ye.check_attributes[r],o="";if(ye.hide_attributes.indexOf(i)>-1&&(o="none"),""==o&&i in ye.depends_on_roles)for(e=0;e<ye.depends_on_roles[i].length;e++){var a=ye.depends_on_roles[i][e],s="!"==a[0],u=s?a.substr(1):a;if(-1!=ye.user_roles.indexOf(u)==s){o="none";break}}if(""==o&&i in ye.depends_on_tags)for(e=0;e<ye.depends_on_tags[i].length;e++){var c=ye.depends_on_tags[i][e],l="!"==c[0],f=l?c.substr(1):c;if(-1!=t.indexOf(f)==l){o="none";break}}var d=document.getElementById("attr_"+i);if(d){d.style.display=o;var _=document.getElementById("attr_display_"+i);if(_||((_=document.createElement("input")).name="attr_display_"+i,_.id="attr_display_"+i,_.type="hidden",_.className="text",d.appendChild(_)),"none"==o){var h=d.cells[0].getElementsByTagName("input")[0];h.checked=!1,xe(h,i),_.value="0"}else _.value="1";var p=d.parentNode.childNodes[0].textContent;""==o&&-1!=(e=n.indexOf(p))&&delete n[e]}}for(var g=["form_edit_host","form_editfolder"],v=0;v<g.length;v++){var y=document.getElementById(g[v]);if(null!=y){for(var m in y.childNodes)"nform"==(d=y.childNodes[m]).className&&(n.indexOf(d.childNodes[0].childNodes[0].textContent)>-1?d.style.display="none":d.style.display="");break}}}}function xe(t,e){var n=document.getElementById("attr_entry_"+e),r=document.getElementById("attr_default_"+e);n&&(t.checked?(n.style.display="",r.style.display="none"):(n.style.display="none",r.style.display=""))}function we(t,e){for(var n="",r=0;r<e;r++){var i=parseInt(26*Math.random()+64);n+=String.fromCharCode(i)}document.getElementById(t).value=n}function Ee(t){var e=document.getElementById(t);et.has_class(e,"hidden")?et.remove_class(e,"hidden"):et.add_class(e,"hidden")}function ke(t,e){if(t||(t=window.event),"DIV"!=et.get_target(t).tagName)return!1;location.href=e}function Me(t,e,n){if(t||(t=window.event),!n)for(var r=t.toElement||t.relatedTarget;r;){if(r==e)return!1;r=r.parentNode}var i=e.parentNode,o=i.id.substr(7),a=["edit","popup_trigger_move","delete"];for(var s in a){var u=document.getElementById(a[s]+"_"+o);u&&(u.style.display=n?"inline":"none")}if(n)et.add_class(i,"open");else{et.remove_class(i,"open");var c=document.getElementById("move_dialog_"+o);c&&(c.style.display="none")}}function Te(t){var e=document.getElementById(t).value;L()(".condition").hide(),L()(".condition."+e).show()}var Ae=r(81),Oe=r(129),Ce=r(228),Se=null;function De(t){et.stop_reload_timer(),function(t){var e,n=document.getElementById("reload_pause");if(n)return void((e=document.getElementById("reload_pause_counter")).innerHTML=t);(n=document.createElement("a")).setAttribute("id","reload_pause"),n.href="javascript:window.location.reload(false)",n.title="Page update paused. Click for reload.";var r=document.createElement("div");r.className="pause_bar p1",n.appendChild(r);var i=document.createElement("div");i.className="pause_bar p2",n.appendChild(i),n.appendChild(document.createElement("br")),(e=document.createElement("a")).setAttribute("id","reload_pause_counter"),e.title="Click to stop the countdown.",e.href="javascript:cmk.reload_pause.stop()",n.appendChild(e),document.body.appendChild(n)}(t),function(t){Se&&clearTimeout(Se);Se=setTimeout(function(){!function t(e){e-=1;if(e<=0)window.location.reload(!1);else{var n=document.getElementById("reload_pause_counter");n&&(n.innerHTML=e),Se=setTimeout(function(){t(e)},1e3)}}(t)},1e3)}(t)}function Pe(){if(Se){clearTimeout(Se),Se=null;var t=document.getElementById("reload_pause_counter");t&&(t.style.display="none")}}var Ie=r(229),Ne=r(230),Re="5.11.0",Le=function(t,e){return t<e?-1:t>e?1:t>=e?0:NaN},je=function(t){var e;return 1===t.length&&(e=t,t=function(t,n){return Le(e(t),n)}),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}};var Be=je(Le),Ue=Be.right,qe=Be.left,ze=Ue,We=function(t,e){null==e&&(e=$e);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o};function $e(t,e){return[t,e]}var He=function(t,e,n){var r,i,o,a,s=t.length,u=e.length,c=new Array(s*u);for(null==n&&(n=$e),r=o=0;r<s;++r)for(a=t[r],i=0;i<u;++i,++o)c[o]=n(a,e[i]);return c},Fe=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},Ke=function(t){return null===t?NaN:+t},Ye=function(t,e){var n,r,i=t.length,o=0,a=-1,s=0,u=0;if(null==e)for(;++a<i;)isNaN(n=Ke(t[a]))||(u+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=Ke(e(t[a],a,t)))||(u+=(r=n-s)*(n-(s+=r/++o)));if(o>1)return u/(o-1)},Ge=function(t,e){var n=Ye(t,e);return n?Math.sqrt(n):n},Xe=function(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n>=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(r>n&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n>=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(r>n&&(r=n),i<n&&(i=n));return[r,i]},Ve=(r(5),Array.prototype),Je=Ve.slice,Ze=Ve.map,Qe=function(t){return function(){return t}},tn=function(t){return t},en=function(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o},nn=(r(61),Math.sqrt(50)),rn=Math.sqrt(10),on=Math.sqrt(2),an=function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=sn(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o};function sn(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=nn?10:o>=rn?5:o>=on?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=nn?10:o>=rn?5:o>=on?2:1)}function un(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=nn?i*=10:o>=rn?i*=5:o>=on&&(i*=2),e<t?-i:i}var cn=function(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1},ln=function(){var t=tn,e=Xe,n=cn;function r(r){var i,o,a=r.length,s=new Array(a);for(i=0;i<a;++i)s[i]=t(r[i],i,r);var u=e(s),c=u[0],l=u[1],f=n(s,c,l);Array.isArray(f)||(f=un(c,l,f),f=en(Math.ceil(c/f)*f,l,f));for(var d=f.length;f[0]<=c;)f.shift(),--d;for(;f[d-1]>l;)f.pop(),--d;var _,h=new Array(d+1);for(i=0;i<=d;++i)(_=h[i]=[]).x0=i>0?f[i-1]:c,_.x1=i<d?f[i]:l;for(i=0;i<a;++i)c<=(o=s[i])&&o<=l&&h[ze(f,o,0,d)].push(r[i]);return h}return r.value=function(e){return arguments.length?(t="function"==typeof e?e:Qe(e),r):t},r.domain=function(t){return arguments.length?(e="function"==typeof t?t:Qe([t[0],t[1]]),r):e},r.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Qe(Je.call(t)):Qe(t),r):n},r},fn=(r(24),function(t,e,n){if(null==n&&(n=Ke),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}),dn=function(t,e,n){return t=Ze.call(t,Ke).sort(Le),Math.ceil((n-e)/(2*(fn(t,.75)-fn(t,.25))*Math.pow(t.length,-1/3)))},_n=function(t,e,n){return Math.ceil((n-e)/(3.5*Ge(t)*Math.pow(t.length,-1/3)))},hn=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&n>r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n>r&&(r=n);return r},pn=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=Ke(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=Ke(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},gn=function(t,e){var n,r=t.length,i=-1,o=[];if(null==e)for(;++i<r;)isNaN(n=Ke(t[i]))||o.push(n);else for(;++i<r;)isNaN(n=Ke(e(t[i],i,t)))||o.push(n);return fn(o.sort(Le),.5)},vn=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n},yn=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n>=n)for(r=n;++o<i;)null!=(n=t[o])&&r>n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n>=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r>n&&(r=n);return r},mn=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},bn=function(t,e){if(n=t.length){var n,r,i=0,o=0,a=t[o];for(null==e&&(e=Le);++i<n;)(e(r=t[i],a)<0||0!==e(a,a))&&(a=r,o=i);return 0===e(a,a)?o:void 0}},xn=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},wn=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},En=function(t){if(!(i=t.length))return[];for(var e=-1,n=yn(t,kn),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r};function kn(t){return t.length}var Mn=function(){return En(arguments)},Tn=(r(60),Array.prototype.slice),An=function(t){return t},On=1,Cn=2,Sn=3,Dn=4,Pn=1e-6;function In(t){return"translate("+(t+.5)+",0)"}function Nn(t){return"translate(0,"+(t+.5)+")"}function Rn(t){return function(e){return+t(e)}}function Ln(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function jn(){return!this.__axis}function Bn(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,u=t===On||t===Dn?-1:1,c=t===Dn||t===Cn?"x":"y",l=t===On||t===Sn?In:Nn;function f(f){var d=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,_=null==i?e.tickFormat?e.tickFormat.apply(e,n):An:i,h=Math.max(o,0)+s,p=e.range(),g=+p[0]+.5,v=+p[p.length-1]+.5,y=(e.bandwidth?Ln:Rn)(e.copy()),m=f.selection?f.selection():f,b=m.selectAll(".domain").data([null]),x=m.selectAll(".tick").data(d,e).order(),w=x.exit(),E=x.enter().append("g").attr("class","tick"),k=x.select("line"),M=x.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(E),k=k.merge(E.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),M=M.merge(E.append("text").attr("fill","currentColor").attr(c,u*h).attr("dy",t===On?"0em":t===Sn?"0.71em":"0.32em")),f!==m&&(b=b.transition(f),x=x.transition(f),k=k.transition(f),M=M.transition(f),w=w.transition(f).attr("opacity",Pn).attr("transform",function(t){return isFinite(t=y(t))?l(t):this.getAttribute("transform")}),E.attr("opacity",Pn).attr("transform",function(t){var e=this.parentNode.__axis;return l(e&&isFinite(e=e(t))?e:y(t))})),w.remove(),b.attr("d",t===Dn||t==Cn?a?"M"+u*a+","+g+"H0.5V"+v+"H"+u*a:"M0.5,"+g+"V"+v:a?"M"+g+","+u*a+"V0.5H"+v+"V"+u*a:"M"+g+",0.5H"+v),x.attr("opacity",1).attr("transform",function(t){return l(y(t))}),k.attr(c+"2",u*o),M.attr(c,u*h).text(_),m.filter(jn).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Cn?"start":t===Dn?"end":"middle"),m.each(function(){this.__axis=y})}return f.scale=function(t){return arguments.length?(e=t,f):e},f.ticks=function(){return n=Tn.call(arguments),f},f.tickArguments=function(t){return arguments.length?(n=null==t?[]:Tn.call(t),f):n.slice()},f.tickValues=function(t){return arguments.length?(r=null==t?null:Tn.call(t),f):r&&r.slice()},f.tickFormat=function(t){return arguments.length?(i=t,f):i},f.tickSize=function(t){return arguments.length?(o=a=+t,f):o},f.tickSizeInner=function(t){return arguments.length?(o=+t,f):o},f.tickSizeOuter=function(t){return arguments.length?(a=+t,f):a},f.tickPadding=function(t){return arguments.length?(s=+t,f):s},f}function Un(t){return Bn(On,t)}function qn(t){return Bn(Cn,t)}function zn(t){return Bn(Sn,t)}function Wn(t){return Bn(Dn,t)}r(66);var $n={value:function(){}};function Hn(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new Fn(r)}function Fn(t){this._=t}function Kn(t,e){return t.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})}function Yn(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Gn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=$n,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Fn.prototype=Hn.prototype={constructor:Fn,on:function(t,e){var n,r=this._,i=Kn(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++o<a;)if(n=(t=i[o]).type)r[n]=Gn(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Gn(r[n],t.name,null);return this}for(;++o<a;)if((n=(t=i[o]).type)&&(n=Yn(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Fn(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var Xn=Hn,Vn="http://www.w3.org/1999/xhtml",Jn={svg:"http://www.w3.org/2000/svg",xhtml:Vn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Zn=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Jn.hasOwnProperty(e)?{space:Jn[e],local:t}:t};function Qn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Vn&&e.documentElement.namespaceURI===Vn?e.createElement(t):e.createElementNS(n,t)}}function tr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var er=function(t){var e=Zn(t);return(e.local?tr:Qn)(e)};function nr(){}var rr=function(t){return null==t?nr:function(){return this.querySelector(t)}};function ir(){return[]}var or=function(t){return null==t?ir:function(){return this.querySelectorAll(t)}},ar=function(t){return function(){return this.matches(t)}},sr=function(t){return new Array(t.length)};function ur(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}ur.prototype={constructor:ur,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var cr="$";function lr(t,e,n,r,i,o){for(var a,s=0,u=e.length,c=o.length;s<c;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new ur(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function fr(t,e,n,r,i,o,a){var s,u,c,l={},f=e.length,d=o.length,_=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(_[s]=c=cr+a.call(u,u.__data__,s,e),c in l?i[s]=u:l[c]=u);for(s=0;s<d;++s)(u=l[c=cr+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],l[c]=null):n[s]=new ur(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&l[_[s]]===u&&(i[s]=u)}function dr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _r(t){return function(){this.removeAttribute(t)}}function hr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function pr(t,e){return function(){this.setAttribute(t,e)}}function gr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function vr(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function yr(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var mr=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function br(t){return function(){this.style.removeProperty(t)}}function xr(t,e,n){return function(){this.style.setProperty(t,e,n)}}function wr(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Er(t,e){return t.style.getPropertyValue(e)||mr(t).getComputedStyle(t,null).getPropertyValue(e)}function kr(t){return function(){delete this[t]}}function Mr(t,e){return function(){this[t]=e}}function Tr(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}r(51);function Ar(t){return t.trim().split(/^|\s+/)}function Or(t){return t.classList||new Cr(t)}function Cr(t){this._node=t,this._names=Ar(t.getAttribute("class")||"")}function Sr(t,e){for(var n=Or(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Dr(t,e){for(var n=Or(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Pr(t){return function(){Sr(this,t)}}function Ir(t){return function(){Dr(this,t)}}function Nr(t,e){return function(){(e.apply(this,arguments)?Sr:Dr)(this,t)}}Cr.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Rr(){this.textContent=""}function Lr(t){return function(){this.textContent=t}}function jr(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Br(){this.innerHTML=""}function Ur(t){return function(){this.innerHTML=t}}function qr(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function zr(){this.nextSibling&&this.parentNode.appendChild(this)}function Wr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function $r(){return null}function Hr(){var t=this.parentNode;t&&t.removeChild(this)}function Fr(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function Kr(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}var Yr={},Gr=null;"undefined"!=typeof document&&("onmouseenter"in document.documentElement||(Yr={mouseenter:"mouseover",mouseleave:"mouseout"}));function Xr(t,e,n){return t=Vr(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Vr(t,e,n){return function(r){var i=Gr;Gr=r;try{t.call(this,this.__data__,e,n)}finally{Gr=i}}}function Jr(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function Zr(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Qr(t,e,n){var r=Yr.hasOwnProperty(t.type)?Xr:Vr;return function(i,o,a){var s,u=this.__on,c=r(e,o,a);if(u)for(var l=0,f=u.length;l<f;++l)if((s=u[l]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=c,s.capture=n),void(s.value=e);this.addEventListener(t.type,c,n),s={type:t.type,name:t.name,value:e,listener:c,capture:n},u?u.push(s):this.__on=[s]}}function ti(t,e,n,r){var i=Gr;t.sourceEvent=Gr,Gr=t;try{return e.apply(n,r)}finally{Gr=i}}function ei(t,e,n){var r=mr(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function ni(t,e){return function(){return ei(this,t,e)}}function ri(t,e){return function(){return ei(this,t,e.apply(this,arguments))}}var ii=[null];function oi(t,e){this._groups=t,this._parents=e}function ai(){return new oi([[document.documentElement]],ii)}oi.prototype=ai.prototype={constructor:oi,select:function(t){"function"!=typeof t&&(t=rr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,c=r[i]=new Array(u),l=0;l<u;++l)(o=s[l])&&(a=t.call(o,o.__data__,l,s))&&("__data__"in o&&(a.__data__=o.__data__),c[l]=a);return new oi(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=or(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,c=0;c<u;++c)(a=s[c])&&(r.push(t.call(a,a.__data__,c,s)),i.push(a));return new oi(r,i)},filter:function(t){"function"!=typeof t&&(t=ar(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new oi(r,this._parents)},data:function(t,e){if(!t)return h=new Array(this.size()),l=-1,this.each(function(t){h[++l]=t}),h;var n,r=e?fr:lr,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),c=new Array(a),l=0;l<a;++l){var f=i[l],d=o[l],_=d.length,h=t.call(f,f&&f.__data__,l,i),p=h.length,g=u[l]=new Array(p),v=s[l]=new Array(p);r(f,d,g,v,c[l]=new Array(_),h,e);for(var y,m,b=0,x=0;b<p;++b)if(y=g[b]){for(b>=x&&(x=b+1);!(m=v[x])&&++x<p;);y._next=m||null}}return(s=new oi(s,i))._enter=u,s._exit=c,s},enter:function(){return new oi(this._enter||this._groups.map(sr),this._parents)},exit:function(){return new oi(this._exit||this._groups.map(sr),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,d=a[s]=new Array(f),_=0;_<f;++_)(u=c[_]||l[_])&&(d[_]=u);for(;s<r;++s)a[s]=e[s];return new oi(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=dr);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,c=i[o]=new Array(u),l=0;l<u;++l)(a=s[l])&&(c[l]=a);c.sort(e)}return new oi(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Zn(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?hr:_r:"function"==typeof e?n.local?yr:vr:n.local?gr:pr)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?br:"function"==typeof e?wr:xr)(t,e,null==n?"":n)):Er(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?kr:"function"==typeof e?Tr:Mr)(t,e)):this.node()[t]},classed:function(t,e){var n=Ar(t+"");if(arguments.length<2){for(var r=Or(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Nr:e?Pr:Ir)(n,e))},text:function(t){return arguments.length?this.each(null==t?Rr:("function"==typeof t?jr:Lr)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Br:("function"==typeof t?qr:Ur)(t)):this.node().innerHTML},raise:function(){return this.each(zr)},lower:function(){return this.each(Wr)},append:function(t){var e="function"==typeof t?t:er(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:er(t),r=null==e?$r:"function"==typeof e?e:rr(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Hr)},clone:function(t){return this.select(t?Kr:Fr)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Jr(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Qr:Zr,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,c=0,l=s.length;c<l;++c)for(r=0,u=s[c];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?ri:ni)(t,e))}};var si=ai,ui=function(t){return"string"==typeof t?new oi([[document.querySelector(t)]],[document.documentElement]):new oi([[t]],ii)},ci=function(t){return ui(er(t).call(document.documentElement))},li=0;function fi(){return new di}function di(){this._="@"+(++li).toString(36)}di.prototype=fi.prototype={constructor:di,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var _i=function(){for(var t,e=Gr;t=e.sourceEvent;)e=t;return e},hi=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]},pi=function(t){var e=_i();return e.changedTouches&&(e=e.changedTouches[0]),hi(t,e)},gi=function(t){return"string"==typeof t?new oi([document.querySelectorAll(t)],[document.documentElement]):new oi([null==t?[]:t],ii)},vi=function(t,e,n){arguments.length<3&&(n=e,e=_i().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return hi(t,r);return null},yi=function(t,e){null==e&&(e=_i().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=hi(t,e[n]);return i};function mi(){Gr.stopImmediatePropagation()}var bi=function(){Gr.preventDefault(),Gr.stopImmediatePropagation()},xi=function(t){var e=t.document.documentElement,n=ui(t).on("dragstart.drag",bi,!0);"onselectstart"in e?n.on("selectstart.drag",bi,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function wi(t,e){var n=t.document.documentElement,r=ui(t).on("dragstart.drag",null);e&&(r.on("click.drag",bi,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ei=function(t){return function(){return t}};function ki(t,e,n,r,i,o,a,s,u,c){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=c}function Mi(){return!Gr.ctrlKey&&!Gr.button}function Ti(){return this.parentNode}function Ai(t){return null==t?{x:Gr.x,y:Gr.y}:t}function Oi(){return navigator.maxTouchPoints||"ontouchstart"in this}ki.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ci=function(){var t,e,n,r,i=Mi,o=Ti,a=Ai,s=Oi,u={},c=Xn("start","drag","end"),l=0,f=0;function d(t){t.on("mousedown.drag",_).filter(s).on("touchstart.drag",g).on("touchmove.drag",v).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(){if(!r&&i.apply(this,arguments)){var a=m("mouse",o.apply(this,arguments),pi,this,arguments);a&&(ui(Gr.view).on("mousemove.drag",h,!0).on("mouseup.drag",p,!0),xi(Gr.view),mi(),n=!1,t=Gr.clientX,e=Gr.clientY,a("start"))}}function h(){if(bi(),!n){var r=Gr.clientX-t,i=Gr.clientY-e;n=r*r+i*i>f}u.mouse("drag")}function p(){ui(Gr.view).on("mousemove.drag mouseup.drag",null),wi(Gr.view,n),bi(),u.mouse("end")}function g(){if(i.apply(this,arguments)){var t,e,n=Gr.changedTouches,r=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=m(n[t].identifier,r,vi,this,arguments))&&(mi(),e("start"))}}function v(){var t,e,n=Gr.changedTouches,r=n.length;for(t=0;t<r;++t)(e=u[n[t].identifier])&&(bi(),e("drag"))}function y(){var t,e,n=Gr.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<i;++t)(e=u[n[t].identifier])&&(mi(),e("end"))}function m(t,e,n,r,i){var o,s,f,_=n(e,t),h=c.copy();if(ti(new ki(d,"beforestart",o,t,l,_[0],_[1],0,0,h),function(){return null!=(Gr.subject=o=a.apply(r,i))&&(s=o.x-_[0]||0,f=o.y-_[1]||0,!0)}))return function a(c){var p,g=_;switch(c){case"start":u[t]=a,p=l++;break;case"end":delete u[t],--l;case"drag":_=n(e,t),p=l}ti(new ki(d,c,o,t,p,_[0]+s,_[1]+f,_[0]-g[0],_[1]-g[1],h),h.apply,h,[c,r,i])}}return d.filter=function(t){return arguments.length?(i="function"==typeof t?t:Ei(!!t),d):i},d.container=function(t){return arguments.length?(o="function"==typeof t?t:Ei(t),d):o},d.subject=function(t){return arguments.length?(a="function"==typeof t?t:Ei(t),d):a},d.touchable=function(t){return arguments.length?(s="function"==typeof t?t:Ei(!!t),d):s},d.on=function(){var t=c.on.apply(c,arguments);return t===c?d:t},d.clickDistance=function(t){return arguments.length?(f=(t=+t)*t,d):Math.sqrt(f)},d},Si=(r(71),function(t,e,n){t.prototype=e.prototype=n,n.constructor=t});function Di(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Pi(){}var Ii="\\s*([+-]?\\d+)\\s*",Ni="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ri="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Li=/^#([0-9a-f]{3})$/,ji=/^#([0-9a-f]{6})$/,Bi=new RegExp("^rgb\\("+[Ii,Ii,Ii]+"\\)$"),Ui=new RegExp("^rgb\\("+[Ri,Ri,Ri]+"\\)$"),qi=new RegExp("^rgba\\("+[Ii,Ii,Ii,Ni]+"\\)$"),zi=new RegExp("^rgba\\("+[Ri,Ri,Ri,Ni]+"\\)$"),Wi=new RegExp("^hsl\\("+[Ni,Ri,Ri]+"\\)$"),$i=new RegExp("^hsla\\("+[Ni,Ri,Ri,Ni]+"\\)$"),Hi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Fi(){return this.rgb().formatHex()}function Ki(){return this.rgb().formatRgb()}function Yi(t){var e;return t=(t+"").trim().toLowerCase(),(e=Li.exec(t))?new Zi((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=ji.exec(t))?Gi(parseInt(e[1],16)):(e=Bi.exec(t))?new Zi(e[1],e[2],e[3],1):(e=Ui.exec(t))?new Zi(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=qi.exec(t))?Xi(e[1],e[2],e[3],e[4]):(e=zi.exec(t))?Xi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=Wi.exec(t))?no(e[1],e[2]/100,e[3]/100,1):(e=$i.exec(t))?no(e[1],e[2]/100,e[3]/100,e[4]):Hi.hasOwnProperty(t)?Gi(Hi[t]):"transparent"===t?new Zi(NaN,NaN,NaN,0):null}function Gi(t){return new Zi(t>>16&255,t>>8&255,255&t,1)}function Xi(t,e,n,r){return r<=0&&(t=e=n=NaN),new Zi(t,e,n,r)}function Vi(t){return t instanceof Pi||(t=Yi(t)),t?new Zi((t=t.rgb()).r,t.g,t.b,t.opacity):new Zi}function Ji(t,e,n,r){return 1===arguments.length?Vi(t):new Zi(t,e,n,null==r?1:r)}function Zi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Qi(){return"#"+eo(this.r)+eo(this.g)+eo(this.b)}function to(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function eo(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function no(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new oo(t,e,n,r)}function ro(t){if(t instanceof oo)return new oo(t.h,t.s,t.l,t.opacity);if(t instanceof Pi||(t=Yi(t)),!t)return new oo;if(t instanceof oo)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new oo(a,s,u,t.opacity)}function io(t,e,n,r){return 1===arguments.length?ro(t):new oo(t,e,n,null==r?1:r)}function oo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ao(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Si(Pi,Yi,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Fi,formatHex:Fi,formatHsl:function(){return ro(this).formatHsl()},formatRgb:Ki,toString:Ki}),Si(Zi,Ji,Di(Pi,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Zi(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Zi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qi,formatHex:Qi,formatRgb:to,toString:to})),Si(oo,io,Di(Pi,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new oo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new oo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Zi(ao(t>=240?t-240:t+120,i,r),ao(t,i,r),ao(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var so=Math.PI/180,uo=180/Math.PI,co=.96422,lo=1,fo=.82521,_o=4/29,ho=6/29,po=3*ho*ho,go=ho*ho*ho;function vo(t){if(t instanceof bo)return new bo(t.l,t.a,t.b,t.opacity);if(t instanceof Oo)return Co(t);t instanceof Zi||(t=Vi(t));var e,n,r=ko(t.r),i=ko(t.g),o=ko(t.b),a=xo((.2225045*r+.7168786*i+.0606169*o)/lo);return r===i&&i===o?e=n=a:(e=xo((.4360747*r+.3850649*i+.1430804*o)/co),n=xo((.0139322*r+.0971045*i+.7141733*o)/fo)),new bo(116*a-16,500*(e-a),200*(a-n),t.opacity)}function yo(t,e){return new bo(t,0,0,null==e?1:e)}function mo(t,e,n,r){return 1===arguments.length?vo(t):new bo(t,e,n,null==r?1:r)}function bo(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function xo(t){return t>go?Math.pow(t,1/3):t/po+_o}function wo(t){return t>ho?t*t*t:po*(t-_o)}function Eo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ko(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Mo(t){if(t instanceof Oo)return new Oo(t.h,t.c,t.l,t.opacity);if(t instanceof bo||(t=vo(t)),0===t.a&&0===t.b)return new Oo(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*uo;return new Oo(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function To(t,e,n,r){return 1===arguments.length?Mo(t):new Oo(n,e,t,null==r?1:r)}function Ao(t,e,n,r){return 1===arguments.length?Mo(t):new Oo(t,e,n,null==r?1:r)}function Oo(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function Co(t){if(isNaN(t.h))return new bo(t.l,0,0,t.opacity);var e=t.h*so;return new bo(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}Si(bo,mo,Di(Pi,{brighter:function(t){return new bo(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new bo(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return new Zi(Eo(3.1338561*(e=co*wo(e))-1.6168667*(t=lo*wo(t))-.4906146*(n=fo*wo(n))),Eo(-.9787684*e+1.9161415*t+.033454*n),Eo(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}})),Si(Oo,Ao,Di(Pi,{brighter:function(t){return new Oo(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new Oo(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Co(this).rgb()}}));var So=-.29227,Do=-.90649,Po=1.97294,Io=Po*Do,No=1.78277*Po,Ro=1.78277*So- -.14861*Do;function Lo(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof jo)return new jo(t.h,t.s,t.l,t.opacity);t instanceof Zi||(t=Vi(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ro*r+Io*e-No*n)/(Ro+Io-No),o=r-i,a=(Po*(n-i)-So*o)/Do,s=Math.sqrt(a*a+o*o)/(Po*i*(1-i)),u=s?Math.atan2(a,o)*uo-120:NaN;return new jo(u<0?u+360:u,s,i,t.opacity)}(t):new jo(t,e,n,null==r?1:r)}function jo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Bo(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}Si(jo,Lo,Di(Pi,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new jo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new jo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*so,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Zi(255*(e+n*(-.14861*r+1.78277*i)),255*(e+n*(So*r+Do*i)),255*(e+n*(Po*r)),this.opacity)}}));var Uo=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Bo((n-r/e)*e,a,i,o,s)}},qo=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Bo((n-r/e)*e,i,o,a,s)}},zo=function(t){return function(){return t}};function Wo(t,e){return function(n){return t+n*e}}function $o(t,e){var n=e-t;return n?Wo(t,n>180||n<-180?n-360*Math.round(n/360):n):zo(isNaN(t)?e:t)}function Ho(t){return 1==(t=+t)?Fo:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):zo(isNaN(e)?n:e)}}function Fo(t,e){var n=e-t;return n?Wo(t,n):zo(isNaN(t)?e:t)}var Ko=function t(e){var n=Ho(e);function r(t,e){var r=n((t=Ji(t)).r,(e=Ji(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Fo(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Yo(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Ji(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}var Go=Yo(Uo),Xo=Yo(qo),Vo=function(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=ca(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}},Jo=function(t,e){var n=new Date;return e-=t=+t,function(r){return n.setTime(t+e*r),n}},Zo=function(t,e){return e-=t=+t,function(n){return t+e*n}};function Qo(t){return(Qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ta=function(t,e){var n,r={},i={};for(n in null!==t&&"object"===Qo(t)||(t={}),null!==e&&"object"===Qo(e)||(e={}),e)n in t?r[n]=ca(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}},ea=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,na=new RegExp(ea.source,"g");var ra=function(t,e){var n,r,i,o=ea.lastIndex=na.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=ea.exec(t))&&(r=na.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Zo(n,r)})),o=na.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})};function ia(t){return(ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var oa,aa,sa,ua,ca=function(t,e){var n,r=ia(e);return null==e||"boolean"===r?zo(e):("number"===r?Zo:"string"===r?(n=Yi(e))?(e=n,Ko):ra:e instanceof Yi?Ko:e instanceof Date?Jo:Array.isArray(e)?Vo:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?ta:Zo)(t,e)},la=function(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}},fa=function(t,e){var n=$o(+t,+e);return function(t){var e=n(t);return e-360*Math.floor(e/360)}},da=function(t,e){return e-=t=+t,function(n){return Math.round(t+e*n)}},_a=180/Math.PI,ha={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},pa=function(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*_a,skewX:Math.atan(u)*_a,scaleX:a,scaleY:s}};function ga(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Zo(t,i)},{i:u-2,x:Zo(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Zo(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Zo(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Zo(t,n)},{i:s-2,x:Zo(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var va=ga(function(t){return"none"===t?ha:(oa||(oa=document.createElement("DIV"),aa=document.documentElement,sa=document.defaultView),oa.style.transform=t,t=sa.getComputedStyle(aa.appendChild(oa),null).getPropertyValue("transform"),aa.removeChild(oa),t=t.slice(7,-1).split(","),pa(+t[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),ya=ga(function(t){return null==t?ha:(ua||(ua=document.createElementNS("http://www.w3.org/2000/svg","g")),ua.setAttribute("transform",t),(t=ua.transform.baseVal.consolidate())?(t=t.matrix,pa(t.a,t.b,t.c,t.d,t.e,t.f)):ha)},", ",")",")"),ma=Math.SQRT2;function ba(t){return((t=Math.exp(t))+1/t)/2}var xa=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],c=e[2],l=s-i,f=u-o,d=l*l+f*f;if(d<1e-12)r=Math.log(c/a)/ma,n=function(t){return[i+t*l,o+t*f,a*Math.exp(ma*t*r)]};else{var _=Math.sqrt(d),h=(c*c-a*a+4*d)/(2*a*2*_),p=(c*c-a*a-4*d)/(2*c*2*_),g=Math.log(Math.sqrt(h*h+1)-h),v=Math.log(Math.sqrt(p*p+1)-p);r=(v-g)/ma,n=function(t){var e,n=t*r,s=ba(g),u=a/(2*_)*(s*(e=ma*n+g,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(g));return[i+u*l,o+u*f,a*s/ba(ma*n+g)]}}return n.duration=1e3*r,n};function wa(t){return function(e,n){var r=t((e=io(e)).h,(n=io(n)).h),i=Fo(e.s,n.s),o=Fo(e.l,n.l),a=Fo(e.opacity,n.opacity);return function(t){return e.h=r(t),e.s=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var Ea=wa($o),ka=wa(Fo);function Ma(t,e){var n=Fo((t=mo(t)).l,(e=mo(e)).l),r=Fo(t.a,e.a),i=Fo(t.b,e.b),o=Fo(t.opacity,e.opacity);return function(e){return t.l=n(e),t.a=r(e),t.b=i(e),t.opacity=o(e),t+""}}function Ta(t){return function(e,n){var r=t((e=Ao(e)).h,(n=Ao(n)).h),i=Fo(e.c,n.c),o=Fo(e.l,n.l),a=Fo(e.opacity,n.opacity);return function(t){return e.h=r(t),e.c=i(t),e.l=o(t),e.opacity=a(t),e+""}}}var Aa=Ta($o),Oa=Ta(Fo);function Ca(t){return function e(n){function r(e,r){var i=t((e=Lo(e)).h,(r=Lo(r)).h),o=Fo(e.s,r.s),a=Fo(e.l,r.l),s=Fo(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}var Sa=Ca($o),Da=Ca(Fo);function Pa(t,e){for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(t){var e=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[e](t-e)}}var Ia=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n};function Na(t){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Ra,La,ja=0,Ba=0,Ua=0,qa=1e3,za=0,Wa=0,$a=0,Ha="object"===("undefined"==typeof performance?"undefined":Na(performance))&&performance.now?performance:Date,Fa="object"===("undefined"==typeof window?"undefined":Na(window))&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ka(){return Wa||(Fa(Ya),Wa=Ha.now()+$a)}function Ya(){Wa=0}function Ga(){this._call=this._time=this._next=null}function Xa(t,e,n){var r=new Ga;return r.restart(t,e,n),r}function Va(){Ka(),++ja;for(var t,e=Ra;e;)(t=Wa-e._time)>=0&&e._call.call(null,t),e=e._next;--ja}function Ja(){Wa=(za=Ha.now())+$a,ja=Ba=0;try{Va()}finally{ja=0,function(){var t,e,n=Ra,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Ra=e);La=t,Qa(r)}(),Wa=0}}function Za(){var t=Ha.now(),e=t-za;e>qa&&($a-=e,za=t)}function Qa(t){ja||(Ba&&(Ba=clearTimeout(Ba)),t-Wa>24?(t<1/0&&(Ba=setTimeout(Ja,t-Ha.now()-$a)),Ua&&(Ua=clearInterval(Ua))):(Ua||(za=Ha.now(),Ua=setInterval(Za,qa)),ja=1,Fa(Ja)))}Ga.prototype=Xa.prototype={constructor:Ga,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?Ka():+n)+(null==e?0:+e),this._next||La===this||(La?La._next=this:Ra=this,La=this),this._call=t,this._time=n,Qa()},stop:function(){this._call&&(this._call=null,this._time=1/0,Qa())}};var ts=function(t,e,n){var r=new Ga;return e=null==e?0:+e,r.restart(function(n){r.stop(),t(n+e)},e,n),r},es=function(t,e,n){var r=new Ga,i=e;return null==e?(r.restart(t,e,n),r):(e=+e,n=null==n?Ka():+n,r.restart(function o(a){a+=i,r.restart(o,i+=e,n),t(a)},e,n),r)},ns=Xn("start","end","cancel","interrupt"),rs=[],is=0,os=1,as=2,ss=3,us=4,cs=5,ls=6,fs=function(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(u){var c,l,f,d;if(n.state!==os)return s();for(c in i)if((d=i[c]).name===n.name){if(d.state===ss)return ts(o);d.state===us?(d.state=ls,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[c]):+c<e&&(d.state=ls,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[c])}if(ts(function(){n.state===ss&&(n.state=us,n.timer.restart(a,n.delay,n.time),a(u))}),n.state=as,n.on.call("start",t,t.__data__,n.index,n.group),n.state===as){for(n.state=ss,r=new Array(f=n.tween.length),c=0,l=-1;c<f;++c)(d=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(r[++l]=d);r.length=l+1}}function a(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(s),n.state=cs,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===cs&&(n.on.call("end",t,t.__data__,n.index,n.group),s())}function s(){for(var r in n.state=ls,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Xa(function(t){n.state=os,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)},0,n.time)}(t,n,{name:e,index:r,group:i,on:ns,tween:rs,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:is})};function ds(t,e){var n=hs(t,e);if(n.state>is)throw new Error("too late; already scheduled");return n}function _s(t,e){var n=hs(t,e);if(n.state>ss)throw new Error("too late; already running");return n}function hs(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}var ps=function(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>as&&n.state<cs,n.state=ls,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}};function gs(t,e){var n,r;return function(){var i=_s(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function vs(t,e,n){var r,i;if("function"!=typeof n)throw new Error;return function(){var o=_s(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=s;break}u===c&&i.push(s)}o.tween=i}}function ys(t,e,n){var r=t._id;return t.each(function(){var t=_s(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return hs(t,r).value[e]}}var ms=function(t,e){var n;return("number"==typeof e?Zo:e instanceof Yi?Ko:(n=Yi(e))?(e=n,Ko):ra)(t,e)};function bs(t){return function(){this.removeAttribute(t)}}function xs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ws(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Es(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function ks(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function Ms(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Ts(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e(n))}}(t,i)),n}return i._value=e,i}function As(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e(n))}}(t,i)),n}return i._value=e,i}function Os(t,e){return function(){ds(this,t).delay=+e.apply(this,arguments)}}function Cs(t,e){return e=+e,function(){ds(this,t).delay=e}}function Ss(t,e){return function(){_s(this,t).duration=+e.apply(this,arguments)}}function Ds(t,e){return e=+e,function(){_s(this,t).duration=e}}function Ps(t,e){if("function"!=typeof e)throw new Error;return function(){_s(this,t).ease=e}}function Is(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t})}(e)?ds:_s;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}var Ns=si.prototype.constructor;function Rs(t){return function(){this.style.removeProperty(t)}}function Ls(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e(r),n)}}(t,o,n)),r}return o._value=e,o}r(101);var js=0;function Bs(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Us(t){return si().transition(t)}function qs(){return++js}var zs=si.prototype;function Ws(t){return+t}function $s(t){return t*t}function Hs(t){return t*(2-t)}function Fs(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Ks(t){return t*t*t}function Ys(t){return--t*t*t+1}function Gs(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Bs.prototype=Us.prototype={constructor:Bs,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=rr(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,c=r[a],l=c.length,f=o[a]=new Array(l),d=0;d<l;++d)(s=c[d])&&(u=t.call(s,s.__data__,d,c))&&("__data__"in s&&(u.__data__=s.__data__),f[d]=u,fs(f[d],e,n,d,f,hs(s,n)));return new Bs(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=or(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,c=r[s],l=c.length,f=0;f<l;++f)if(u=c[f]){for(var d,_=t.call(u,u.__data__,f,c),h=hs(u,n),p=0,g=_.length;p<g;++p)(d=_[p])&&fs(d,e,n,p,_,h);o.push(_),a.push(u)}return new Bs(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=ar(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],c=0;c<s;++c)(o=a[c])&&t.call(o,o.__data__,c,a)&&u.push(o);return new Bs(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,c=e[s],l=n[s],f=c.length,d=a[s]=new Array(f),_=0;_<f;++_)(u=c[_]||l[_])&&(d[_]=u);for(;s<r;++s)a[s]=e[s];return new Bs(a,this._parents,this._name,this._id)},selection:function(){return new Ns(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=qs(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)if(a=s[c]){var l=hs(a,e);fs(a,t,n,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new Bs(r,this._parents,t,n)},call:zs.call,nodes:zs.nodes,node:zs.node,size:zs.size,empty:zs.empty,each:zs.each,on:function(t,e){var n=this._id;return arguments.length<2?hs(this.node(),n).on.on(t):this.each(Is(n,t,e))},attr:function(t,e){var n=Zn(t),r="transform"===n?ya:ms;return this.attrTween(t,"function"==typeof e?(n.local?Ms:ks)(n,r,ys(this,"attr."+t,e)):null==e?(n.local?xs:bs)(n):(n.local?Es:ws)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=Zn(t);return this.tween(n,(r.local?Ts:As)(r,e))},style:function(t,e,n){var r="transform"==(t+="")?va:ms;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=Er(this,t),a=(this.style.removeProperty(t),Er(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,Rs(t)):"function"==typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=Er(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=Er(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,ys(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=_s(this,t),c=u.on,l=null==u.value[a]?o||(o=Rs(e)):void 0;c===n&&i===l||(r=(n=c).copy()).on(s,i=l),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=Er(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,Ls(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(ys(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},remove:function(){return this.on("end.remove",(t=this._id,function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}));var t},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=hs(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?gs:vs)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Os:Cs)(e,t)):hs(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?Ss:Ds)(e,t)):hs(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(Ps(e,t)):hs(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var s={value:a},u={value:function(){0==--i&&o()}};n.each(function(){var n=_s(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})})}};var Xs=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Vs=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Js=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Zs=Math.PI,Qs=Zs/2;function tu(t){return 1-Math.cos(t*Qs)}function eu(t){return Math.sin(t*Qs)}function nu(t){return(1-Math.cos(Zs*t))/2}function ru(t){return Math.pow(2,10*t-10)}function iu(t){return 1-Math.pow(2,-10*t)}function ou(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function au(t){return 1-Math.sqrt(1-t*t)}function su(t){return Math.sqrt(1- --t*t)}function uu(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var cu=4/11,lu=6/11,fu=8/11,du=.75,_u=9/11,hu=10/11,pu=.9375,gu=21/22,vu=63/64,yu=1/cu/cu;function mu(t){return 1-bu(1-t)}function bu(t){return(t=+t)<cu?yu*t*t:t<fu?yu*(t-=lu)*t+du:t<hu?yu*(t-=_u)*t+pu:yu*(t-=gu)*t+vu}function xu(t){return((t*=2)<=1?1-bu(1-t):bu(t-1)+1)/2}var wu=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(1.70158),Eu=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(1.70158),ku=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(1.70158),Mu=2*Math.PI,Tu=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Mu);function i(t){return e*Math.pow(2,10*--t)*Math.sin((r-t)/n)}return i.amplitude=function(e){return t(e,n*Mu)},i.period=function(n){return t(e,n)},i}(1,.3),Au=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Mu);function i(t){return 1-e*Math.pow(2,-10*(t=+t))*Math.sin((t+r)/n)}return i.amplitude=function(e){return t(e,n*Mu)},i.period=function(n){return t(e,n)},i}(1,.3),Ou=function t(e,n){var r=Math.asin(1/(e=Math.max(1,e)))*(n/=Mu);function i(t){return((t=2*t-1)<0?e*Math.pow(2,10*t)*Math.sin((r-t)/n):2-e*Math.pow(2,-10*t)*Math.sin((r+t)/n))/2}return i.amplitude=function(e){return t(e,n*Mu)},i.period=function(n){return t(e,n)},i}(1,.3),Cu={time:null,delay:0,duration:250,ease:Gs};function Su(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return Cu.time=Ka(),Cu;return n}si.prototype.interrupt=function(t){return this.each(function(){ps(this,t)})},si.prototype.transition=function(t){var e,n;t instanceof Bs?(e=t._id,t=t._name):(e=qs(),(n=Cu).time=Ka(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,c=0;c<u;++c)(a=s[c])&&fs(a,t,e,c,s,n||Su(a,e));return new Bs(r,this._parents,t,e)};var Du=[null],Pu=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>os&&n.name===e)return new Bs([[t]],Du,e,+r);return null},Iu=function(t){return function(){return t}},Nu=function(t,e,n){this.target=t,this.type=e,this.selection=n};function Ru(){Gr.stopImmediatePropagation()}var Lu=function(){Gr.preventDefault(),Gr.stopImmediatePropagation()},ju={name:"drag"},Bu={name:"space"},Uu={name:"handle"},qu={name:"center"};function zu(t){return[+t[0],+t[1]]}function Wu(t){return[zu(t[0]),zu(t[1])]}var $u={name:"x",handles:["w","e"].map(Ju),input:function(t,e){return null==t?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Hu={name:"y",handles:["n","s"].map(Ju),input:function(t,e){return null==t?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Fu={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Ju),input:function(t){return null==t?null:Wu(t)},output:function(t){return t}},Ku={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Yu={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Gu={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Xu={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Vu={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ju(t){return{type:t}}function Zu(){return!Gr.ctrlKey&&!Gr.button}function Qu(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function tc(){return navigator.maxTouchPoints||"ontouchstart"in this}function ec(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function nc(t){var e=t.__brush;return e?e.dim.output(e.selection):null}function rc(){return ac($u)}function ic(){return ac(Hu)}var oc=function(){return ac(Fu)};function ac(t){var e,n=Qu,r=Zu,i=tc,o=!0,a=Xn(u,"start","brush","end"),s=6;function u(e){var n=e.property("__brush",p).selectAll(".overlay").data([Ju("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ku.overlay).merge(n).each(function(){var t=ec(this).extent;ui(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),e.selectAll(".selection").data([Ju("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ku.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=e.selectAll(".handle").data(t.handles,function(t){return t.type});r.exit().remove(),r.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Ku[t.type]}),e.each(c).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(i).on("touchstart.brush",d).on("touchmove.brush",_).on("touchend.brush touchcancel.brush",h).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){var t=ui(this),e=ec(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-s/2:e[0][0]-s/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-s/2:e[0][1]-s/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+s:s}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+s:s})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function l(t,e,n){return!n&&t.__brush.emitter||new f(t,e)}function f(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function d(){if((!e||Gr.touches)&&r.apply(this,arguments)){var n,i,a,s,u,f,d,_,h,p,g,v,y=this,m=Gr.target.__data__.type,b="selection"===(o&&Gr.metaKey?m="overlay":m)?ju:o&&Gr.altKey?qu:Uu,x=t===Hu?null:Xu[m],w=t===$u?null:Vu[m],E=ec(y),k=E.extent,M=E.selection,T=k[0][0],A=k[0][1],O=k[1][0],C=k[1][1],S=0,D=0,P=x&&w&&o&&Gr.shiftKey,I=Gr.touches?(v=Gr.changedTouches[0].identifier,function(t){return vi(t,Gr.touches,v)}):pi,N=I(y),R=N,L=l(y,arguments,!0).beforestart();"overlay"===m?(M&&(h=!0),E.selection=M=[[n=t===Hu?T:N[0],a=t===$u?A:N[1]],[u=t===Hu?O:n,d=t===$u?C:a]]):(n=M[0][0],a=M[0][1],u=M[1][0],d=M[1][1]),i=n,s=a,f=u,_=d;var j=ui(y).attr("pointer-events","none"),B=j.selectAll(".overlay").attr("cursor",Ku[m]);if(Gr.touches)L.moved=q,L.ended=W;else{var U=ui(Gr.view).on("mousemove.brush",q,!0).on("mouseup.brush",W,!0);o&&U.on("keydown.brush",function(){switch(Gr.keyCode){case 16:P=x&&w;break;case 18:b===Uu&&(x&&(u=f-S*x,n=i+S*x),w&&(d=_-D*w,a=s+D*w),b=qu,z());break;case 32:b!==Uu&&b!==qu||(x<0?u=f-S:x>0&&(n=i-S),w<0?d=_-D:w>0&&(a=s-D),b=Bu,B.attr("cursor",Ku.selection),z());break;default:return}Lu()},!0).on("keyup.brush",function(){switch(Gr.keyCode){case 16:P&&(p=g=P=!1,z());break;case 18:b===qu&&(x<0?u=f:x>0&&(n=i),w<0?d=_:w>0&&(a=s),b=Uu,z());break;case 32:b===Bu&&(Gr.altKey?(x&&(u=f-S*x,n=i+S*x),w&&(d=_-D*w,a=s+D*w),b=qu):(x<0?u=f:x>0&&(n=i),w<0?d=_:w>0&&(a=s),b=Uu),B.attr("cursor",Ku[m]),z());break;default:return}Lu()},!0),xi(Gr.view)}Ru(),ps(y),c.call(y),L.start()}function q(){var t=I(y);!P||p||g||(Math.abs(t[0]-R[0])>Math.abs(t[1]-R[1])?g=!0:p=!0),R=t,h=!0,Lu(),z()}function z(){var t;switch(S=R[0]-N[0],D=R[1]-N[1],b){case Bu:case ju:x&&(S=Math.max(T-n,Math.min(O-u,S)),i=n+S,f=u+S),w&&(D=Math.max(A-a,Math.min(C-d,D)),s=a+D,_=d+D);break;case Uu:x<0?(S=Math.max(T-n,Math.min(O-n,S)),i=n+S,f=u):x>0&&(S=Math.max(T-u,Math.min(O-u,S)),i=n,f=u+S),w<0?(D=Math.max(A-a,Math.min(C-a,D)),s=a+D,_=d):w>0&&(D=Math.max(A-d,Math.min(C-d,D)),s=a,_=d+D);break;case qu:x&&(i=Math.max(T,Math.min(O,n-S*x)),f=Math.max(T,Math.min(O,u+S*x))),w&&(s=Math.max(A,Math.min(C,a-D*w)),_=Math.max(A,Math.min(C,d+D*w)))}f<i&&(x*=-1,t=n,n=u,u=t,t=i,i=f,f=t,m in Yu&&B.attr("cursor",Ku[m=Yu[m]])),_<s&&(w*=-1,t=a,a=d,d=t,t=s,s=_,_=t,m in Gu&&B.attr("cursor",Ku[m=Gu[m]])),E.selection&&(M=E.selection),p&&(i=M[0][0],f=M[1][0]),g&&(s=M[0][1],_=M[1][1]),M[0][0]===i&&M[0][1]===s&&M[1][0]===f&&M[1][1]===_||(E.selection=[[i,s],[f,_]],c.call(y),L.brush())}function W(){if(Ru(),Gr.touches){if(Gr.touches.length)return;e&&clearTimeout(e),e=setTimeout(function(){e=null},500)}else wi(Gr.view,h),U.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);j.attr("pointer-events","all"),B.attr("cursor",Ku.overlay),E.selection&&(M=E.selection),function(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}(M)&&(E.selection=null,c.call(y)),L.end()}}function _(){l(this,arguments).moved()}function h(){l(this,arguments).ended()}function p(){var e=this.__brush||{selection:null};return e.extent=Wu(n.apply(this,arguments)),e.dim=t,e}return u.move=function(e,n){e.selection?e.on("start.brush",function(){l(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){l(this,arguments).end()}).tween("brush",function(){var e=this,r=e.__brush,i=l(e,arguments),o=r.selection,a=t.input("function"==typeof n?n.apply(this,arguments):n,r.extent),s=ca(o,a);function u(t){r.selection=1===t&&null===a?null:s(t),c.call(e),i.brush()}return null!==o&&null!==a?u:u(1)}):e.each(function(){var e=this,r=arguments,i=e.__brush,o=t.input("function"==typeof n?n.apply(e,r):n,i.extent),a=l(e,r).beforestart();ps(e),i.selection=null===o?null:o,c.call(e),a.start().brush().end()})},u.clear=function(t){u.move(t,null)},f.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(){return this.starting?(this.starting=!1,this.emit("start")):this.emit("brush"),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(e){ti(new Nu(u,e,t.output(this.state.selection)),a.apply,a,[e,this.that,this.args])}},u.extent=function(t){return arguments.length?(n="function"==typeof t?t:Iu(Wu(t)),u):n},u.filter=function(t){return arguments.length?(r="function"==typeof t?t:Iu(!!t),u):r},u.handleSize=function(t){return arguments.length?(s=+t,u):s},u.keyModifiers=function(t){return arguments.length?(o=!!t,u):o},u.on=function(){var t=a.on.apply(a,arguments);return t===a?u:t},u}var sc=Math.cos,uc=Math.sin,cc=Math.PI,lc=cc/2,fc=2*cc,dc=Math.max;function _c(t){return function(e,n){return t(e.source.value+e.target.value,n.source.value+n.target.value)}}var hc=function(){var t=0,e=null,n=null,r=null;function i(i){var o,a,s,u,c,l,f=i.length,d=[],_=en(f),h=[],p=[],g=p.groups=new Array(f),v=new Array(f*f);for(o=0,c=-1;++c<f;){for(a=0,l=-1;++l<f;)a+=i[c][l];d.push(a),h.push(en(f)),o+=a}for(e&&_.sort(function(t,n){return e(d[t],d[n])}),n&&h.forEach(function(t,e){t.sort(function(t,r){return n(i[e][t],i[e][r])})}),u=(o=dc(0,fc-t*f)/o)?t:fc/f,a=0,c=-1;++c<f;){for(s=a,l=-1;++l<f;){var y=_[c],m=h[y][l],b=i[y][m],x=a,w=a+=b*o;v[m*f+y]={index:y,subindex:m,startAngle:x,endAngle:w,value:b}}g[y]={index:y,startAngle:s,endAngle:a,value:d[y]},a+=u}for(c=-1;++c<f;)for(l=c-1;++l<f;){var E=v[l*f+c],k=v[c*f+l];(E.value||k.value)&&p.push(E.value<k.value?{source:k,target:E}:{source:E,target:k})}return r?p.sort(r):p}return i.padAngle=function(e){return arguments.length?(t=dc(0,e),i):t},i.sortGroups=function(t){return arguments.length?(e=t,i):e},i.sortSubgroups=function(t){return arguments.length?(n=t,i):n},i.sortChords=function(t){return arguments.length?(null==t?r=null:(r=_c(t))._=t,i):r&&r._},i},pc=Array.prototype.slice,gc=function(t){return function(){return t}},vc=Math.PI,yc=2*vc,mc=yc-1e-6;function bc(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function xc(){return new bc}bc.prototype=xc.prototype={constructor:bc,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,c=o-t,l=a-e,f=c*c+l*l;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(f>1e-6)if(Math.abs(l*s-u*c)>1e-6&&i){var d=n-o,_=r-a,h=s*s+u*u,p=d*d+_*_,g=Math.sqrt(h),v=Math.sqrt(f),y=i*Math.tan((vc-Math.acos((h+f-p)/(2*g*v)))/2),m=y/v,b=y/g;Math.abs(m-1)>1e-6&&(this._+="L"+(t+m*c)+","+(e+m*l)),this._+="A"+i+","+i+",0,0,"+ +(l*d>c*_)+","+(this._x1=t+b*s)+","+(this._y1=e+b*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,c=e+s,l=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+c:(Math.abs(this._x1-u)>1e-6||Math.abs(this._y1-c)>1e-6)&&(this._+="L"+u+","+c),n&&(f<0&&(f=f%yc+yc),f>mc?this._+="A"+n+","+n+",0,1,"+l+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+l+","+(this._x1=u)+","+(this._y1=c):f>1e-6&&(this._+="A"+n+","+n+",0,"+ +(f>=vc)+","+l+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var wc=xc;function Ec(t){return t.source}function kc(t){return t.target}function Mc(t){return t.radius}function Tc(t){return t.startAngle}function Ac(t){return t.endAngle}var Oc=function(){var t=Ec,e=kc,n=Mc,r=Tc,i=Ac,o=null;function a(){var a,s=pc.call(arguments),u=t.apply(this,s),c=e.apply(this,s),l=+n.apply(this,(s[0]=u,s)),f=r.apply(this,s)-lc,d=i.apply(this,s)-lc,_=l*sc(f),h=l*uc(f),p=+n.apply(this,(s[0]=c,s)),g=r.apply(this,s)-lc,v=i.apply(this,s)-lc;if(o||(o=a=wc()),o.moveTo(_,h),o.arc(0,0,l,f,d),f===g&&d===v||(o.quadraticCurveTo(0,0,p*sc(g),p*uc(g)),o.arc(0,0,p,g,v)),o.quadraticCurveTo(0,0,_,h),o.closePath(),a)return o=null,a+""||null}return a.radius=function(t){return arguments.length?(n="function"==typeof t?t:gc(+t),a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:gc(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:gc(+t),a):i},a.source=function(e){return arguments.length?(t=e,a):t},a.target=function(t){return arguments.length?(e=t,a):e},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a};function Cc(){}function Sc(t,e){var n=new Cc;if(t instanceof Cc)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}Cc.prototype=Sc.prototype={constructor:Cc,has:function(t){return"$"+t in this},get:function(t){return this["$"+t]},set:function(t,e){return this["$"+t]=e,this},remove:function(t){var e="$"+t;return e in this&&delete this[e]},clear:function(){for(var t in this)"$"===t[0]&&delete this[t]},keys:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)"$"===e[0]&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)"$"===e[0]&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)"$"===e[0]&&++t;return t},empty:function(){for(var t in this)if("$"===t[0])return!1;return!0},each:function(t){for(var e in this)"$"===e[0]&&t(this[e],e.slice(1),this)}};var Dc=Sc,Pc=function(){var t,e,n,r=[],i=[];function o(n,i,a,s){if(i>=r.length)return null!=t&&n.sort(t),null!=e?e(n):n;for(var u,c,l,f=-1,d=n.length,_=r[i++],h=Dc(),p=a();++f<d;)(l=h.get(u=_(c=n[f])+""))?l.push(c):h.set(u,[c]);return h.each(function(t,e){s(p,e,o(t,i,a,s))}),p}return n={object:function(t){return o(t,0,Ic,Nc)},map:function(t){return o(t,0,Rc,Lc)},entries:function(t){return function t(n,o){if(++o>r.length)return n;var a,s=i[o-1];return null!=e&&o>=r.length?a=n.entries():(a=[],n.each(function(e,n){a.push({key:n,values:t(e,o)})})),null!=s?a.sort(function(t,e){return s(t.key,e.key)}):a}(o(t,0,Rc,Lc),0)},key:function(t){return r.push(t),n},sortKeys:function(t){return i[r.length-1]=t,n},sortValues:function(e){return t=e,n},rollup:function(t){return e=t,n}}};function Ic(){return{}}function Nc(t,e,n){t[e]=n}function Rc(){return Dc()}function Lc(t,e,n){t.set(e,n)}function jc(){}var Bc=Dc.prototype;function Uc(t,e){var n=new jc;if(t instanceof jc)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}jc.prototype=Uc.prototype={constructor:jc,has:Bc.has,add:function(t){return this["$"+(t+="")]=t,this},remove:Bc.remove,clear:Bc.clear,values:Bc.keys,size:Bc.size,empty:Bc.empty,each:Bc.each};var qc=Uc,zc=function(t){var e=[];for(var n in t)e.push(n);return e},Wc=function(t){var e=[];for(var n in t)e.push(t[n]);return e},$c=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},Hc=(r(31),Array.prototype.slice),Fc=function(t,e){return t-e},Kc=function(t){for(var e=0,n=t.length,r=t[n-1][1]*t[0][0]-t[n-1][0]*t[0][1];++e<n;)r+=t[e-1][1]*t[e][0]-t[e-1][0]*t[e][1];return r},Yc=function(t){return function(){return t}},Gc=function(t,e){for(var n,r=-1,i=e.length;++r<i;)if(n=Xc(t,e[r]))return n;return 0};function Xc(t,e){for(var n=e[0],r=e[1],i=-1,o=0,a=t.length,s=a-1;o<a;s=o++){var u=t[o],c=u[0],l=u[1],f=t[s],d=f[0],_=f[1];if(Vc(u,f,e))return 0;l>r!=_>r&&n<(d-c)*(r-l)/(_-l)+c&&(i=-i)}return i}function Vc(t,e,n){var r,i,o,a;return function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])==(n[0]-t[0])*(e[1]-t[1])}(t,e,n)&&(i=t[r=+(t[0]===e[0])],o=n[r],a=e[r],i<=o&&o<=a||a<=o&&o<=i)}var Jc=function(){},Zc=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],Qc=function(){var t=1,e=1,n=cn,r=s;function i(t){var e=n(t);if(Array.isArray(e))e=e.slice().sort(Fc);else{var r=Xe(t),i=r[0],a=r[1];e=un(i,a,e),e=en(Math.floor(i/e)*e,Math.floor(a/e)*e,e)}return e.map(function(e){return o(t,e)})}function o(n,i){var o=[],s=[];return function(n,r,i){var o,s,u,c,l,f,d=new Array,_=new Array;o=s=-1,c=n[0]>=r,Zc[c<<1].forEach(h);for(;++o<t-1;)u=c,c=n[o+1]>=r,Zc[u|c<<1].forEach(h);Zc[c<<0].forEach(h);for(;++s<e-1;){for(o=-1,c=n[s*t+t]>=r,l=n[s*t]>=r,Zc[c<<1|l<<2].forEach(h);++o<t-1;)u=c,c=n[s*t+t+o+1]>=r,f=l,l=n[s*t+o+1]>=r,Zc[u|c<<1|l<<2|f<<3].forEach(h);Zc[c|l<<3].forEach(h)}o=-1,l=n[s*t]>=r,Zc[l<<2].forEach(h);for(;++o<t-1;)f=l,l=n[s*t+o+1]>=r,Zc[l<<2|f<<3].forEach(h);function h(t){var e,n,r=[t[0][0]+o,t[0][1]+s],u=[t[1][0]+o,t[1][1]+s],c=a(r),l=a(u);(e=_[c])?(n=d[l])?(delete _[e.end],delete d[n.start],e===n?(e.ring.push(u),i(e.ring)):d[e.start]=_[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete _[e.end],e.ring.push(u),_[e.end=l]=e):(e=d[l])?(n=_[c])?(delete d[e.start],delete _[n.end],e===n?(e.ring.push(u),i(e.ring)):d[n.start]=_[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[e.start],e.ring.unshift(r),d[e.start=c]=e):d[c]=_[l]={start:c,end:l,ring:[r,u]}}Zc[l<<3].forEach(h)}(n,i,function(t){r(t,n,i),Kc(t)>0?o.push([t]):s.push(t)}),s.forEach(function(t){for(var e,n=0,r=o.length;n<r;++n)if(-1!==Gc((e=o[n])[0],t))return void e.push(t)}),{type:"MultiPolygon",value:i,coordinates:o}}function a(e){return 2*e[0]+e[1]*(t+1)*4}function s(n,r,i){n.forEach(function(n){var o,a=n[0],s=n[1],u=0|a,c=0|s,l=r[c*t+u];a>0&&a<t&&u===a&&(o=r[c*t+u-1],n[0]=a+(i-o)/(l-o)-.5),s>0&&s<e&&c===s&&(o=r[(c-1)*t+u],n[1]=s+(i-o)/(l-o)-.5)})}return i.contour=o,i.size=function(n){if(!arguments.length)return[t,e];var r=Math.ceil(n[0]),o=Math.ceil(n[1]);if(!(r>0&&o>0))throw new Error("invalid size");return t=r,e=o,i},i.thresholds=function(t){return arguments.length?(n="function"==typeof t?t:Array.isArray(t)?Yc(Hc.call(t)):Yc(t),i):n},i.smooth=function(t){return arguments.length?(r=t?s:Jc,i):r===s},i};r(197),r(200),r(201),r(202),r(203),r(204),r(205),r(206),r(207),r(208),r(209),r(210),r(211),r(212),r(213),r(214),r(215),r(216),r(217),r(218),r(219),r(220),r(221),r(222),r(223);function tl(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<i;++a)for(var s=0,u=0;s<r+n;++s)s<r&&(u+=t.data[s+a*r]),s>=n&&(s>=o&&(u-=t.data[s-o+a*r]),e.data[s-n+a*r]=u/Math.min(s+1,r-1+o-s,o))}function el(t,e,n){for(var r=t.width,i=t.height,o=1+(n<<1),a=0;a<r;++a)for(var s=0,u=0;s<i+n;++s)s<i&&(u+=t.data[a+s*r]),s>=n&&(s>=o&&(u-=t.data[a+(s-o)*r]),e.data[a+(s-n)*r]=u/Math.min(s+1,i-1+o-s,o))}function nl(t){return t[0]}function rl(t){return t[1]}function il(){return 1}var ol=function(){var t=nl,e=rl,n=il,r=960,i=500,o=20,a=2,s=3*o,u=r+2*s>>a,c=i+2*s>>a,l=Yc(20);function f(r){var i=new Float32Array(u*c),f=new Float32Array(u*c);r.forEach(function(r,o,l){var f=+t(r,o,l)+s>>a,d=+e(r,o,l)+s>>a,_=+n(r,o,l);f>=0&&f<u&&d>=0&&d<c&&(i[f+d*u]+=_)}),tl({width:u,height:c,data:i},{width:u,height:c,data:f},o>>a),el({width:u,height:c,data:f},{width:u,height:c,data:i},o>>a),tl({width:u,height:c,data:i},{width:u,height:c,data:f},o>>a),el({width:u,height:c,data:f},{width:u,height:c,data:i},o>>a),tl({width:u,height:c,data:i},{width:u,height:c,data:f},o>>a),el({width:u,height:c,data:f},{width:u,height:c,data:i},o>>a);var _=l(i);if(!Array.isArray(_)){var h=hn(i);_=un(0,h,_),(_=en(0,Math.floor(h/_)*_,_)).shift()}return Qc().thresholds(_).size([u,c])(i).map(d)}function d(t){return t.value*=Math.pow(2,-2*a),t.coordinates.forEach(_),t}function _(t){t.forEach(h)}function h(t){t.forEach(p)}function p(t){t[0]=t[0]*Math.pow(2,a)-s,t[1]=t[1]*Math.pow(2,a)-s}function g(){return u=r+2*(s=3*o)>>a,c=i+2*s>>a,f}return f.x=function(e){return arguments.length?(t="function"==typeof e?e:Yc(+e),f):t},f.y=function(t){return arguments.length?(e="function"==typeof t?t:Yc(+t),f):e},f.weight=function(t){return arguments.length?(n="function"==typeof t?t:Yc(+t),f):n},f.size=function(t){if(!arguments.length)return[r,i];var e=Math.ceil(t[0]),n=Math.ceil(t[1]);if(!(e>=0||e>=0))throw new Error("invalid size");return r=e,i=n,g()},f.cellSize=function(t){if(!arguments.length)return 1<<a;if(!((t=+t)>=1))throw new Error("invalid cell size");return a=Math.floor(Math.log(t)/Math.LN2),g()},f.thresholds=function(t){return arguments.length?(l="function"==typeof t?t:Array.isArray(t)?Yc(Hc.call(t)):Yc(t),f):l},f.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),g()},f},al={},sl={},ul=34,cl=10,ll=13;function fl(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function dl(t){var e=Object.create(null),n=[];return t.forEach(function(t){for(var r in t)r in e||n.push(e[r]=r)}),n}function _l(t,e){var n=t+"",r=n.length;return r<e?new Array(e-r+1).join(0)+n:n}function hl(t){var e,n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((e=t.getUTCFullYear())<0?"-"+_l(-e,6):e>9999?"+"+_l(e,6):_l(e,4))+"-"+_l(t.getUTCMonth()+1,2)+"-"+_l(t.getUTCDate(),2)+(o?"T"+_l(n,2)+":"+_l(r,2)+":"+_l(i,2)+"."+_l(o,3)+"Z":i?"T"+_l(n,2)+":"+_l(r,2)+":"+_l(i,2)+"Z":r||n?"T"+_l(n,2)+":"+_l(r,2)+"Z":"")}var pl=function(t){var e=new RegExp('["'+t+"\n\r]"),n=t.charCodeAt(0);function r(t,e){var r,i=[],o=t.length,a=0,s=0,u=o<=0,c=!1;function l(){if(u)return sl;if(c)return c=!1,al;var e,r,i=a;if(t.charCodeAt(i)===ul){for(;a++<o&&t.charCodeAt(a)!==ul||t.charCodeAt(++a)===ul;);return(e=a)>=o?u=!0:(r=t.charCodeAt(a++))===cl?c=!0:r===ll&&(c=!0,t.charCodeAt(a)===cl&&++a),t.slice(i+1,e-1).replace(/""/g,'"')}for(;a<o;){if((r=t.charCodeAt(e=a++))===cl)c=!0;else if(r===ll)c=!0,t.charCodeAt(a)===cl&&++a;else if(r!==n)continue;return t.slice(i,e)}return u=!0,t.slice(i,o)}for(t.charCodeAt(o-1)===cl&&--o,t.charCodeAt(o-1)===ll&&--o;(r=l())!==sl;){for(var f=[];r!==al&&r!==sl;)f.push(r),r=l();e&&null==(f=e(f,s++))||i.push(f)}return i}function i(e,n){return e.map(function(e){return n.map(function(t){return a(e[t])}).join(t)})}function o(e){return e.map(a).join(t)}function a(t){return null==t?"":t instanceof Date?hl(t):e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,e){var n,i,o=r(t,function(t,r){if(n)return n(t,r-1);i=t,n=e?function(t,e){var n=fl(t);return function(r,i){return e(n(r),i,t)}}(t,e):fl(t)});return o.columns=i||[],o},parseRows:r,format:function(e,n){return null==n&&(n=dl(e)),[n.map(a).join(t)].concat(i(e,n)).join("\n")},formatBody:function(t,e){return null==e&&(e=dl(t)),i(t,e).join("\n")},formatRows:function(t){return t.map(o).join("\n")}}},gl=pl(","),vl=gl.parse,yl=gl.parseRows,ml=gl.format,bl=gl.formatBody,xl=gl.formatRows,wl=pl("\t"),El=wl.parse,kl=wl.parseRows,Ml=wl.format,Tl=wl.formatBody,Al=wl.formatRows;function Ol(t){for(var e in t){var n,r=t[e].trim();if(r)if("true"===r)r=!0;else if("false"===r)r=!1;else if("NaN"===r)r=NaN;else if(isNaN(n=+r)){if(!/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/.test(r))continue;r=new Date(r)}else r=n;else r=null;t[e]=r}return t}function Cl(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var Sl=function(t,e){return fetch(t,e).then(Cl)};function Dl(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var Pl=function(t,e){return fetch(t,e).then(Dl)};function Il(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Nl=function(t,e){return fetch(t,e).then(Il)};function Rl(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=void 0),Nl(e,n).then(function(e){return t(e,r)})}}function Ll(t,e,n,r){3===arguments.length&&"function"==typeof n&&(r=n,n=void 0);var i=pl(t);return Nl(e,n).then(function(t){return i.parse(t,r)})}var jl=Rl(vl),Bl=Rl(El),Ul=function(t,e){return new Promise(function(n,r){var i=new Image;for(var o in e)i[o]=e[o];i.onerror=r,i.onload=function(){n(i)},i.src=t})};function ql(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.json()}var zl=function(t,e){return fetch(t,e).then(ql)};function Wl(t){return function(e,n){return Nl(e,n).then(function(e){return(new DOMParser).parseFromString(e,t)})}}var $l=Wl("application/xml"),Hl=Wl("text/html"),Fl=Wl("image/svg+xml"),Kl=function(t,e){var n;function r(){var r,i,o=n.length,a=0,s=0;for(r=0;r<o;++r)a+=(i=n[r]).x,s+=i.y;for(a=a/o-t,s=s/o-e,r=0;r<o;++r)(i=n[r]).x-=a,i.y-=s}return null==t&&(t=0),null==e&&(e=0),r.initialize=function(t){n=t},r.x=function(e){return arguments.length?(t=+e,r):t},r.y=function(t){return arguments.length?(e=+t,r):e},r},Yl=function(t){return function(){return t}},Gl=function(){return 1e-6*(Math.random()-.5)};r(121);function Xl(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,c,l,f,d,_=t._root,h={data:r},p=t._x0,g=t._y0,v=t._x1,y=t._y1;if(!_)return t._root=h,t;for(;_.length;)if((c=e>=(o=(p+v)/2))?p=o:v=o,(l=n>=(a=(g+y)/2))?g=a:y=a,i=_,!(_=_[f=l<<1|c]))return i[f]=h,t;if(s=+t._x.call(null,_.data),u=+t._y.call(null,_.data),e===s&&n===u)return h.next=_,i?i[f]=h:t._root=h,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e>=(o=(p+v)/2))?p=o:v=o,(l=n>=(a=(g+y)/2))?g=a:y=a}while((f=l<<1|c)==(d=(u>=a)<<1|s>=o));return i[d]=_,i[f]=h,t}var Vl=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i};function Jl(t){return t[0]}function Zl(t){return t[1]}function Ql(t,e,n){var r=new tf(null==e?Jl:e,null==n?Zl:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function tf(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function ef(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var nf=Ql.prototype=tf.prototype;function rf(t){return t.x+t.vx}function of(t){return t.y+t.vy}nf.copy=function(){var t,e,n=new tf(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=ef(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=ef(e));return n},nf.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Xl(this.cover(e,n),e,n,t)},nf.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,c=1/0,l=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>l&&(l=r),i<c&&(c=i),i>f&&(f=i));if(u>l||c>f)return this;for(this.cover(u,c).cover(l,f),n=0;n<o;++n)Xl(this,a[n],s[n],t[n]);return this},nf.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{for(var a,s,u=i-n,c=this._root;n>t||t>=i||r>e||e>=o;)switch(s=(e<r)<<1|t<n,(a=new Array(4))[s]=c,c=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u}this._root&&this._root.length&&(this._root=c)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},nf.data=function(){var t=[];return this.visit(function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)}),t},nf.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},nf.find=function(t,e,n){var r,i,o,a,s,u,c,l=this._x0,f=this._y0,d=this._x1,_=this._y1,h=[],p=this._root;for(p&&h.push(new Vl(p,l,f,d,_)),null==n?n=1/0:(l=t-n,f=e-n,d=t+n,_=e+n,n*=n);u=h.pop();)if(!(!(p=u.node)||(i=u.x0)>d||(o=u.y0)>_||(a=u.x1)<l||(s=u.y1)<f))if(p.length){var g=(i+a)/2,v=(o+s)/2;h.push(new Vl(p[3],g,v,a,s),new Vl(p[2],i,v,g,s),new Vl(p[1],g,o,a,v),new Vl(p[0],i,o,g,v)),(c=(e>=v)<<1|t>=g)&&(u=h[h.length-1],h[h.length-1]=h[h.length-1-c],h[h.length-1-c]=u)}else{var y=t-+this._x.call(null,p.data),m=e-+this._y.call(null,p.data),b=y*y+m*m;if(b<n){var x=Math.sqrt(n=b);l=t-x,f=e-x,d=t+x,_=e+x,r=p.data}}return r},nf.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,c,l,f,d,_=this._root,h=this._x0,p=this._y0,g=this._x1,v=this._y1;if(!_)return this;if(_.length)for(;;){if((c=o>=(s=(h+g)/2))?h=s:g=s,(l=a>=(u=(p+v)/2))?p=u:v=u,e=_,!(_=_[f=l<<1|c]))return this;if(!_.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,d=f)}for(;_.data!==t;)if(r=_,!(_=_.next))return this;return(i=_.next)&&delete _.next,r?(i?r.next=i:delete r.next,this):e?(i?e[f]=i:delete e[f],(_=e[0]||e[1]||e[2]||e[3])&&_===(e[3]||e[2]||e[1]||e[0])&&!_.length&&(n?n[d]=_:this._root=_),this):(this._root=i,this)},nf.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},nf.root=function(){return this._root},nf.size=function(){var t=0;return this.visit(function(e){if(!e.length)do{++t}while(e=e.next)}),t},nf.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new Vl(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var c=(r+o)/2,l=(i+a)/2;(n=u[3])&&s.push(new Vl(n,c,l,o,a)),(n=u[2])&&s.push(new Vl(n,r,l,c,a)),(n=u[1])&&s.push(new Vl(n,c,i,o,l)),(n=u[0])&&s.push(new Vl(n,r,i,c,l))}return this},nf.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Vl(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,c=e.y1,l=(a+u)/2,f=(s+c)/2;(o=i[0])&&n.push(new Vl(o,a,s,l,f)),(o=i[1])&&n.push(new Vl(o,l,s,u,f)),(o=i[2])&&n.push(new Vl(o,a,f,l,c)),(o=i[3])&&n.push(new Vl(o,l,f,u,c))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},nf.x=function(t){return arguments.length?(this._x=t,this):this._x},nf.y=function(t){return arguments.length?(this._y=t,this):this._y};var af=function(t){var e,n,r=1,i=1;function o(){for(var t,o,s,u,c,l,f,d=e.length,_=0;_<i;++_)for(o=Ql(e,rf,of).visitAfter(a),t=0;t<d;++t)s=e[t],l=n[s.index],f=l*l,u=s.x+s.vx,c=s.y+s.vy,o.visit(h);function h(t,e,n,i,o){var a=t.data,d=t.r,_=l+d;if(!a)return e>u+_||i<u-_||n>c+_||o<c-_;if(a.index>s.index){var h=u-a.x-a.vx,p=c-a.y-a.vy,g=h*h+p*p;g<_*_&&(0===h&&(g+=(h=Gl())*h),0===p&&(g+=(p=Gl())*p),g=(_-(g=Math.sqrt(g)))/g*r,s.vx+=(h*=g)*(_=(d*=d)/(f+d)),s.vy+=(p*=g)*_,a.vx-=h*(_=1-_),a.vy-=p*_)}}}function a(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function s(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!=typeof t&&(t=Yl(null==t?1:+t)),o.initialize=function(t){e=t,s()},o.iterations=function(t){return arguments.length?(i=+t,o):i},o.strength=function(t){return arguments.length?(r=+t,o):r},o.radius=function(e){return arguments.length?(t="function"==typeof e?e:Yl(+e),s(),o):t},o};function sf(t){return(sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uf(t){return t.index}function cf(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}var lf=function(t){var e,n,r,i,o,a=uf,s=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},u=Yl(30),c=1;function l(r){for(var i=0,a=t.length;i<c;++i)for(var s,u,l,f,d,_,h,p=0;p<a;++p)u=(s=t[p]).source,f=(l=s.target).x+l.vx-u.x-u.vx||Gl(),d=l.y+l.vy-u.y-u.vy||Gl(),f*=_=((_=Math.sqrt(f*f+d*d))-n[p])/_*r*e[p],d*=_,l.vx-=f*(h=o[p]),l.vy-=d*h,u.vx+=f*(h=1-h),u.vy+=d*h}function f(){if(r){var s,u,c=r.length,l=t.length,f=Dc(r,a);for(s=0,i=new Array(c);s<l;++s)(u=t[s]).index=s,"object"!==sf(u.source)&&(u.source=cf(f,u.source)),"object"!==sf(u.target)&&(u.target=cf(f,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(s=0,o=new Array(l);s<l;++s)u=t[s],o[s]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(l),d(),n=new Array(l),_()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+s(t[n],n,t)}function _(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+u(t[e],e,t)}return null==t&&(t=[]),l.initialize=function(t){r=t,f()},l.links=function(e){return arguments.length?(t=e,f(),l):t},l.id=function(t){return arguments.length?(a=t,l):a},l.iterations=function(t){return arguments.length?(c=+t,l):c},l.strength=function(t){return arguments.length?(s="function"==typeof t?t:Yl(+t),d(),l):s},l.distance=function(t){return arguments.length?(u="function"==typeof t?t:Yl(+t),_(),l):u},l};function ff(t){return t.x}function df(t){return t.y}var _f=10,hf=Math.PI*(3-Math.sqrt(5)),pf=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=Dc(),u=Xa(l),c=Xn("tick","end");function l(){f(),c.call("tick",e),n<r&&(u.stop(),c.call("end",e))}function f(r){var u,c,l=t.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(o-n)*i,s.each(function(t){t(n)}),u=0;u<l;++u)null==(c=t[u]).fx?c.x+=c.vx*=a:(c.x=c.fx,c.vx=0),null==c.fy?c.y+=c.vy*=a:(c.y=c.fy,c.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if((e=t[n]).index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=_f*Math.sqrt(n),o=n*hf;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function _(e){return e.initialize&&e.initialize(t),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return u.restart(l),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.each(_),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},force:function(t,n){return arguments.length>1?(null==n?s.remove(t):s.set(t,_(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,u,c=0,l=t.length;for(null==r?r=1/0:r*=r,c=0;c<l;++c)(a=(i=e-(s=t[c]).x)*i+(o=n-s.y)*o)<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(c.on(t,n),e):c.on(t)}}},gf=function(){var t,e,n,r,i=Yl(-30),o=1,a=1/0,s=.81;function u(r){var i,o=t.length,a=Ql(t,ff,df).visitAfter(l);for(n=r,i=0;i<o;++i)e=t[i],a.visit(f)}function c(){if(t){var e,n,o=t.length;for(r=new Array(o),e=0;e<o;++e)n=t[e],r[n.index]=+i(n,e,t)}}function l(t){var e,n,i,o,a,s=0,u=0;if(t.length){for(i=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,i+=n*e.x,o+=n*e.y);t.x=i/u,t.y=o/u}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=r[e.data.index]}while(e=e.next)}t.value=s}function f(t,i,u,c){if(!t.value)return!0;var l=t.x-e.x,f=t.y-e.y,d=c-i,_=l*l+f*f;if(d*d/s<_)return _<a&&(0===l&&(_+=(l=Gl())*l),0===f&&(_+=(f=Gl())*f),_<o&&(_=Math.sqrt(o*_)),e.vx+=l*t.value*n/_,e.vy+=f*t.value*n/_),!0;if(!(t.length||_>=a)){(t.data!==e||t.next)&&(0===l&&(_+=(l=Gl())*l),0===f&&(_+=(f=Gl())*f),_<o&&(_=Math.sqrt(o*_)));do{t.data!==e&&(d=r[t.data.index]*n/_,e.vx+=l*d,e.vy+=f*d)}while(t=t.next)}}return u.initialize=function(e){t=e,c()},u.strength=function(t){return arguments.length?(i="function"==typeof t?t:Yl(+t),c(),u):i},u.distanceMin=function(t){return arguments.length?(o=t*t,u):Math.sqrt(o)},u.distanceMax=function(t){return arguments.length?(a=t*t,u):Math.sqrt(a)},u.theta=function(t){return arguments.length?(s=t*t,u):Math.sqrt(s)},u},vf=function(t,e,n){var r,i,o,a=Yl(.1);function s(t){for(var a=0,s=r.length;a<s;++a){var u=r[a],c=u.x-e||1e-6,l=u.y-n||1e-6,f=Math.sqrt(c*c+l*l),d=(o[a]-f)*i[a]*t/f;u.vx+=c*d,u.vy+=l*d}}function u(){if(r){var e,n=r.length;for(i=new Array(n),o=new Array(n),e=0;e<n;++e)o[e]=+t(r[e],e,r),i[e]=isNaN(o[e])?0:+a(r[e],e,r)}}return"function"!=typeof t&&(t=Yl(+t)),null==e&&(e=0),null==n&&(n=0),s.initialize=function(t){r=t,u()},s.strength=function(t){return arguments.length?(a="function"==typeof t?t:Yl(+t),u(),s):a},s.radius=function(e){return arguments.length?(t="function"==typeof e?e:Yl(+e),u(),s):t},s.x=function(t){return arguments.length?(e=+t,s):e},s.y=function(t){return arguments.length?(n=+t,s):n},s},yf=function(t){var e,n,r,i=Yl(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vx+=(r[o]-i.x)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Yl(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Yl(+t),a(),o):i},o.x=function(e){return arguments.length?(t="function"==typeof e?e:Yl(+e),a(),o):t},o},mf=function(t){var e,n,r,i=Yl(.1);function o(t){for(var i,o=0,a=e.length;o<a;++o)(i=e[o]).vy+=(r[o]-i.y)*n[o]*t}function a(){if(e){var o,a=e.length;for(n=new Array(a),r=new Array(a),o=0;o<a;++o)n[o]=isNaN(r[o]=+t(e[o],o,e))?0:+i(e[o],o,e)}}return"function"!=typeof t&&(t=Yl(null==t?0:+t)),o.initialize=function(t){e=t,a()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:Yl(+t),a(),o):i},o.y=function(e){return arguments.length?(t="function"==typeof e?e:Yl(+e),a(),o):t},o},bf=function(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]},xf=function(t){return(t=bf(Math.abs(t)))?t[1]:NaN},wf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ef(t){return new kf(t)}function kf(t){if(!(e=wf.exec(t)))throw new Error("invalid format: "+t);var e;this.fill=e[1]||" ",this.align=e[2]||">",this.sign=e[3]||"-",this.symbol=e[4]||"",this.zero=!!e[5],this.width=e[6]&&+e[6],this.comma=!!e[7],this.precision=e[8]&&+e[8].slice(1),this.trim=!!e[9],this.type=e[10]||""}Ef.prototype=kf.prototype,kf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Mf,Tf,Af,Of,Cf=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(i>0){if(!+t[r])break t;i=0}}return i>0?t.slice(0,i)+t.slice(e+1):t},Sf=(r(148),function(t,e){var n=bf(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}),Df={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Sf(100*t,e)},r:Sf,s:function(t,e){var n=bf(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Mf=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bf(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Pf=function(t){return t},If=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],Nf=function(t){var e,n,r=t.grouping&&t.thousands?(e=t.grouping,n=t.thousands,function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}):Pf,i=t.currency,o=t.decimal,a=t.numerals?function(t){return function(e){return e.replace(/[0-9]/g,function(e){return t[+e]})}}(t.numerals):Pf,s=t.percent||"%";function u(t){var e=(t=Ef(t)).fill,n=t.align,u=t.sign,c=t.symbol,l=t.zero,f=t.width,d=t.comma,_=t.precision,h=t.trim,p=t.type;"n"===p?(d=!0,p="g"):Df[p]||(null==_&&(_=12),h=!0,p="g"),(l||"0"===e&&"="===n)&&(l=!0,e="0",n="=");var g="$"===c?i[0]:"#"===c&&/[boxX]/.test(p)?"0"+p.toLowerCase():"",v="$"===c?i[1]:/[%p]/.test(p)?s:"",y=Df[p],m=/[defgprs%]/.test(p);function b(t){var i,s,c,b=g,x=v;if("c"===p)x=y(t)+x,t="";else{var w=(t=+t)<0;if(t=y(Math.abs(t),_),h&&(t=Cf(t)),w&&0==+t&&(w=!1),b=(w?"("===u?u:"-":"-"===u||"("===u?"":u)+b,x=("s"===p?If[8+Mf/3]:"")+x+(w&&"("===u?")":""),m)for(i=-1,s=t.length;++i<s;)if(48>(c=t.charCodeAt(i))||c>57){x=(46===c?o+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}d&&!l&&(t=r(t,1/0));var E=b.length+t.length+x.length,k=E<f?new Array(f-E+1).join(e):"";switch(d&&l&&(t=r(k+t,k.length?f-x.length:1/0),k=""),n){case"<":t=b+t+x+k;break;case"=":t=b+k+t+x;break;case"^":t=k.slice(0,E=k.length>>1)+b+t+x+k.slice(E);break;default:t=k+b+t+x}return a(t)}return _=null==_?6:/[gprs]/.test(p)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),b.toString=function(){return t+""},b}return{format:u,formatPrefix:function(t,e){var n=u(((t=Ef(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(xf(e)/3))),i=Math.pow(10,-r),o=If[8+r/3];return function(t){return n(i*t)+o}}}};function Rf(t){return Tf=Nf(t),Af=Tf.format,Of=Tf.formatPrefix,Tf}Rf({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Lf=function(t){return Math.max(0,-xf(Math.abs(t)))},jf=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(xf(e)/3)))-xf(Math.abs(t)))},Bf=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xf(e)-xf(t))+1},Uf=function(){return new qf};function qf(){this.reset()}qf.prototype={constructor:qf,reset:function(){this.s=this.t=0},add:function(t){Wf(zf,t,this.t),Wf(this,zf.s,this.s),this.s?this.t+=zf.t:this.s=zf.t},valueOf:function(){return this.s}};var zf=new qf;function Wf(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}r(163);var $f=1e-6,Hf=1e-12,Ff=Math.PI,Kf=Ff/2,Yf=Ff/4,Gf=2*Ff,Xf=180/Ff,Vf=Ff/180,Jf=Math.abs,Zf=Math.atan,Qf=Math.atan2,td=Math.cos,ed=Math.ceil,nd=Math.exp,rd=(Math.floor,Math.log),id=Math.pow,od=Math.sin,ad=Math.sign||function(t){return t>0?1:t<0?-1:0},sd=Math.sqrt,ud=Math.tan;function cd(t){return t>1?0:t<-1?Ff:Math.acos(t)}function ld(t){return t>1?Kf:t<-1?-Kf:Math.asin(t)}function fd(t){return(t=od(t/2))*t}function dd(){}function _d(t,e){t&&pd.hasOwnProperty(t.type)&&pd[t.type](t,e)}var hd={Feature:function(t,e){_d(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)_d(n[r].geometry,e)}},pd={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){gd(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)gd(n[r],e,0)},Polygon:function(t,e){vd(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)vd(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)_d(n[r],e)}};function gd(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function vd(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)gd(t[n],e,1);e.polygonEnd()}var yd,md,bd,xd,wd,Ed=function(t,e){t&&hd.hasOwnProperty(t.type)?hd[t.type](t,e):_d(t,e)},kd=Uf(),Md=Uf(),Td={point:dd,lineStart:dd,lineEnd:dd,polygonStart:function(){kd.reset(),Td.lineStart=Ad,Td.lineEnd=Od},polygonEnd:function(){var t=+kd;Md.add(t<0?Gf+t:t),this.lineStart=this.lineEnd=this.point=dd},sphere:function(){Md.add(Gf)}};function Ad(){Td.point=Cd}function Od(){Sd(yd,md)}function Cd(t,e){Td.point=Sd,yd=t,md=e,bd=t*=Vf,xd=td(e=(e*=Vf)/2+Yf),wd=od(e)}function Sd(t,e){var n=(t*=Vf)-bd,r=n>=0?1:-1,i=r*n,o=td(e=(e*=Vf)/2+Yf),a=od(e),s=wd*a,u=xd*o+s*td(i),c=s*r*od(i);kd.add(Qf(c,u)),bd=t,xd=o,wd=a}var Dd=function(t){return Md.reset(),Ed(t,Td),2*Md};function Pd(t){return[Qf(t[1],t[0]),ld(t[2])]}function Id(t){var e=t[0],n=t[1],r=td(n);return[r*td(e),r*od(e),od(n)]}function Nd(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function Rd(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Ld(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function jd(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Bd(t){var e=sd(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var Ud,qd,zd,Wd,$d,Hd,Fd,Kd,Yd,Gd,Xd=Uf(),Vd={point:Jd,lineStart:Qd,lineEnd:t_,polygonStart:function(){Vd.point=e_,Vd.lineStart=n_,Vd.lineEnd=r_,Xd.reset(),Td.polygonStart()},polygonEnd:function(){Td.polygonEnd(),Vd.point=Jd,Vd.lineStart=Qd,Vd.lineEnd=t_,kd<0?(Ud=-(zd=180),qd=-(Wd=90)):Xd>$f?Wd=90:Xd<-$f&&(qd=-90),Gd[0]=Ud,Gd[1]=zd},sphere:function(){Ud=-(zd=180),qd=-(Wd=90)}};function Jd(t,e){Yd.push(Gd=[Ud=t,zd=t]),e<qd&&(qd=e),e>Wd&&(Wd=e)}function Zd(t,e){var n=Id([t*Vf,e*Vf]);if(Kd){var r=Rd(Kd,n),i=Rd([r[1],-r[0],0],r);Bd(i),i=Pd(i);var o,a=t-$d,s=a>0?1:-1,u=i[0]*Xf*s,c=Jf(a)>180;c^(s*$d<u&&u<s*t)?(o=i[1]*Xf)>Wd&&(Wd=o):c^(s*$d<(u=(u+360)%360-180)&&u<s*t)?(o=-i[1]*Xf)<qd&&(qd=o):(e<qd&&(qd=e),e>Wd&&(Wd=e)),c?t<$d?i_(Ud,t)>i_(Ud,zd)&&(zd=t):i_(t,zd)>i_(Ud,zd)&&(Ud=t):zd>=Ud?(t<Ud&&(Ud=t),t>zd&&(zd=t)):t>$d?i_(Ud,t)>i_(Ud,zd)&&(zd=t):i_(t,zd)>i_(Ud,zd)&&(Ud=t)}else Yd.push(Gd=[Ud=t,zd=t]);e<qd&&(qd=e),e>Wd&&(Wd=e),Kd=n,$d=t}function Qd(){Vd.point=Zd}function t_(){Gd[0]=Ud,Gd[1]=zd,Vd.point=Jd,Kd=null}function e_(t,e){if(Kd){var n=t-$d;Xd.add(Jf(n)>180?n+(n>0?360:-360):n)}else Hd=t,Fd=e;Td.point(t,e),Zd(t,e)}function n_(){Td.lineStart()}function r_(){e_(Hd,Fd),Td.lineEnd(),Jf(Xd)>$f&&(Ud=-(zd=180)),Gd[0]=Ud,Gd[1]=zd,Kd=null}function i_(t,e){return(e-=t)<0?e+360:e}function o_(t,e){return t[0]-e[0]}function a_(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var s_,u_,c_,l_,f_,d_,__,h_,p_,g_,v_,y_,m_,b_,x_,w_,E_=function(t){var e,n,r,i,o,a,s;if(Wd=zd=-(Ud=qd=1/0),Yd=[],Ed(t,Vd),n=Yd.length){for(Yd.sort(o_),e=1,o=[r=Yd[0]];e<n;++e)a_(r,(i=Yd[e])[0])||a_(r,i[1])?(i_(r[0],i[1])>i_(r[0],r[1])&&(r[1]=i[1]),i_(i[0],r[1])>i_(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=i_(r[1],i[0]))>a&&(a=s,Ud=i[0],zd=r[1])}return Yd=Gd=null,Ud===1/0||qd===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ud,qd],[zd,Wd]]},k_={sphere:dd,point:M_,lineStart:A_,lineEnd:S_,polygonStart:function(){k_.lineStart=D_,k_.lineEnd=P_},polygonEnd:function(){k_.lineStart=A_,k_.lineEnd=S_}};function M_(t,e){t*=Vf;var n=td(e*=Vf);T_(n*td(t),n*od(t),od(e))}function T_(t,e,n){c_+=(t-c_)/++s_,l_+=(e-l_)/s_,f_+=(n-f_)/s_}function A_(){k_.point=O_}function O_(t,e){t*=Vf;var n=td(e*=Vf);b_=n*td(t),x_=n*od(t),w_=od(e),k_.point=C_,T_(b_,x_,w_)}function C_(t,e){t*=Vf;var n=td(e*=Vf),r=n*td(t),i=n*od(t),o=od(e),a=Qf(sd((a=x_*o-w_*i)*a+(a=w_*r-b_*o)*a+(a=b_*i-x_*r)*a),b_*r+x_*i+w_*o);u_+=a,d_+=a*(b_+(b_=r)),__+=a*(x_+(x_=i)),h_+=a*(w_+(w_=o)),T_(b_,x_,w_)}function S_(){k_.point=M_}function D_(){k_.point=I_}function P_(){N_(y_,m_),k_.point=M_}function I_(t,e){y_=t,m_=e,t*=Vf,e*=Vf,k_.point=N_;var n=td(e);b_=n*td(t),x_=n*od(t),w_=od(e),T_(b_,x_,w_)}function N_(t,e){t*=Vf;var n=td(e*=Vf),r=n*td(t),i=n*od(t),o=od(e),a=x_*o-w_*i,s=w_*r-b_*o,u=b_*i-x_*r,c=sd(a*a+s*s+u*u),l=ld(c),f=c&&-l/c;p_+=f*a,g_+=f*s,v_+=f*u,u_+=l,d_+=l*(b_+(b_=r)),__+=l*(x_+(x_=i)),h_+=l*(w_+(w_=o)),T_(b_,x_,w_)}var R_=function(t){s_=u_=c_=l_=f_=d_=__=h_=p_=g_=v_=0,Ed(t,k_);var e=p_,n=g_,r=v_,i=e*e+n*n+r*r;return i<Hf&&(e=d_,n=__,r=h_,u_<$f&&(e=c_,n=l_,r=f_),(i=e*e+n*n+r*r)<Hf)?[NaN,NaN]:[Qf(n,e)*Xf,ld(r/sd(i))*Xf]},L_=function(t){return function(){return t}},j_=function(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n};function B_(t,e){return[Jf(t)>Ff?t+Math.round(-t/Gf)*Gf:t,e]}function U_(t,e,n){return(t%=Gf)?e||n?j_(z_(t),W_(e,n)):z_(t):e||n?W_(e,n):B_}function q_(t){return function(e,n){return[(e+=t)>Ff?e-Gf:e<-Ff?e+Gf:e,n]}}function z_(t){var e=q_(t);return e.invert=q_(-t),e}function W_(t,e){var n=td(t),r=od(t),i=td(e),o=od(e);function a(t,e){var a=td(e),s=td(t)*a,u=od(t)*a,c=od(e),l=c*n+s*r;return[Qf(u*i-l*o,s*n-c*r),ld(l*i+u*o)]}return a.invert=function(t,e){var a=td(e),s=td(t)*a,u=od(t)*a,c=od(e),l=c*i-u*o;return[Qf(u*i+c*o,s*n+l*r),ld(l*n-s*r)]},a}B_.invert=B_;var $_=function(t){function e(e){return(e=t(e[0]*Vf,e[1]*Vf))[0]*=Xf,e[1]*=Xf,e}return t=U_(t[0]*Vf,t[1]*Vf,t.length>2?t[2]*Vf:0),e.invert=function(e){return(e=t.invert(e[0]*Vf,e[1]*Vf))[0]*=Xf,e[1]*=Xf,e},e};function H_(t,e,n,r,i,o){if(n){var a=td(e),s=od(e),u=r*n;null==i?(i=e+r*Gf,o=e-u/2):(i=F_(a,i),o=F_(a,o),(r>0?i<o:i>o)&&(i+=r*Gf));for(var c,l=i;r>0?l>o:l<o;l-=u)c=Pd([a,-s*td(l),-s*od(l)]),t.point(c[0],c[1])}}function F_(t,e){(e=Id(e))[0]-=t,Bd(e);var n=cd(-e[1]);return((-e[2]<0?-n:n)+Gf-$f)%Gf}var K_=function(){var t,e,n=L_([0,0]),r=L_(90),i=L_(6),o={point:function(n,r){t.push(n=e(n,r)),n[0]*=Xf,n[1]*=Xf}};function a(){var a=n.apply(this,arguments),s=r.apply(this,arguments)*Vf,u=i.apply(this,arguments)*Vf;return t=[],e=U_(-a[0]*Vf,-a[1]*Vf,0).invert,H_(o,s,u,1),a={type:"Polygon",coordinates:[t]},t=e=null,a}return a.center=function(t){return arguments.length?(n="function"==typeof t?t:L_([+t[0],+t[1]]),a):n},a.radius=function(t){return arguments.length?(r="function"==typeof t?t:L_(+t),a):r},a.precision=function(t){return arguments.length?(i="function"==typeof t?t:L_(+t),a):i},a},Y_=function(){var t,e=[];return{point:function(e,n){t.push([e,n])},lineStart:function(){e.push(t=[])},lineEnd:dd,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}},G_=function(t,e){return Jf(t[0]-e[0])<$f&&Jf(t[1]-e[1])<$f};function X_(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}var V_=function(t,e,n,r,i){var o,a,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],a=t[e];if(G_(r,a)){for(i.lineStart(),o=0;o<e;++o)i.point((r=t[o])[0],r[1]);i.lineEnd()}else s.push(n=new X_(r,t,null,!0)),u.push(n.o=new X_(r,null,n,!1)),s.push(n=new X_(a,t,null,!1)),u.push(n.o=new X_(a,null,n,!0))}}),s.length){for(u.sort(e),J_(s),J_(u),o=0,a=u.length;o<a;++o)u[o].e=n=!n;for(var c,l,f=s[0];;){for(var d=f,_=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(_)for(o=0,a=c.length;o<a;++o)i.point((l=c[o])[0],l[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(_)for(c=d.p.z,o=c.length-1;o>=0;--o)i.point((l=c[o])[0],l[1]);else r(d.x,d.p.x,-1,i);d=d.p}c=(d=d.o).z,_=!_}while(!d.v);i.lineEnd()}}};function J_(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}var Z_=Uf();function Q_(t){return Jf(t[0])<=Ff?t[0]:ad(t[0])*((Jf(t[0])+Ff)%Gf-Ff)}var th=function(t,e){var n=Q_(e),r=e[1],i=od(r),o=[od(n),-td(n),0],a=0,s=0;Z_.reset(),1===i?r=Kf+$f:-1===i&&(r=-Kf-$f);for(var u=0,c=t.length;u<c;++u)if(f=(l=t[u]).length)for(var l,f,d=l[f-1],_=Q_(d),h=d[1]/2+Yf,p=od(h),g=td(h),v=0;v<f;++v,_=m,p=x,g=w,d=y){var y=l[v],m=Q_(y),b=y[1]/2+Yf,x=od(b),w=td(b),E=m-_,k=E>=0?1:-1,M=k*E,T=M>Ff,A=p*x;if(Z_.add(Qf(A*k*od(M),g*w+A*td(M))),a+=T?E+k*Gf:E,T^_>=n^m>=n){var O=Rd(Id(d),Id(y));Bd(O);var C=Rd(o,O);Bd(C);var S=(T^E>=0?-1:1)*ld(C[2]);(r>S||r===S&&(O[0]||O[1]))&&(s+=T^E>=0?1:-1)}}return(a<-$f||a<$f&&Z_<-$f)^1&s},eh=function(t,e,n,r){return function(i){var o,a,s,u=e(i),c=Y_(),l=e(c),f=!1,d={point:_,lineStart:p,lineEnd:g,polygonStart:function(){d.point=v,d.lineStart=y,d.lineEnd=m,a=[],o=[]},polygonEnd:function(){d.point=_,d.lineStart=p,d.lineEnd=g,a=vn(a);var t=th(o,r);a.length?(f||(i.polygonStart(),f=!0),V_(a,rh,t,n,i)):t&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),a=o=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function _(e,n){t(e,n)&&i.point(e,n)}function h(t,e){u.point(t,e)}function p(){d.point=h,u.lineStart()}function g(){d.point=_,u.lineEnd()}function v(t,e){s.push([t,e]),l.point(t,e)}function y(){l.lineStart(),s=[]}function m(){v(s[0][0],s[0][1]),l.lineEnd();var t,e,n,r,u=l.clean(),d=c.result(),_=d.length;if(s.pop(),o.push(s),s=null,_)if(1&u){if((e=(n=d[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),t=0;t<e;++t)i.point((r=n[t])[0],r[1]);i.lineEnd()}}else _>1&&2&u&&d.push(d.pop().concat(d.shift())),a.push(d.filter(nh))}return d}};function nh(t){return t.length>1}function rh(t,e){return((t=t.x)[0]<0?t[1]-Kf-$f:Kf-t[1])-((e=e.x)[0]<0?e[1]-Kf-$f:Kf-e[1])}var ih=eh(function(){return!0},function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ff:-Ff,u=Jf(o-n);Jf(u-Ff)<$f?(t.point(n,r=(r+a)/2>0?Kf:-Kf),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&u>=Ff&&(Jf(n-i)<$f&&(n-=i*$f),Jf(o-s)<$f&&(o-=s*$f),r=function(t,e,n,r){var i,o,a=od(t-n);return Jf(a)>$f?Zf((od(e)*(o=td(r))*od(n)-od(r)*(i=td(e))*od(t))/(i*o*a)):(e+r)/2}(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*Kf,r.point(-Ff,i),r.point(0,i),r.point(Ff,i),r.point(Ff,0),r.point(Ff,-i),r.point(0,-i),r.point(-Ff,-i),r.point(-Ff,0),r.point(-Ff,i);else if(Jf(t[0]-e[0])>$f){var o=t[0]<e[0]?Ff:-Ff;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-Ff,-Kf]);var oh=function(t){var e=td(t),n=6*Vf,r=e>0,i=Jf(e)>$f;function o(t,n){return td(t)*td(n)>e}function a(t,n,r){var i=[1,0,0],o=Rd(Id(t),Id(n)),a=Nd(o,o),s=o[0],u=a-s*s;if(!u)return!r&&t;var c=e*a/u,l=-e*s/u,f=Rd(i,o),d=jd(i,c);Ld(d,jd(o,l));var _=f,h=Nd(d,_),p=Nd(_,_),g=h*h-p*(Nd(d,d)-1);if(!(g<0)){var v=sd(g),y=jd(_,(-h-v)/p);if(Ld(y,d),y=Pd(y),!r)return y;var m,b=t[0],x=n[0],w=t[1],E=n[1];x<b&&(m=b,b=x,x=m);var k=x-b,M=Jf(k-Ff)<$f;if(!M&&E<w&&(m=w,w=E,E=m),M||k<$f?M?w+E>0^y[1]<(Jf(y[0]-b)<$f?w:E):w<=y[1]&&y[1]<=E:k>Ff^(b<=y[0]&&y[0]<=x)){var T=jd(_,(-h+v)/p);return Ld(T,d),[y,Pd(T)]}}}function s(e,n){var i=r?t:Ff-t,o=0;return e<-i?o|=1:e>i&&(o|=2),n<-i?o|=4:n>i&&(o|=8),o}return eh(o,function(t){var e,n,u,c,l;return{lineStart:function(){c=u=!1,l=1},point:function(f,d){var _,h=[f,d],p=o(f,d),g=r?p?0:s(f,d):p?s(f+(f<0?Ff:-Ff),d):0;if(!e&&(c=u=p)&&t.lineStart(),p!==u&&(!(_=a(e,h))||G_(e,_)||G_(h,_))&&(h[0]+=$f,h[1]+=$f,p=o(h[0],h[1])),p!==u)l=0,p?(t.lineStart(),_=a(h,e),t.point(_[0],_[1])):(_=a(e,h),t.point(_[0],_[1]),t.lineEnd()),e=_;else if(i&&e&&r^p){var v;g&n||!(v=a(h,e,!0))||(l=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!p||e&&G_(e,h)||t.point(h[0],h[1]),e=h,u=p,n=g},lineEnd:function(){u&&t.lineEnd(),e=null},clean:function(){return l|(c&&u)<<1}}},function(e,r,i,o){H_(o,t,n,i,e,r)},r?[0,-t]:[-Ff,t-Ff])},ah=function(t,e,n,r,i,o){var a,s=t[0],u=t[1],c=0,l=1,f=e[0]-s,d=e[1]-u;if(a=n-s,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<l&&(l=a)}else if(f>0){if(a>l)return;a>c&&(c=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(a>l)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<l&&(l=a)}if(a=r-u,d||!(a>0)){if(a/=d,d<0){if(a<c)return;a<l&&(l=a)}else if(d>0){if(a>l)return;a>c&&(c=a)}if(a=o-u,d||!(a<0)){if(a/=d,d<0){if(a>l)return;a>c&&(c=a)}else if(d>0){if(a<c)return;a<l&&(l=a)}return c>0&&(t[0]=s+c*f,t[1]=u+c*d),l<1&&(e[0]=s+l*f,e[1]=u+l*d),!0}}}}},sh=1e9,uh=-sh;function ch(t,e,n,r){function i(i,o){return t<=i&&i<=n&&e<=o&&o<=r}function o(i,o,s,c){var l=0,f=0;if(null==i||(l=a(i,s))!==(f=a(o,s))||u(i,o)<0^s>0)do{c.point(0===l||3===l?t:n,l>1?r:e)}while((l=(l+s+4)%4)!==f);else c.point(o[0],o[1])}function a(r,i){return Jf(r[0]-t)<$f?i>0?0:3:Jf(r[0]-n)<$f?i>0?2:1:Jf(r[1]-e)<$f?i>0?1:0:i>0?3:2}function s(t,e){return u(t.x,e.x)}function u(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(a){var u,c,l,f,d,_,h,p,g,v,y,m=a,b=Y_(),x={point:w,lineStart:function(){x.point=E,c&&c.push(l=[]);v=!0,g=!1,h=p=NaN},lineEnd:function(){u&&(E(f,d),_&&g&&b.rejoin(),u.push(b.result()));x.point=w,g&&m.lineEnd()},polygonStart:function(){m=b,u=[],c=[],y=!0},polygonEnd:function(){var e=function(){for(var e=0,n=0,i=c.length;n<i;++n)for(var o,a,s=c[n],u=1,l=s.length,f=s[0],d=f[0],_=f[1];u<l;++u)o=d,a=_,f=s[u],d=f[0],_=f[1],a<=r?_>r&&(d-o)*(r-a)>(_-a)*(t-o)&&++e:_<=r&&(d-o)*(r-a)<(_-a)*(t-o)&&--e;return e}(),n=y&&e,i=(u=vn(u)).length;(n||i)&&(a.polygonStart(),n&&(a.lineStart(),o(null,null,1,a),a.lineEnd()),i&&V_(u,s,e,o,a),a.polygonEnd());m=a,u=c=l=null}};function w(t,e){i(t,e)&&m.point(t,e)}function E(o,a){var s=i(o,a);if(c&&l.push([o,a]),v)f=o,d=a,_=s,v=!1,s&&(m.lineStart(),m.point(o,a));else if(s&&g)m.point(o,a);else{var u=[h=Math.max(uh,Math.min(sh,h)),p=Math.max(uh,Math.min(sh,p))],b=[o=Math.max(uh,Math.min(sh,o)),a=Math.max(uh,Math.min(sh,a))];ah(u,b,t,e,n,r)?(g||(m.lineStart(),m.point(u[0],u[1])),m.point(b[0],b[1]),s||m.lineEnd(),y=!1):s&&(m.lineStart(),m.point(o,a),y=!1)}h=o,p=a,g=s}return x}}var lh,fh,dh,_h=function(){var t,e,n,r=0,i=0,o=960,a=500;return n={stream:function(n){return t&&e===n?t:t=ch(r,i,o,a)(e=n)},extent:function(s){return arguments.length?(r=+s[0][0],i=+s[0][1],o=+s[1][0],a=+s[1][1],t=e=null,n):[[r,i],[o,a]]}}},hh=Uf(),ph={sphere:dd,point:dd,lineStart:function(){ph.point=vh,ph.lineEnd=gh},lineEnd:dd,polygonStart:dd,polygonEnd:dd};function gh(){ph.point=ph.lineEnd=dd}function vh(t,e){lh=t*=Vf,fh=od(e*=Vf),dh=td(e),ph.point=yh}function yh(t,e){t*=Vf;var n=od(e*=Vf),r=td(e),i=Jf(t-lh),o=td(i),a=r*od(i),s=dh*n-fh*r*o,u=fh*n+dh*r*o;hh.add(Qf(sd(a*a+s*s),u)),lh=t,fh=n,dh=r}var mh=function(t){return hh.reset(),Ed(t,ph),+hh},bh=[null,null],xh={type:"LineString",coordinates:bh},wh=function(t,e){return bh[0]=t,bh[1]=e,mh(xh)},Eh={Feature:function(t,e){return Mh(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Mh(n[r].geometry,e))return!0;return!1}},kh={Sphere:function(){return!0},Point:function(t,e){return Th(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Th(n[r],e))return!0;return!1},LineString:function(t,e){return Ah(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Ah(n[r],e))return!0;return!1},Polygon:function(t,e){return Oh(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Oh(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Mh(n[r],e))return!0;return!1}};function Mh(t,e){return!(!t||!kh.hasOwnProperty(t.type))&&kh[t.type](t,e)}function Th(t,e){return 0===wh(t,e)}function Ah(t,e){for(var n,r,i,o=0,a=t.length;o<a;o++){if(0===(r=wh(t[o],e)))return!0;if(o>0&&(i=wh(t[o],t[o-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<Hf*i)return!0;n=r}return!1}function Oh(t,e){return!!th(t.map(Ch),Sh(e))}function Ch(t){return(t=t.map(Sh)).pop(),t}function Sh(t){return[t[0]*Vf,t[1]*Vf]}var Dh=function(t,e){return(t&&Eh.hasOwnProperty(t.type)?Eh[t.type]:Mh)(t,e)};function Ph(t,e,n){var r=en(t,e-$f,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function Ih(t,e,n){var r=en(t,e-$f,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function Nh(){var t,e,n,r,i,o,a,s,u,c,l,f,d=10,_=d,h=90,p=360,g=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return en(ed(r/h)*h,n,h).map(l).concat(en(ed(s/p)*p,a,p).map(f)).concat(en(ed(e/d)*d,t,d).filter(function(t){return Jf(t%h)>$f}).map(u)).concat(en(ed(o/_)*_,i,_).filter(function(t){return Jf(t%p)>$f}).map(c))}return v.lines=function(){return y().map(function(t){return{type:"LineString",coordinates:t}})},v.outline=function(){return{type:"Polygon",coordinates:[l(r).concat(f(a).slice(1),l(n).reverse().slice(1),f(s).reverse().slice(1))]}},v.extent=function(t){return arguments.length?v.extentMajor(t).extentMinor(t):v.extentMinor()},v.extentMajor=function(t){return arguments.length?(r=+t[0][0],n=+t[1][0],s=+t[0][1],a=+t[1][1],r>n&&(t=r,r=n,n=t),s>a&&(t=s,s=a,a=t),v.precision(g)):[[r,s],[n,a]]},v.extentMinor=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],o=+n[0][1],i=+n[1][1],e>t&&(n=e,e=t,t=n),o>i&&(n=o,o=i,i=n),v.precision(g)):[[e,o],[t,i]]},v.step=function(t){return arguments.length?v.stepMajor(t).stepMinor(t):v.stepMinor()},v.stepMajor=function(t){return arguments.length?(h=+t[0],p=+t[1],v):[h,p]},v.stepMinor=function(t){return arguments.length?(d=+t[0],_=+t[1],v):[d,_]},v.precision=function(d){return arguments.length?(g=+d,u=Ph(o,i,90),c=Ih(e,t,g),l=Ph(s,a,90),f=Ih(r,n,g),v):g},v.extentMajor([[-180,-90+$f],[180,90-$f]]).extentMinor([[-180,-80-$f],[180,80+$f]])}function Rh(){return Nh()()}var Lh,jh,Bh,Uh,qh=function(t,e){var n=t[0]*Vf,r=t[1]*Vf,i=e[0]*Vf,o=e[1]*Vf,a=td(r),s=od(r),u=td(o),c=od(o),l=a*td(n),f=a*od(n),d=u*td(i),_=u*od(i),h=2*ld(sd(fd(o-r)+a*u*fd(i-n))),p=od(h),g=h?function(t){var e=od(t*=h)/p,n=od(h-t)/p,r=n*l+e*d,i=n*f+e*_,o=n*s+e*c;return[Qf(i,r)*Xf,Qf(o,sd(r*r+i*i))*Xf]}:function(){return[n*Xf,r*Xf]};return g.distance=h,g},zh=function(t){return t},Wh=Uf(),$h=Uf(),Hh={point:dd,lineStart:dd,lineEnd:dd,polygonStart:function(){Hh.lineStart=Fh,Hh.lineEnd=Gh},polygonEnd:function(){Hh.lineStart=Hh.lineEnd=Hh.point=dd,Wh.add(Jf($h)),$h.reset()},result:function(){var t=Wh/2;return Wh.reset(),t}};function Fh(){Hh.point=Kh}function Kh(t,e){Hh.point=Yh,Lh=Bh=t,jh=Uh=e}function Yh(t,e){$h.add(Uh*t-Bh*e),Bh=t,Uh=e}function Gh(){Yh(Lh,jh)}var Xh=Hh,Vh=1/0,Jh=Vh,Zh=-Vh,Qh=Zh;var tp,ep,np,rp,ip={point:function(t,e){t<Vh&&(Vh=t);t>Zh&&(Zh=t);e<Jh&&(Jh=e);e>Qh&&(Qh=e)},lineStart:dd,lineEnd:dd,polygonStart:dd,polygonEnd:dd,result:function(){var t=[[Vh,Jh],[Zh,Qh]];return Zh=Qh=-(Jh=Vh=1/0),t}},op=0,ap=0,sp=0,up=0,cp=0,lp=0,fp=0,dp=0,_p=0,hp={point:pp,lineStart:gp,lineEnd:mp,polygonStart:function(){hp.lineStart=bp,hp.lineEnd=xp},polygonEnd:function(){hp.point=pp,hp.lineStart=gp,hp.lineEnd=mp},result:function(){var t=_p?[fp/_p,dp/_p]:lp?[up/lp,cp/lp]:sp?[op/sp,ap/sp]:[NaN,NaN];return op=ap=sp=up=cp=lp=fp=dp=_p=0,t}};function pp(t,e){op+=t,ap+=e,++sp}function gp(){hp.point=vp}function vp(t,e){hp.point=yp,pp(np=t,rp=e)}function yp(t,e){var n=t-np,r=e-rp,i=sd(n*n+r*r);up+=i*(np+t)/2,cp+=i*(rp+e)/2,lp+=i,pp(np=t,rp=e)}function mp(){hp.point=pp}function bp(){hp.point=wp}function xp(){Ep(tp,ep)}function wp(t,e){hp.point=Ep,pp(tp=np=t,ep=rp=e)}function Ep(t,e){var n=t-np,r=e-rp,i=sd(n*n+r*r);up+=i*(np+t)/2,cp+=i*(rp+e)/2,lp+=i,fp+=(i=rp*t-np*e)*(np+t),dp+=i*(rp+e),_p+=3*i,pp(np=t,rp=e)}var kp=hp;function Mp(t){this._context=t}Mp.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,Gf)}},result:dd};var Tp,Ap,Op,Cp,Sp,Dp=Uf(),Pp={point:dd,lineStart:function(){Pp.point=Ip},lineEnd:function(){Tp&&Np(Ap,Op),Pp.point=dd},polygonStart:function(){Tp=!0},polygonEnd:function(){Tp=null},result:function(){var t=+Dp;return Dp.reset(),t}};function Ip(t,e){Pp.point=Np,Ap=Cp=t,Op=Sp=e}function Np(t,e){Cp-=t,Sp-=e,Dp.add(sd(Cp*Cp+Sp*Sp)),Cp=t,Sp=e}var Rp=Pp;function Lp(){this._string=[]}function jp(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}Lp.prototype={_radius:4.5,_circle:jp(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=jp(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Bp=function(t,e){var n,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Ed(t,n(r))),r.result()}return o.area=function(t){return Ed(t,n(Xh)),Xh.result()},o.measure=function(t){return Ed(t,n(Rp)),Rp.result()},o.bounds=function(t){return Ed(t,n(ip)),ip.result()},o.centroid=function(t){return Ed(t,n(kp)),kp.result()},o.projection=function(e){return arguments.length?(n=null==e?(t=null,zh):(t=e).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(e=null,new Lp):new Mp(e=t),"function"!=typeof i&&r.pointRadius(i),o):e},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(e)},Up=function(t){return{stream:qp(t)}};function qp(t){return function(e){var n=new zp;for(var r in t)n[r]=t[r];return n.stream=e,n}}function zp(){}function Wp(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Ed(n,t.stream(ip)),e(ip.result()),null!=r&&t.clipExtent(r),t}function $p(t,e,n){return Wp(t,function(n){var r=e[1][0]-e[0][0],i=e[1][1]-e[0][1],o=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),a=+e[0][0]+(r-o*(n[1][0]+n[0][0]))/2,s=+e[0][1]+(i-o*(n[1][1]+n[0][1]))/2;t.scale(150*o).translate([a,s])},n)}function Hp(t,e,n){return $p(t,[[0,0],e],n)}function Fp(t,e,n){return Wp(t,function(n){var r=+e,i=r/(n[1][0]-n[0][0]),o=(r-i*(n[1][0]+n[0][0]))/2,a=-i*n[0][1];t.scale(150*i).translate([o,a])},n)}function Kp(t,e,n){return Wp(t,function(n){var r=+e,i=r/(n[1][1]-n[0][1]),o=-i*n[0][0],a=(r-i*(n[1][1]+n[0][1]))/2;t.scale(150*i).translate([o,a])},n)}zp.prototype={constructor:zp,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Yp=16,Gp=td(30*Vf),Xp=function(t,e){return+e?function(t,e){function n(r,i,o,a,s,u,c,l,f,d,_,h,p,g){var v=c-r,y=l-i,m=v*v+y*y;if(m>4*e&&p--){var b=a+d,x=s+_,w=u+h,E=sd(b*b+x*x+w*w),k=ld(w/=E),M=Jf(Jf(w)-1)<$f||Jf(o-f)<$f?(o+f)/2:Qf(x,b),T=t(M,k),A=T[0],O=T[1],C=A-r,S=O-i,D=y*C-v*S;(D*D/m>e||Jf((v*C+y*S)/m-.5)>.3||a*d+s*_+u*h<Gp)&&(n(r,i,o,a,s,u,A,O,M,b/=E,x/=E,w,p,g),g.point(A,O),n(A,O,M,b,x,w,c,l,f,d,_,h,p,g))}}return function(e){var r,i,o,a,s,u,c,l,f,d,_,h,p={point:g,lineStart:v,lineEnd:m,polygonStart:function(){e.polygonStart(),p.lineStart=b},polygonEnd:function(){e.polygonEnd(),p.lineStart=v}};function g(n,r){n=t(n,r),e.point(n[0],n[1])}function v(){l=NaN,p.point=y,e.lineStart()}function y(r,i){var o=Id([r,i]),a=t(r,i);n(l,f,c,d,_,h,l=a[0],f=a[1],c=r,d=o[0],_=o[1],h=o[2],Yp,e),e.point(l,f)}function m(){p.point=g,e.lineEnd()}function b(){v(),p.point=x,p.lineEnd=w}function x(t,e){y(r=t,e),i=l,o=f,a=d,s=_,u=h,p.point=y}function w(){n(l,f,c,d,_,h,i,o,r,a,s,u,Yp,e),p.lineEnd=m,m()}return p}}(t,e):function(t){return qp({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}(t)};var Vp=qp({point:function(t,e){this.stream.point(t*Vf,e*Vf)}});function Jp(t,e,n){function r(r,i){return[e+t*r,n-t*i]}return r.invert=function(r,i){return[(r-e)/t,(n-i)/t]},r}function Zp(t,e,n,r){var i=td(r),o=od(r),a=i*t,s=o*t,u=i/t,c=o/t,l=(o*n-i*e)/t,f=(o*e+i*n)/t;function d(t,r){return[a*t-s*r+e,n-s*t-a*r]}return d.invert=function(t,e){return[u*t-c*e+l,f-c*t-u*e]},d}function Qp(t){return tg(function(){return t})()}function tg(t){var e,n,r,i,o,a,s,u,c,l,f=150,d=480,_=250,h=0,p=0,g=0,v=0,y=0,m=0,b=null,x=ih,w=null,E=zh,k=.5;function M(t){return u(t[0]*Vf,t[1]*Vf)}function T(t){return(t=u.invert(t[0],t[1]))&&[t[0]*Xf,t[1]*Xf]}function A(){var t=Zp(f,0,0,m).apply(null,e(h,p)),r=(m?Zp:Jp)(f,d-t[0],_-t[1],m);return n=U_(g,v,y),s=j_(e,r),u=j_(n,s),a=Xp(s,k),O()}function O(){return c=l=null,M}return M.stream=function(t){return c&&l===t?c:c=Vp(function(t){return qp({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}(n)(x(a(E(l=t)))))},M.preclip=function(t){return arguments.length?(x=t,b=void 0,O()):x},M.postclip=function(t){return arguments.length?(E=t,w=r=i=o=null,O()):E},M.clipAngle=function(t){return arguments.length?(x=+t?oh(b=t*Vf):(b=null,ih),O()):b*Xf},M.clipExtent=function(t){return arguments.length?(E=null==t?(w=r=i=o=null,zh):ch(w=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),O()):null==w?null:[[w,r],[i,o]]},M.scale=function(t){return arguments.length?(f=+t,A()):f},M.translate=function(t){return arguments.length?(d=+t[0],_=+t[1],A()):[d,_]},M.center=function(t){return arguments.length?(h=t[0]%360*Vf,p=t[1]%360*Vf,A()):[h*Xf,p*Xf]},M.rotate=function(t){return arguments.length?(g=t[0]%360*Vf,v=t[1]%360*Vf,y=t.length>2?t[2]%360*Vf:0,A()):[g*Xf,v*Xf,y*Xf]},M.angle=function(t){return arguments.length?(m=t%360*Vf,A()):m*Xf},M.precision=function(t){return arguments.length?(a=Xp(s,k=t*t),O()):sd(k)},M.fitExtent=function(t,e){return $p(M,t,e)},M.fitSize=function(t,e){return Hp(M,t,e)},M.fitWidth=function(t,e){return Fp(M,t,e)},M.fitHeight=function(t,e){return Kp(M,t,e)},function(){return e=t.apply(this,arguments),M.invert=e.invert&&T,A()}}function eg(t){var e=0,n=Ff/3,r=tg(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Vf,n=t[1]*Vf):[e*Xf,n*Xf]},i}function ng(t,e){var n=od(t),r=(n+od(e))/2;if(Jf(r)<$f)return function(t){var e=td(t);function n(t,n){return[t*e,od(n)/e]}return n.invert=function(t,n){return[t/e,ld(n*e)]},n}(t);var i=1+n*(2*r-n),o=sd(i)/r;function a(t,e){var n=sd(i-2*r*od(e))/r;return[n*od(t*=r),o-n*td(t)]}return a.invert=function(t,e){var n=o-e;return[Qf(t,Jf(n))/r*ad(n),ld((i-(t*t+n*n)*r*r)/(2*r))]},a}var rg=function(){return eg(ng).scale(155.424).center([0,33.6442])},ig=function(){return rg().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var og=function(){var t,e,n,r,i,o,a=ig(),s=rg().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=rg().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){o=[t,e]}};function l(t){var e=t[0],a=t[1];return o=null,n.point(e,a),o||(r.point(e,a),o)||(i.point(e,a),o)}function f(){return t=e=null,l}return l.invert=function(t){var e=a.scale(),n=a.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?s:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:a).invert(t)},l.stream=function(n){return t&&e===n?t:(r=[a.stream(e=n),s.stream(n),u.stream(n)],i=r.length,t={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},l.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),u.precision(t),f()):a.precision()},l.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),u.scale(t),l.translate(a.translate())):a.scale()},l.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),o=+t[0],l=+t[1];return n=a.translate(t).clipExtent([[o-.455*e,l-.238*e],[o+.455*e,l+.238*e]]).stream(c),r=s.translate([o-.307*e,l+.201*e]).clipExtent([[o-.425*e+$f,l+.12*e+$f],[o-.214*e-$f,l+.234*e-$f]]).stream(c),i=u.translate([o-.205*e,l+.212*e]).clipExtent([[o-.214*e+$f,l+.166*e+$f],[o-.115*e-$f,l+.234*e-$f]]).stream(c),f()},l.fitExtent=function(t,e){return $p(l,t,e)},l.fitSize=function(t,e){return Hp(l,t,e)},l.fitWidth=function(t,e){return Fp(l,t,e)},l.fitHeight=function(t,e){return Kp(l,t,e)},l.scale(1070)};function ag(t){return function(e,n){var r=td(e),i=td(n),o=t(r*i);return[o*i*od(e),o*od(n)]}}function sg(t){return function(e,n){var r=sd(e*e+n*n),i=t(r),o=od(i),a=td(i);return[Qf(e*o,r*a),ld(r&&n*o/r)]}}var ug=ag(function(t){return sd(2/(1+t))});ug.invert=sg(function(t){return 2*ld(t/2)});var cg=function(){return Qp(ug).scale(124.75).clipAngle(179.999)},lg=ag(function(t){return(t=cd(t))&&t/od(t)});lg.invert=sg(function(t){return t});var fg=function(){return Qp(lg).scale(79.4188).clipAngle(179.999)};function dg(t,e){return[t,rd(ud((Kf+e)/2))]}dg.invert=function(t,e){return[t,2*Zf(nd(e))-Kf]};var _g=function(){return hg(dg).scale(961/Gf)};function hg(t){var e,n,r,i=Qp(t),o=i.center,a=i.scale,s=i.translate,u=i.clipExtent,c=null;function l(){var o=Ff*a(),s=i($_(i.rotate()).invert([0,0]));return u(null==c?[[s[0]-o,s[1]-o],[s[0]+o,s[1]+o]]:t===dg?[[Math.max(s[0]-o,c),e],[Math.min(s[0]+o,n),r]]:[[c,Math.max(s[1]-o,e)],[n,Math.min(s[1]+o,r)]])}return i.scale=function(t){return arguments.length?(a(t),l()):a()},i.translate=function(t){return arguments.length?(s(t),l()):s()},i.center=function(t){return arguments.length?(o(t),l()):o()},i.clipExtent=function(t){return arguments.length?(null==t?c=e=n=r=null:(c=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),l()):null==c?null:[[c,e],[n,r]]},l()}function pg(t){return ud((Kf+t)/2)}function gg(t,e){var n=td(t),r=t===e?od(t):rd(n/td(e))/rd(pg(e)/pg(t)),i=n*id(pg(t),r)/r;if(!r)return dg;function o(t,e){i>0?e<-Kf+$f&&(e=-Kf+$f):e>Kf-$f&&(e=Kf-$f);var n=i/id(pg(e),r);return[n*od(r*t),i-n*td(r*t)]}return o.invert=function(t,e){var n=i-e,o=ad(r)*sd(t*t+n*n);return[Qf(t,Jf(n))/r*ad(n),2*Zf(id(i/o,1/r))-Kf]},o}var vg=function(){return eg(gg).scale(109.5).parallels([30,30])};function yg(t,e){return[t,e]}yg.invert=yg;var mg=function(){return Qp(yg).scale(152.63)};function bg(t,e){var n=td(t),r=t===e?od(t):(n-td(e))/(e-t),i=n/r+t;if(Jf(r)<$f)return yg;function o(t,e){var n=i-e,o=r*t;return[n*od(o),i-n*td(o)]}return o.invert=function(t,e){var n=i-e;return[Qf(t,Jf(n))/r*ad(n),i-ad(r)*sd(t*t+n*n)]},o}var xg=function(){return eg(bg).scale(131.154).center([0,13.9389])},wg=1.340264,Eg=-.081106,kg=893e-6,Mg=.003796,Tg=sd(3)/2;function Ag(t,e){var n=ld(Tg*od(e)),r=n*n,i=r*r*r;return[t*td(n)/(Tg*(wg+3*Eg*r+i*(7*kg+9*Mg*r))),n*(wg+Eg*r+i*(kg+Mg*r))]}Ag.invert=function(t,e){for(var n,r=e,i=r*r,o=i*i*i,a=0;a<12&&(o=(i=(r-=n=(r*(wg+Eg*i+o*(kg+Mg*i))-e)/(wg+3*Eg*i+o*(7*kg+9*Mg*i)))*r)*i*i,!(Jf(n)<Hf));++a);return[Tg*t*(wg+3*Eg*i+o*(7*kg+9*Mg*i))/td(r),ld(od(r)/Tg)]};var Og=function(){return Qp(Ag).scale(177.158)};function Cg(t,e){var n=td(e),r=td(t)*n;return[n*od(t)/r,od(e)/r]}Cg.invert=sg(Zf);var Sg=function(){return Qp(Cg).scale(144.049).clipAngle(60)};function Dg(t,e,n,r){return 1===t&&1===e&&0===n&&0===r?zh:qp({point:function(i,o){this.stream.point(i*t+n,o*e+r)}})}var Pg=function(){var t,e,n,r,i,o,a=1,s=0,u=0,c=1,l=1,f=zh,d=null,_=zh;function h(){return r=i=null,o}return o={stream:function(t){return r&&i===t?r:r=f(_(i=t))},postclip:function(r){return arguments.length?(_=r,d=t=e=n=null,h()):_},clipExtent:function(r){return arguments.length?(_=null==r?(d=t=e=n=null,zh):ch(d=+r[0][0],t=+r[0][1],e=+r[1][0],n=+r[1][1]),h()):null==d?null:[[d,t],[e,n]]},scale:function(t){return arguments.length?(f=Dg((a=+t)*c,a*l,s,u),h()):a},translate:function(t){return arguments.length?(f=Dg(a*c,a*l,s=+t[0],u=+t[1]),h()):[s,u]},reflectX:function(t){return arguments.length?(f=Dg(a*(c=t?-1:1),a*l,s,u),h()):c<0},reflectY:function(t){return arguments.length?(f=Dg(a*c,a*(l=t?-1:1),s,u),h()):l<0},fitExtent:function(t,e){return $p(o,t,e)},fitSize:function(t,e){return Hp(o,t,e)},fitWidth:function(t,e){return Fp(o,t,e)},fitHeight:function(t,e){return Kp(o,t,e)}}};function Ig(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}Ig.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(Jf(n)>$f&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Ng=function(){return Qp(Ig).scale(175.295)};function Rg(t,e){return[td(e)*od(t),od(e)]}Rg.invert=sg(ld);var Lg=function(){return Qp(Rg).scale(249.5).clipAngle(90+$f)};function jg(t,e){var n=td(e),r=1+td(t)*n;return[n*od(t)/r,od(e)/r]}jg.invert=sg(function(t){return 2*Zf(t)});var Bg=function(){return Qp(jg).scale(250).clipAngle(142)};function Ug(t,e){return[rd(ud((Kf+e)/2)),-t]}Ug.invert=function(t,e){return[-e,2*Zf(nd(t))-Kf]};var qg=function(){var t=hg(Ug),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)};function zg(t,e){return t.parent===e.parent?1:2}function Wg(t,e){return t+e.x}function $g(t,e){return Math.max(t,e.y)}var Hg=function(){var t=zg,e=1,n=1,r=!1;function i(i){var o,a=0;i.eachAfter(function(e){var n=e.children;n?(e.x=function(t){return t.reduce(Wg,0)/t.length}(n),e.y=function(t){return 1+t.reduce($g,0)}(n)):(e.x=o?a+=t(e,o):0,e.y=0,o=e)});var s=function(t){for(var e;e=t.children;)t=e[0];return t}(i),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(i),c=s.x-t(s,u)/2,l=u.x+t(u,s)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*e,t.y=(i.y-t.y)*n}:function(t){t.x=(t.x-c)/(l-c)*e,t.y=(1-(i.y?t.y/i.y:1))*n})}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i};function Fg(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;--r>=0;)e+=n[r].value;else e=1;t.value=e}function Kg(t,e){var n,r,i,o,a,s=new Vg(t),u=+t.value&&(s.value=t.value),c=[s];for(null==e&&(e=Yg);n=c.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;o>=0;--o)c.push(r=n.children[o]=new Vg(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Xg)}function Yg(t){return t.children}function Gg(t){t.data=t.data.data}function Xg(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function Vg(t){this.data=t,this.depth=this.height=0,this.parent=null}Vg.prototype=Kg.prototype={constructor:Vg,count:function(){return this.eachAfter(Fg)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;n>=0;--n)i.push(e[n]);return this},sum:function(t){return this.eachAfter(function(e){for(var n=+t(e.data)||0,r=e.children,i=r&&r.length;--i>=0;)n+=r[i].value;e.value=n})},sort:function(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();for(;t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each(function(e){t.push(e)}),t},leaves:function(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t},links:function(){var t=this,e=[];return t.each(function(n){n!==t&&e.push({source:n.parent,target:n})}),e},copy:function(){return Kg(this).eachBefore(Gg)}};var Jg=Array.prototype.slice;var Zg=function(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Jg.call(t))).length,o=[];r<i;)e=t[r],n&&ev(n,e)?++r:(n=rv(o=Qg(o,e)),r=0);return n};function Qg(t,e){var n,r;if(nv(e,t))return[e];for(n=0;n<t.length;++n)if(tv(e,t[n])&&nv(iv(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(tv(iv(t[n],t[r]),e)&&tv(iv(t[n],e),t[r])&&tv(iv(t[r],e),t[n])&&nv(ov(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function tv(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function ev(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function nv(t,e){for(var n=0;n<e.length;++n)if(!ev(t,e[n]))return!1;return!0}function rv(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return iv(t[0],t[1]);case 3:return ov(t[0],t[1],t[2])}var e}function iv(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,c=a-r,l=s-i,f=Math.sqrt(u*u+c*c);return{x:(n+o+u/f*l)/2,y:(r+a+c/f*l)/2,r:(f+i+s)/2}}function ov(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,c=n.x,l=n.y,f=n.r,d=r-a,_=r-c,h=i-s,p=i-l,g=u-o,v=f-o,y=r*r+i*i-o*o,m=y-a*a-s*s+u*u,b=y-c*c-l*l+f*f,x=_*h-d*p,w=(h*b-p*m)/(2*x)-r,E=(p*g-h*v)/x,k=(_*m-d*b)/(2*x)-i,M=(d*v-_*g)/x,T=E*E+M*M-1,A=2*(o+w*E+k*M),O=w*w+k*k-o*o,C=-(T?(A+Math.sqrt(A*A-4*T*O))/(2*T):O/A);return{x:r+w+E*C,y:i+k+M*C,r:C}}function av(t,e,n){var r,i,o,a,s=t.x-e.x,u=t.y-e.y,c=s*s+u*u;c?(i=e.r+n.r,i*=i,a=t.r+n.r,i>(a*=a)?(r=(c+a-i)/(2*c),o=Math.sqrt(Math.max(0,a/c-r*r)),n.x=t.x-r*s-o*u,n.y=t.y-r*u+o*s):(r=(c+i-a)/(2*c),o=Math.sqrt(Math.max(0,i/c-r*r)),n.x=e.x+r*s-o*u,n.y=e.y+r*u+o*s)):(n.x=e.x+n.r,n.y=e.y)}function sv(t,e){var n=t.r+e.r-1e-6,r=e.x-t.x,i=e.y-t.y;return n>0&&n*n>r*r+i*i}function uv(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function cv(t){this._=t,this.next=null,this.previous=null}function lv(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,u,c,l,f;if((e=t[0]).x=0,e.y=0,!(i>1))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(i>2))return e.r+n.r;av(n,e,r=t[2]),e=new cv(e),n=new cv(n),r=new cv(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){av(e._,n._,r=t[s]),r=new cv(r),u=n.next,c=e.previous,l=n._.r,f=e._.r;do{if(l<=f){if(sv(u._,r._)){n=u,e.next=n,n.previous=e,--s;continue t}l+=u._.r,u=u.next}else{if(sv(c._,r._)){(e=c).next=n,n.previous=e,--s;continue t}f+=c._.r,c=c.previous}}while(u!==c.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=uv(e);(r=r.next)!==n;)(a=uv(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Zg(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}var fv=function(t){return lv(t),t};function dv(t){return null==t?null:_v(t)}function _v(t){if("function"!=typeof t)throw new Error;return t}function hv(){return 0}var pv=function(t){return function(){return t}};function gv(t){return Math.sqrt(t.value)}var vv=function(){var t=null,e=1,n=1,r=hv;function i(i){return i.x=e/2,i.y=n/2,t?i.eachBefore(yv(t)).eachAfter(mv(r,.5)).eachBefore(bv(1)):i.eachBefore(yv(gv)).eachAfter(mv(hv,1)).eachAfter(mv(r,i.r/Math.min(e,n))).eachBefore(bv(Math.min(e,n)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=dv(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],n=+t[1],i):[e,n]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:pv(+t),i):r},i};function yv(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function mv(t,e){return function(n){if(r=n.children){var r,i,o,a=r.length,s=t(n)*e||0;if(s)for(i=0;i<a;++i)r[i].r+=s;if(o=lv(r),s)for(i=0;i<a;++i)r[i].r-=s;n.r=o+s}}}function bv(t){return function(e){var n=e.parent;e.r*=t,n&&(e.x=n.x+t*e.x,e.y=n.y+t*e.y)}}var xv=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},wv=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*c},Ev=function(){var t=1,e=1,n=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=n,i.x1=t,i.y1=e/o,i.eachBefore(function(t,e){return function(r){r.children&&wv(r,r.x0,t*(r.depth+1)/e,r.x1,t*(r.depth+2)/e);var i=r.x0,o=r.y0,a=r.x1-n,s=r.y1-n;a<i&&(i=a=(i+a)/2),s<o&&(o=s=(o+s)/2),r.x0=i,r.y0=o,r.x1=a,r.y1=s}}(e,o)),r&&i.eachBefore(xv),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(n){return arguments.length?(t=+n[0],e=+n[1],i):[t,e]},i.padding=function(t){return arguments.length?(n=+t,i):n},i},kv="$",Mv={depth:-1},Tv={};function Av(t){return t.id}function Ov(t){return t.parentId}var Cv=function(){var t=Av,e=Ov;function n(n){var r,i,o,a,s,u,c,l=n.length,f=new Array(l),d={};for(i=0;i<l;++i)r=n[i],s=f[i]=new Vg(r),null!=(u=t(r,i,n))&&(u+="")&&(d[c=kv+(s.id=u)]=c in d?Tv:s);for(i=0;i<l;++i)if(s=f[i],null!=(u=e(n[i],i,n))&&(u+="")){if(!(a=d[kv+u]))throw new Error("missing: "+u);if(a===Tv)throw new Error("ambiguous: "+u);a.children?a.children.push(s):a.children=[s],s.parent=a}else{if(o)throw new Error("multiple roots");o=s}if(!o)throw new Error("no root");if(o.parent=Mv,o.eachBefore(function(t){t.depth=t.parent.depth+1,--l}).eachBefore(Xg),o.parent=null,l>0)throw new Error("cycle");return o}return n.id=function(e){return arguments.length?(t=_v(e),n):t},n.parentId=function(t){return arguments.length?(e=_v(t),n):e},n};function Sv(t,e){return t.parent===e.parent?1:2}function Dv(t){var e=t.children;return e?e[0]:t.t}function Pv(t){var e=t.children;return e?e[e.length-1]:t.t}function Iv(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Nv(t,e,n){return t.a.parent===e.parent?t.a:n}function Rv(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}Rv.prototype=Object.create(Vg.prototype);var Lv=function(){var t=Sv,e=1,n=1,r=null;function i(i){var u=function(t){for(var e,n,r,i,o,a=new Rv(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;i>=0;--i)s.push(n=e.children[i]=new Rv(r[i],i)),n.parent=e;return(a.parent=new Rv(null,0)).children=[a],a}(i);if(u.eachAfter(o),u.parent.m=-u.z,u.eachBefore(a),r)i.eachBefore(s);else{var c=i,l=i,f=i;i.eachBefore(function(t){t.x<c.x&&(c=t),t.x>l.x&&(l=t),t.depth>f.depth&&(f=t)});var d=c===l?1:t(c,l)/2,_=d-c.x,h=e/(l.x+d+_),p=n/(f.depth||1);i.eachBefore(function(t){t.x=(t.x+_)*h,t.y=t.depth*p})}return i}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-o):e.z=o}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,o=e,a=e,s=n,u=o.parent.children[0],c=o.m,l=a.m,f=s.m,d=u.m;s=Pv(s),o=Dv(o),s&&o;)u=Dv(u),(a=Pv(a)).a=e,(i=s.z+f-o.z-c+t(s._,o._))>0&&(Iv(Nv(s,e,r),e,i),c+=i,l+=i),f+=s.m,c+=o.m,d+=u.m,l+=a.m;s&&!Pv(a)&&(a.t=s,a.m+=f-l),o&&!Dv(u)&&(u.t=o,u.m+=c-d,r=e)}return r}(e,i,e.parent.A||r[0])}function a(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*n}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(r=!1,e=+t[0],n=+t[1],i):r?null:[e,n]},i.nodeSize=function(t){return arguments.length?(r=!0,e=+t[0],n=+t[1],i):r?[e,n]:null},i},jv=function(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,c=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*c},Bv=(1+Math.sqrt(5))/2;function Uv(t,e,n,r,i,o){for(var a,s,u,c,l,f,d,_,h,p,g,v=[],y=e.children,m=0,b=0,x=y.length,w=e.value;m<x;){u=i-n,c=o-r;do{l=y[b++].value}while(!l&&b<x);for(f=d=l,g=l*l*(p=Math.max(c/u,u/c)/(w*t)),h=Math.max(d/g,g/f);b<x;++b){if(l+=s=y[b].value,s<f&&(f=s),s>d&&(d=s),g=l*l*p,(_=Math.max(d/g,g/f))>h){l-=s;break}h=_}v.push(a={value:l,dice:u<c,children:y.slice(m,b)}),a.dice?wv(a,n,r,i,w?r+=c*l/w:o):jv(a,n,r,w?n+=u*l/w:i,o),w-=l,m=b}return v}var qv=function t(e){function n(t,n,r,i,o){Uv(e,t,n,r,i,o)}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Bv),zv=function(){var t=qv,e=!1,n=1,r=1,i=[0],o=hv,a=hv,s=hv,u=hv,c=hv;function l(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(f),i=[0],e&&t.eachBefore(xv),t}function f(e){var n=i[e.depth],r=e.x0+n,l=e.y0+n,f=e.x1-n,d=e.y1-n;f<r&&(r=f=(r+f)/2),d<l&&(l=d=(l+d)/2),e.x0=r,e.y0=l,e.x1=f,e.y1=d,e.children&&(n=i[e.depth+1]=o(e)/2,r+=c(e)-n,l+=a(e)-n,(f-=s(e)-n)<r&&(r=f=(r+f)/2),(d-=u(e)-n)<l&&(l=d=(l+d)/2),t(e,r,l,f,d))}return l.round=function(t){return arguments.length?(e=!!t,l):e},l.size=function(t){return arguments.length?(n=+t[0],r=+t[1],l):[n,r]},l.tile=function(e){return arguments.length?(t=_v(e),l):t},l.padding=function(t){return arguments.length?l.paddingInner(t).paddingOuter(t):l.paddingInner()},l.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:pv(+t),l):o},l.paddingOuter=function(t){return arguments.length?l.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):l.paddingTop()},l.paddingTop=function(t){return arguments.length?(a="function"==typeof t?t:pv(+t),l):a},l.paddingRight=function(t){return arguments.length?(s="function"==typeof t?t:pv(+t),l):s},l.paddingBottom=function(t){return arguments.length?(u="function"==typeof t?t:pv(+t),l):u},l.paddingLeft=function(t){return arguments.length?(c="function"==typeof t?t:pv(+t),l):c},l},Wv=function(t,e,n,r,i){var o,a,s=t.children,u=s.length,c=new Array(u+1);for(c[0]=a=o=0;o<u;++o)c[o+1]=a+=s[o].value;!function t(e,n,r,i,o,a,u){if(e>=n-1){var l=s[e];return l.x0=i,l.y0=o,l.x1=a,void(l.y1=u)}var f=c[e],d=r/2+f,_=e+1,h=n-1;for(;_<h;){var p=_+h>>>1;c[p]<d?_=p+1:h=p}d-c[_-1]<c[_]-d&&e+1<_&&--_;var g=c[_]-f,v=r-g;if(a-i>u-o){var y=(i*v+a*g)/r;t(e,_,g,i,o,y,u),t(_,n,v,y,o,a,u)}else{var m=(o*v+u*g)/r;t(e,_,g,i,o,a,m),t(_,n,v,i,m,a,u)}}(0,u,t.value,e,n,r,i)},$v=function(t,e,n,r,i){(1&t.depth?jv:wv)(t,e,n,r,i)},Hv=function t(e){function n(t,n,r,i,o){if((a=t._squarify)&&a.ratio===e)for(var a,s,u,c,l,f=-1,d=a.length,_=t.value;++f<d;){for(u=(s=a[f]).children,c=s.value=0,l=u.length;c<l;++c)s.value+=u[c].value;s.dice?wv(s,n,r,i,r+=(o-r)*s.value/_):jv(s,n,r,n+=(i-n)*s.value/_,o),_-=s.value}else t._squarify=a=Uv(e,t,n,r,i,o),a.ratio=e}return n.ratio=function(e){return t((e=+e)>1?e:1)},n}(Bv),Fv=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},Kv=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]},Yv=function(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])};function Gv(t,e){return t[0]-e[0]||t[1]-e[1]}function Xv(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;++i){for(;r>1&&Yv(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}var Vv=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(Gv),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=Xv(r),a=Xv(i),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],c=[];for(e=o.length-1;e>=0;--e)c.push(t[r[o[e]][2]]);for(e=+s;e<a.length-u;++e)c.push(t[r[a[e]][2]]);return c},Jv=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],c=o[1],l=!1,f=0;f<i;++f)n=(o=t[f])[0],(r=o[1])>s!=c>s&&a<(u-n)*(s-r)/(c-r)+n&&(l=!l),u=n,c=r;return l},Zv=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u},Qv=function(){return Math.random()},ty=function t(e){function n(t,n){return t=null==t?0:+t,n=null==n?1:+n,1===arguments.length?(n=t,t=0):n-=t,function(){return e()*n+t}}return n.source=t,n}(Qv),ey=function t(e){function n(t,n){var r,i;return t=null==t?0:+t,n=null==n?1:+n,function(){var o;if(null!=r)o=r,r=null;else do{r=2*e()-1,o=2*e()-1,i=r*r+o*o}while(!i||i>1);return t+n*o*Math.sqrt(-2*Math.log(i)/i)}}return n.source=t,n}(Qv),ny=function t(e){function n(){var t=ey.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Qv),ry=function t(e){function n(t){return function(){for(var n=0,r=0;r<t;++r)n+=e();return n}}return n.source=t,n}(Qv),iy=function t(e){function n(t){var n=ry.source(e)(t);return function(){return n()/t}}return n.source=t,n}(Qv),oy=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Qv);function ay(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function sy(t,e){switch(arguments.length){case 0:break;case 1:this.interpolator(t);break;default:this.interpolator(e).domain(t)}return this}var uy=Array.prototype,cy=uy.map,ly=uy.slice,fy={name:"implicit"};function dy(){var t=Dc(),e=[],n=[],r=fy;function i(i){var o=i+"",a=t.get(o);if(!a){if(r!==fy)return r;t.set(o,a=e.push(i))}return n[(a-1)%n.length]}return i.domain=function(n){if(!arguments.length)return e.slice();e=[],t=Dc();for(var r,o,a=-1,s=n.length;++a<s;)t.has(o=(r=n[a])+"")||t.set(o,e.push(r));return i},i.range=function(t){return arguments.length?(n=ly.call(t),i):n.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return dy(e,n).unknown(r)},ay.apply(i,arguments),i}function _y(){var t,e,n=dy().unknown(void 0),r=n.domain,i=n.range,o=[0,1],a=!1,s=0,u=0,c=.5;function l(){var n=r().length,l=o[1]<o[0],f=o[l-0],d=o[1-l];t=(d-f)/Math.max(1,n-s+2*u),a&&(t=Math.floor(t)),f+=(d-f-t*(n-s))*c,e=t*(1-s),a&&(f=Math.round(f),e=Math.round(e));var _=en(n).map(function(e){return f+t*e});return i(l?_.reverse():_)}return delete n.unknown,n.domain=function(t){return arguments.length?(r(t),l()):r()},n.range=function(t){return arguments.length?(o=[+t[0],+t[1]],l()):o.slice()},n.rangeRound=function(t){return o=[+t[0],+t[1]],a=!0,l()},n.bandwidth=function(){return e},n.step=function(){return t},n.round=function(t){return arguments.length?(a=!!t,l()):a},n.padding=function(t){return arguments.length?(s=Math.min(1,u=+t),l()):s},n.paddingInner=function(t){return arguments.length?(s=Math.min(1,t),l()):s},n.paddingOuter=function(t){return arguments.length?(u=+t,l()):u},n.align=function(t){return arguments.length?(c=Math.max(0,Math.min(1,t)),l()):c},n.copy=function(){return _y(r(),o).round(a).paddingInner(s).paddingOuter(u).align(c)},ay.apply(l(),arguments)}function hy(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(_y.apply(null,arguments).paddingInner(1))}var py=function(t){return function(){return t}},gy=function(t){return+t},vy=[0,1];function yy(t){return t}function my(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:py(isNaN(e)?NaN:.5)}function by(t){var e,n=t[0],r=t[t.length-1];return n>r&&(e=n,n=r,r=e),function(t){return Math.max(n,Math.min(r,t))}}function xy(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=my(i,r),o=n(a,o)):(r=my(r,i),o=n(o,a)),function(t){return o(r(t))}}function wy(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=my(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=ze(t,e,1,r)-1;return o[n](i[n](e))}}function Ey(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ky(){var t,e,n,r,i,o,a=vy,s=vy,u=ca,c=yy;function l(){return r=Math.min(a.length,s.length)>2?wy:xy,i=o=null,f}function f(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(c(e)))}return f.invert=function(n){return c(e((o||(o=r(s,a.map(t),Zo)))(n)))},f.domain=function(t){return arguments.length?(a=cy.call(t,gy),c===yy||(c=by(a)),l()):a.slice()},f.range=function(t){return arguments.length?(s=ly.call(t),l()):s.slice()},f.rangeRound=function(t){return s=ly.call(t),u=da,l()},f.clamp=function(t){return arguments.length?(c=t?by(a):yy,f):c!==yy},f.interpolate=function(t){return arguments.length?(u=t,l()):u},f.unknown=function(t){return arguments.length?(n=t,f):n},function(n,r){return t=n,e=r,l()}}function My(t,e){return ky()(t,e)}var Ty=function(t,e,n,r){var i,o=un(t,e,n);switch((r=Ef(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=jf(o,a))||(r.precision=i),Of(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Bf(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Lf(o))||(r.precision=i-2*("%"===r.type))}return Af(r)};function Ay(t){var e=t.domain;return t.ticks=function(t){var n=e();return an(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Ty(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i=e(),o=0,a=i.length-1,s=i[o],u=i[a];return u<s&&(r=s,s=u,u=r,r=o,o=a,a=r),(r=sn(s,u,n))>0?r=sn(s=Math.floor(s/r)*r,u=Math.ceil(u/r)*r,n):r<0&&(r=sn(s=Math.ceil(s*r)/r,u=Math.floor(u*r)/r,n)),r>0?(i[o]=Math.floor(s/r)*r,i[a]=Math.ceil(u/r)*r,e(i)):r<0&&(i[o]=Math.ceil(s*r)/r,i[a]=Math.floor(u*r)/r,e(i)),t},t}function Oy(){var t=My(yy,yy);return t.copy=function(){return Ey(t,Oy())},ay.apply(t,arguments),Ay(t)}function Cy(t){var e;function n(t){return isNaN(t=+t)?e:t}return n.invert=n,n.domain=n.range=function(e){return arguments.length?(t=cy.call(e,gy),n):t.slice()},n.unknown=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return Cy(t).unknown(e)},t=arguments.length?cy.call(t,gy):[0,1],Ay(n)}r(186),r(188);var Sy=function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t};function Dy(t){return Math.log(t)}function Py(t){return Math.exp(t)}function Iy(t){return-Math.log(-t)}function Ny(t){return-Math.exp(-t)}function Ry(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Ly(t){return function(e){return-t(-e)}}function jy(t){var e,n,r=t(Dy,Py),i=r.domain,o=10;function a(){return e=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(e){return Math.log(e)/t})}(o),n=function(t){return 10===t?Ry:t===Math.E?Math.exp:function(e){return Math.pow(t,e)}}(o),i()[0]<0?(e=Ly(e),n=Ly(n),t(Iy,Ny)):t(Dy,Py),r}return r.base=function(t){return arguments.length?(o=+t,a()):o},r.domain=function(t){return arguments.length?(i(t),a()):i()},r.ticks=function(t){var r,a=i(),s=a[0],u=a[a.length-1];(r=u<s)&&(d=s,s=u,u=d);var c,l,f,d=e(s),_=e(u),h=null==t?10:+t,p=[];if(!(o%1)&&_-d<h){if(d=Math.round(d)-1,_=Math.round(_)+1,s>0){for(;d<_;++d)for(l=1,c=n(d);l<o;++l)if(!((f=c*l)<s)){if(f>u)break;p.push(f)}}else for(;d<_;++d)for(l=o-1,c=n(d);l>=1;--l)if(!((f=c*l)<s)){if(f>u)break;p.push(f)}}else p=an(d,_,Math.min(_-d,h)).map(n);return r?p.reverse():p},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=Af(i)),t===1/0)return i;null==t&&(t=10);var a=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/n(Math.round(e(t)));return r*o<o-.5&&(r*=o),r<=a?i(t):""}},r.nice=function(){return i(Sy(i(),{floor:function(t){return n(Math.floor(e(t)))},ceil:function(t){return n(Math.ceil(e(t)))}}))},r}function By(){var t=jy(ky()).domain([1,10]);return t.copy=function(){return Ey(t,By()).base(t.base())},ay.apply(t,arguments),t}r(185),r(187);function Uy(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function qy(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function zy(t){var e=1,n=t(Uy(e),qy(e));return n.constant=function(n){return arguments.length?t(Uy(e=+n),qy(e)):e},Ay(n)}function Wy(){var t=zy(ky());return t.copy=function(){return Ey(t,Wy()).constant(t.constant())},ay.apply(t,arguments)}function $y(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Hy(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Fy(t){return t<0?-t*t:t*t}function Ky(t){var e=t(yy,yy),n=1;function r(){return 1===n?t(yy,yy):.5===n?t(Hy,Fy):t($y(n),$y(1/n))}return e.exponent=function(t){return arguments.length?(n=+t,r()):n},Ay(e)}function Yy(){var t=Ky(ky());return t.copy=function(){return Ey(t,Yy()).exponent(t.exponent())},ay.apply(t,arguments),t}function Gy(){return Yy.apply(null,arguments).exponent(.5)}function Xy(){var t,e=[],n=[],r=[];function i(){var t=0,i=Math.max(1,n.length);for(r=new Array(i-1);++t<i;)r[t-1]=fn(e,t/i);return o}function o(e){return isNaN(e=+e)?t:n[ze(r,e)]}return o.invertExtent=function(t){var i=n.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:e[0],i<r.length?r[i]:e[e.length-1]]},o.domain=function(t){if(!arguments.length)return e.slice();e=[];for(var n,r=0,o=t.length;r<o;++r)null==(n=t[r])||isNaN(n=+n)||e.push(n);return e.sort(Le),i()},o.range=function(t){return arguments.length?(n=ly.call(t),i()):n.slice()},o.unknown=function(e){return arguments.length?(t=e,o):t},o.quantiles=function(){return r.slice()},o.copy=function(){return Xy().domain(e).range(n).unknown(t)},ay.apply(o,arguments)}function Vy(){var t,e=0,n=1,r=1,i=[.5],o=[0,1];function a(e){return e<=e?o[ze(i,e,0,r)]:t}function s(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*n-(t-r)*e)/(r+1);return a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[1],s()):[e,n]},a.range=function(t){return arguments.length?(r=(o=ly.call(t)).length-1,s()):o.slice()},a.invertExtent=function(t){var a=o.indexOf(t);return a<0?[NaN,NaN]:a<1?[e,i[0]]:a>=r?[i[r-1],n]:[i[a-1],i[a]]},a.unknown=function(e){return arguments.length?(t=e,a):a},a.thresholds=function(){return i.slice()},a.copy=function(){return Vy().domain([e,n]).range(o).unknown(t)},ay.apply(Ay(a),arguments)}function Jy(){var t,e=[.5],n=[0,1],r=1;function i(i){return i<=i?n[ze(e,i,0,r)]:t}return i.domain=function(t){return arguments.length?(e=ly.call(t),r=Math.min(e.length,n.length-1),i):e.slice()},i.range=function(t){return arguments.length?(n=ly.call(t),r=Math.min(e.length,n.length-1),i):n.slice()},i.invertExtent=function(t){var r=n.indexOf(t);return[e[r-1],e[r]]},i.unknown=function(e){return arguments.length?(t=e,i):t},i.copy=function(){return Jy().domain(e).range(n).unknown(t)},ay.apply(i,arguments)}var Zy=new Date,Qy=new Date;function tm(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return tm(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return Zy.setTime(+e),Qy.setTime(+r),t(Zy),t(Qy),Math.floor(n(Zy,Qy))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var em=tm(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});em.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?tm(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):em:null};var nm=em,rm=em.range,im=6e4,om=6048e5,am=tm(function(t){t.setTime(t-t.getMilliseconds())},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),sm=am,um=am.range,cm=tm(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,e){t.setTime(+t+e*im)},function(t,e){return(e-t)/im},function(t){return t.getMinutes()}),lm=cm,fm=cm.range,dm=tm(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-t.getMinutes()*im)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getHours()}),_m=dm,hm=dm.range,pm=tm(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*im)/864e5},function(t){return t.getDate()-1}),gm=pm,vm=pm.range;function ym(t){return tm(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*im)/om})}var mm=ym(0),bm=ym(1),xm=ym(2),wm=ym(3),Em=ym(4),km=ym(5),Mm=ym(6),Tm=mm.range,Am=bm.range,Om=xm.range,Cm=wm.range,Sm=Em.range,Dm=km.range,Pm=Mm.range,Im=tm(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Nm=Im,Rm=Im.range,Lm=tm(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Lm.every=function(t){return isFinite(t=Math.floor(t))&&t>0?tm(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var jm=Lm,Bm=Lm.range,Um=tm(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*im)},function(t,e){return(e-t)/im},function(t){return t.getUTCMinutes()}),qm=Um,zm=Um.range,Wm=tm(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+36e5*e)},function(t,e){return(e-t)/36e5},function(t){return t.getUTCHours()}),$m=Wm,Hm=Wm.range,Fm=tm(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),Km=Fm,Ym=Fm.range;function Gm(t){return tm(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/om})}var Xm=Gm(0),Vm=Gm(1),Jm=Gm(2),Zm=Gm(3),Qm=Gm(4),tb=Gm(5),eb=Gm(6),nb=Xm.range,rb=Vm.range,ib=Jm.range,ob=Zm.range,ab=Qm.range,sb=tb.range,ub=eb.range,cb=tm(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),lb=cb,fb=cb.range,db=tm(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});db.every=function(t){return isFinite(t=Math.floor(t))&&t>0?tm(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var _b=db,hb=db.range;function pb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function gb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vb(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function yb(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,c=Sb(i),l=Db(i),f=Sb(o),d=Db(o),_=Sb(a),h=Db(a),p=Sb(s),g=Db(s),v=Sb(u),y=Db(u),m={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Jb,e:Jb,f:nx,H:Zb,I:Qb,j:tx,L:ex,m:rx,M:ix,p:function(t){return i[+(t.getHours()>=12)]},Q:Px,s:Ix,S:ox,u:ax,U:sx,V:ux,w:cx,W:lx,x:null,X:null,y:fx,Y:dx,Z:_x,"%":Dx},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:hx,e:hx,f:mx,H:px,I:gx,j:vx,L:yx,m:bx,M:xx,p:function(t){return i[+(t.getUTCHours()>=12)]},Q:Px,s:Ix,S:wx,u:Ex,U:kx,V:Mx,w:Tx,W:Ax,x:null,X:null,y:Ox,Y:Cx,Z:Sx,"%":Dx},x={a:function(t,e,n){var r=_.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=d[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=g[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:zb,e:zb,f:Yb,H:$b,I:$b,j:Wb,L:Kb,m:qb,M:Hb,p:function(t,e,n){var r=c.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1},Q:Xb,s:Vb,S:Fb,u:Ib,U:Nb,V:Rb,w:Pb,W:Lb,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:Bb,Y:jb,Z:Ub,"%":Gb};function w(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,c=t.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=kb[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function E(t,e){return function(n){var r,i,o=vb(1900);if(k(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("p"in o&&(o.H=o.H%12+12*o.p),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=gb(vb(o.y))).getUTCDay(),r=i>4||0===i?Vm.ceil(r):Vm(r),r=Km.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=e(vb(o.y))).getDay(),r=i>4||0===i?bm.ceil(r):bm(r),r=gm.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?gb(vb(o.y)).getUTCDay():e(vb(o.y)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,gb(o)):e(o)}}function k(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=x[i in kb?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return m.x=w(n,m),m.X=w(r,m),m.c=w(e,m),b.x=w(n,b),b.X=w(r,b),b.c=w(e,b),{format:function(t){var e=w(t+="",m);return e.toString=function(){return t},e},parse:function(t){var e=E(t+="",pb);return e.toString=function(){return t},e},utcFormat:function(t){var e=w(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=E(t,gb);return e.toString=function(){return t},e}}}var mb,bb,xb,wb,Eb,kb={"-":"",_:" ",0:"0"},Mb=/^\s*\d+/,Tb=/^%/,Ab=/[\\^$*+?|[\]().{}]/g;function Ob(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Cb(t){return t.replace(Ab,"\\$&")}function Sb(t){return new RegExp("^(?:"+t.map(Cb).join("|")+")","i")}function Db(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Pb(t,e,n){var r=Mb.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ib(t,e,n){var r=Mb.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Nb(t,e,n){var r=Mb.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Rb(t,e,n){var r=Mb.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Lb(t,e,n){var r=Mb.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function jb(t,e,n){var r=Mb.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Bb(t,e,n){var r=Mb.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ub(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qb(t,e,n){var r=Mb.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function zb(t,e,n){var r=Mb.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Wb(t,e,n){var r=Mb.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function $b(t,e,n){var r=Mb.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Hb(t,e,n){var r=Mb.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Fb(t,e,n){var r=Mb.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Kb(t,e,n){var r=Mb.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Yb(t,e,n){var r=Mb.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Gb(t,e,n){var r=Tb.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Xb(t,e,n){var r=Mb.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Vb(t,e,n){var r=Mb.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Jb(t,e){return Ob(t.getDate(),e,2)}function Zb(t,e){return Ob(t.getHours(),e,2)}function Qb(t,e){return Ob(t.getHours()%12||12,e,2)}function tx(t,e){return Ob(1+gm.count(jm(t),t),e,3)}function ex(t,e){return Ob(t.getMilliseconds(),e,3)}function nx(t,e){return ex(t,e)+"000"}function rx(t,e){return Ob(t.getMonth()+1,e,2)}function ix(t,e){return Ob(t.getMinutes(),e,2)}function ox(t,e){return Ob(t.getSeconds(),e,2)}function ax(t){var e=t.getDay();return 0===e?7:e}function sx(t,e){return Ob(mm.count(jm(t),t),e,2)}function ux(t,e){var n=t.getDay();return t=n>=4||0===n?Em(t):Em.ceil(t),Ob(Em.count(jm(t),t)+(4===jm(t).getDay()),e,2)}function cx(t){return t.getDay()}function lx(t,e){return Ob(bm.count(jm(t),t),e,2)}function fx(t,e){return Ob(t.getFullYear()%100,e,2)}function dx(t,e){return Ob(t.getFullYear()%1e4,e,4)}function _x(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ob(e/60|0,"0",2)+Ob(e%60,"0",2)}function hx(t,e){return Ob(t.getUTCDate(),e,2)}function px(t,e){return Ob(t.getUTCHours(),e,2)}function gx(t,e){return Ob(t.getUTCHours()%12||12,e,2)}function vx(t,e){return Ob(1+Km.count(_b(t),t),e,3)}function yx(t,e){return Ob(t.getUTCMilliseconds(),e,3)}function mx(t,e){return yx(t,e)+"000"}function bx(t,e){return Ob(t.getUTCMonth()+1,e,2)}function xx(t,e){return Ob(t.getUTCMinutes(),e,2)}function wx(t,e){return Ob(t.getUTCSeconds(),e,2)}function Ex(t){var e=t.getUTCDay();return 0===e?7:e}function kx(t,e){return Ob(Xm.count(_b(t),t),e,2)}function Mx(t,e){var n=t.getUTCDay();return t=n>=4||0===n?Qm(t):Qm.ceil(t),Ob(Qm.count(_b(t),t)+(4===_b(t).getUTCDay()),e,2)}function Tx(t){return t.getUTCDay()}function Ax(t,e){return Ob(Vm.count(_b(t),t),e,2)}function Ox(t,e){return Ob(t.getUTCFullYear()%100,e,2)}function Cx(t,e){return Ob(t.getUTCFullYear()%1e4,e,4)}function Sx(){return"+0000"}function Dx(){return"%"}function Px(t){return+t}function Ix(t){return Math.floor(+t/1e3)}function Nx(t){return mb=yb(t),bb=mb.format,xb=mb.parse,wb=mb.utcFormat,Eb=mb.utcParse,mb}Nx({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Rx=Date.prototype.toISOString?function(t){return t.toISOString()}:wb("%Y-%m-%dT%H:%M:%S.%LZ");var Lx=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:Eb("%Y-%m-%dT%H:%M:%S.%LZ"),jx=1e3,Bx=60*jx,Ux=60*Bx,qx=24*Ux,zx=7*qx,Wx=30*qx,$x=365*qx;function Hx(t){return new Date(t)}function Fx(t){return t instanceof Date?+t:+new Date(+t)}function Kx(t,e,n,r,i,o,a,s,u){var c=My(yy,yy),l=c.invert,f=c.domain,d=u(".%L"),_=u(":%S"),h=u("%I:%M"),p=u("%I %p"),g=u("%a %d"),v=u("%b %d"),y=u("%B"),m=u("%Y"),b=[[a,1,jx],[a,5,5*jx],[a,15,15*jx],[a,30,30*jx],[o,1,Bx],[o,5,5*Bx],[o,15,15*Bx],[o,30,30*Bx],[i,1,Ux],[i,3,3*Ux],[i,6,6*Ux],[i,12,12*Ux],[r,1,qx],[r,2,2*qx],[n,1,zx],[e,1,Wx],[e,3,3*Wx],[t,1,$x]];function x(s){return(a(s)<s?d:o(s)<s?_:i(s)<s?h:r(s)<s?p:e(s)<s?n(s)<s?g:v:t(s)<s?y:m)(s)}function w(e,n,r,i){if(null==e&&(e=10),"number"==typeof e){var o=Math.abs(r-n)/e,a=je(function(t){return t[2]}).right(b,o);a===b.length?(i=un(n/$x,r/$x,e),e=t):a?(i=(a=b[o/b[a-1][2]<b[a][2]/o?a-1:a])[1],e=a[0]):(i=Math.max(un(n,r,e),1),e=s)}return null==i?e:e.every(i)}return c.invert=function(t){return new Date(l(t))},c.domain=function(t){return arguments.length?f(cy.call(t,Fx)):f().map(Hx)},c.ticks=function(t,e){var n,r=f(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=w(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?x:u(e)},c.nice=function(t,e){var n=f();return(t=w(t,n[0],n[n.length-1],e))?f(Sy(n,t)):c},c.copy=function(){return Ey(c,Kx(t,e,n,r,i,o,a,s,u))},c}var Yx=function(){return ay.apply(Kx(jm,Nm,mm,gm,_m,lm,sm,nm,bb).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},Gx=function(){return ay.apply(Kx(_b,lb,Xm,Km,$m,qm,sm,nm,wb).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function Xx(){var t,e,n,r,i,o=0,a=1,s=yy,u=!1;function c(e){return isNaN(e=+e)?i:s(0===n?.5:(e=(r(e)-t)*n,u?Math.max(0,Math.min(1,e)):e))}return c.domain=function(i){return arguments.length?(t=r(o=+i[0]),e=r(a=+i[1]),n=t===e?0:1/(e-t),c):[o,a]},c.clamp=function(t){return arguments.length?(u=!!t,c):u},c.interpolator=function(t){return arguments.length?(s=t,c):s},c.unknown=function(t){return arguments.length?(i=t,c):i},function(i){return r=i,t=i(o),e=i(a),n=t===e?0:1/(e-t),c}}function Vx(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Jx(){var t=Ay(Xx()(yy));return t.copy=function(){return Vx(t,Jx())},sy.apply(t,arguments)}function Zx(){var t=jy(Xx()).domain([1,10]);return t.copy=function(){return Vx(t,Zx()).base(t.base())},sy.apply(t,arguments)}function Qx(){var t=zy(Xx());return t.copy=function(){return Vx(t,Qx()).constant(t.constant())},sy.apply(t,arguments)}function tw(){var t=Ky(Xx());return t.copy=function(){return Vx(t,tw()).exponent(t.exponent())},sy.apply(t,arguments)}function ew(){return tw.apply(null,arguments).exponent(.5)}function nw(){var t=[],e=yy;function n(n){if(!isNaN(n=+n))return e((ze(t,n)-1)/(t.length-1))}return n.domain=function(e){if(!arguments.length)return t.slice();t=[];for(var r,i=0,o=e.length;i<o;++i)null==(r=e[i])||isNaN(r=+r)||t.push(r);return t.sort(Le),n},n.interpolator=function(t){return arguments.length?(e=t,n):e},n.copy=function(){return nw(e).domain(t)},sy.apply(n,arguments)}function rw(){var t,e,n,r,i,o,a,s=0,u=.5,c=1,l=yy,f=!1;function d(t){return isNaN(t=+t)?a:(t=.5+((t=+o(t))-e)*(t<e?r:i),l(f?Math.max(0,Math.min(1,t)):t))}return d.domain=function(a){return arguments.length?(t=o(s=+a[0]),e=o(u=+a[1]),n=o(c=+a[2]),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d):[s,u,c]},d.clamp=function(t){return arguments.length?(f=!!t,d):f},d.interpolator=function(t){return arguments.length?(l=t,d):l},d.unknown=function(t){return arguments.length?(a=t,d):a},function(a){return o=a,t=a(s),e=a(u),n=a(c),r=t===e?0:.5/(e-t),i=e===n?0:.5/(n-e),d}}function iw(){var t=Ay(rw()(yy));return t.copy=function(){return Vx(t,iw())},sy.apply(t,arguments)}function ow(){var t=jy(rw()).domain([.1,1,10]);return t.copy=function(){return Vx(t,ow()).base(t.base())},sy.apply(t,arguments)}function aw(){var t=zy(rw());return t.copy=function(){return Vx(t,aw()).constant(t.constant())},sy.apply(t,arguments)}function sw(){var t=Ky(rw());return t.copy=function(){return Vx(t,sw()).exponent(t.exponent())},sy.apply(t,arguments)}function uw(){return sw.apply(null,arguments).exponent(.5)}var cw=function(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(6*r,6*++r);return n},lw=cw("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),fw=cw("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),dw=cw("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),_w=cw("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),hw=cw("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),pw=cw("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),gw=cw("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),vw=cw("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),yw=cw("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),mw=cw("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),bw=function(t){return Go(t[t.length-1])},xw=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(cw),ww=bw(xw),Ew=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(cw),kw=bw(Ew),Mw=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(cw),Tw=bw(Mw),Aw=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(cw),Ow=bw(Aw),Cw=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(cw),Sw=bw(Cw),Dw=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(cw),Pw=bw(Dw),Iw=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(cw),Nw=bw(Iw),Rw=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(cw),Lw=bw(Rw),jw=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(cw),Bw=bw(jw),Uw=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(cw),qw=bw(Uw),zw=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(cw),Ww=bw(zw),$w=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(cw),Hw=bw($w),Fw=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(cw),Kw=bw(Fw),Yw=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(cw),Gw=bw(Yw),Xw=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(cw),Vw=bw(Xw),Jw=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(cw),Zw=bw(Jw),Qw=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(cw),tE=bw(Qw),eE=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(cw),nE=bw(eE),rE=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(cw),iE=bw(rE),oE=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(cw),aE=bw(oE),sE=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(cw),uE=bw(sE),cE=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(cw),lE=bw(cE),fE=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(cw),dE=bw(fE),_E=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(cw),hE=bw(_E),pE=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(cw),gE=bw(pE),vE=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(cw),yE=bw(vE),mE=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(cw),bE=bw(mE),xE=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},wE=Da(Lo(300,.5,0),Lo(-240,.5,1)),EE=Da(Lo(-100,.75,.35),Lo(80,1.5,.8)),kE=Da(Lo(260,.75,.35),Lo(80,1.5,.8)),ME=Lo(),TE=function(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return ME.h=360*t-100,ME.s=1.5-1.5*e,ME.l=.8-.9*e,ME+""},AE=Ji(),OE=Math.PI/3,CE=2*Math.PI/3,SE=function(t){var e;return t=(.5-t)*Math.PI,AE.r=255*(e=Math.sin(t))*e,AE.g=255*(e=Math.sin(t+OE))*e,AE.b=255*(e=Math.sin(t+CE))*e,AE+""},DE=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"};function PE(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}var IE=PE(cw("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),NE=PE(cw("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),RE=PE(cw("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),LE=PE(cw("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),jE=function(t){return function(){return t}},BE=Math.abs,UE=Math.atan2,qE=Math.cos,zE=Math.max,WE=Math.min,$E=Math.sin,HE=Math.sqrt,FE=1e-12,KE=Math.PI,YE=KE/2,GE=2*KE;function XE(t){return t>=1?YE:t<=-1?-YE:Math.asin(t)}function VE(t){return t.innerRadius}function JE(t){return t.outerRadius}function ZE(t){return t.startAngle}function QE(t){return t.endAngle}function tk(t){return t&&t.padAngle}function ek(t,e,n,r,i,o,a){var s=t-n,u=e-r,c=(a?o:-o)/HE(s*s+u*u),l=c*u,f=-c*s,d=t+l,_=e+f,h=n+l,p=r+f,g=(d+h)/2,v=(_+p)/2,y=h-d,m=p-_,b=y*y+m*m,x=i-o,w=d*p-h*_,E=(m<0?-1:1)*HE(zE(0,x*x*b-w*w)),k=(w*m-y*E)/b,M=(-w*y-m*E)/b,T=(w*m+y*E)/b,A=(-w*y+m*E)/b,O=k-g,C=M-v,S=T-g,D=A-v;return O*O+C*C>S*S+D*D&&(k=T,M=A),{cx:k,cy:M,x01:-l,y01:-f,x11:k*(i/x-1),y11:M*(i/x-1)}}var nk=function(){var t=VE,e=JE,n=jE(0),r=null,i=ZE,o=QE,a=tk,s=null;function u(){var u,c,l,f=+t.apply(this,arguments),d=+e.apply(this,arguments),_=i.apply(this,arguments)-YE,h=o.apply(this,arguments)-YE,p=BE(h-_),g=h>_;if(s||(s=u=wc()),d<f&&(c=d,d=f,f=c),d>FE)if(p>GE-FE)s.moveTo(d*qE(_),d*$E(_)),s.arc(0,0,d,_,h,!g),f>FE&&(s.moveTo(f*qE(h),f*$E(h)),s.arc(0,0,f,h,_,g));else{var v,y,m=_,b=h,x=_,w=h,E=p,k=p,M=a.apply(this,arguments)/2,T=M>FE&&(r?+r.apply(this,arguments):HE(f*f+d*d)),A=WE(BE(d-f)/2,+n.apply(this,arguments)),O=A,C=A;if(T>FE){var S=XE(T/f*$E(M)),D=XE(T/d*$E(M));(E-=2*S)>FE?(x+=S*=g?1:-1,w-=S):(E=0,x=w=(_+h)/2),(k-=2*D)>FE?(m+=D*=g?1:-1,b-=D):(k=0,m=b=(_+h)/2)}var P=d*qE(m),I=d*$E(m),N=f*qE(w),R=f*$E(w);if(A>FE){var L,j=d*qE(b),B=d*$E(b),U=f*qE(x),q=f*$E(x);if(p<KE&&(L=function(t,e,n,r,i,o,a,s){var u=n-t,c=r-e,l=a-i,f=s-o,d=f*u-l*c;if(!(d*d<FE))return[t+(d=(l*(e-o)-f*(t-i))/d)*u,e+d*c]}(P,I,U,q,j,B,N,R))){var z=P-L[0],W=I-L[1],$=j-L[0],H=B-L[1],F=1/$E(((l=(z*$+W*H)/(HE(z*z+W*W)*HE($*$+H*H)))>1?0:l<-1?KE:Math.acos(l))/2),K=HE(L[0]*L[0]+L[1]*L[1]);O=WE(A,(f-K)/(F-1)),C=WE(A,(d-K)/(F+1))}}k>FE?C>FE?(v=ek(U,q,P,I,d,C,g),y=ek(j,B,N,R,d,C,g),s.moveTo(v.cx+v.x01,v.cy+v.y01),C<A?s.arc(v.cx,v.cy,C,UE(v.y01,v.x01),UE(y.y01,y.x01),!g):(s.arc(v.cx,v.cy,C,UE(v.y01,v.x01),UE(v.y11,v.x11),!g),s.arc(0,0,d,UE(v.cy+v.y11,v.cx+v.x11),UE(y.cy+y.y11,y.cx+y.x11),!g),s.arc(y.cx,y.cy,C,UE(y.y11,y.x11),UE(y.y01,y.x01),!g))):(s.moveTo(P,I),s.arc(0,0,d,m,b,!g)):s.moveTo(P,I),f>FE&&E>FE?O>FE?(v=ek(N,R,j,B,f,-O,g),y=ek(P,I,U,q,f,-O,g),s.lineTo(v.cx+v.x01,v.cy+v.y01),O<A?s.arc(v.cx,v.cy,O,UE(v.y01,v.x01),UE(y.y01,y.x01),!g):(s.arc(v.cx,v.cy,O,UE(v.y01,v.x01),UE(v.y11,v.x11),!g),s.arc(0,0,f,UE(v.cy+v.y11,v.cx+v.x11),UE(y.cy+y.y11,y.cx+y.x11),g),s.arc(y.cx,y.cy,O,UE(y.y11,y.x11),UE(y.y01,y.x01),!g))):s.arc(0,0,f,w,x,g):s.lineTo(N,R)}else s.moveTo(0,0);if(s.closePath(),u)return s=null,u+""||null}return u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-KE/2;return[qE(r)*n,$E(r)*n]},u.innerRadius=function(e){return arguments.length?(t="function"==typeof e?e:jE(+e),u):t},u.outerRadius=function(t){return arguments.length?(e="function"==typeof t?t:jE(+t),u):e},u.cornerRadius=function(t){return arguments.length?(n="function"==typeof t?t:jE(+t),u):n},u.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:jE(+t),u):r},u.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:jE(+t),u):i},u.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:jE(+t),u):o},u.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:jE(+t),u):a},u.context=function(t){return arguments.length?(s=null==t?null:t,u):s},u};function rk(t){this._context=t}rk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var ik=function(t){return new rk(t)};function ok(t){return t[0]}function ak(t){return t[1]}var sk=function(){var t=ok,e=ak,n=jE(!0),r=null,i=ik,o=null;function a(a){var s,u,c,l=a.length,f=!1;for(null==r&&(o=i(c=wc())),s=0;s<=l;++s)!(s<l&&n(u=a[s],s,a))===f&&((f=!f)?o.lineStart():o.lineEnd()),f&&o.point(+t(u,s,a),+e(u,s,a));if(c)return o=null,c+""||null}return a.x=function(e){return arguments.length?(t="function"==typeof e?e:jE(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:jE(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:jE(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a},uk=function(){var t=ok,e=null,n=jE(0),r=ak,i=jE(!0),o=null,a=ik,s=null;function u(u){var c,l,f,d,_,h=u.length,p=!1,g=new Array(h),v=new Array(h);for(null==o&&(s=a(_=wc())),c=0;c<=h;++c){if(!(c<h&&i(d=u[c],c,u))===p)if(p=!p)l=c,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),f=c-1;f>=l;--f)s.point(g[f],v[f]);s.lineEnd(),s.areaEnd()}p&&(g[c]=+t(d,c,u),v[c]=+n(d,c,u),s.point(e?+e(d,c,u):g[c],r?+r(d,c,u):v[c]))}if(_)return s=null,_+""||null}function c(){return sk().defined(i).curve(a).context(o)}return u.x=function(n){return arguments.length?(t="function"==typeof n?n:jE(+n),e=null,u):t},u.x0=function(e){return arguments.length?(t="function"==typeof e?e:jE(+e),u):t},u.x1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:jE(+t),u):e},u.y=function(t){return arguments.length?(n="function"==typeof t?t:jE(+t),r=null,u):n},u.y0=function(t){return arguments.length?(n="function"==typeof t?t:jE(+t),u):n},u.y1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:jE(+t),u):r},u.lineX0=u.lineY0=function(){return c().x(t).y(n)},u.lineY1=function(){return c().x(t).y(r)},u.lineX1=function(){return c().x(e).y(n)},u.defined=function(t){return arguments.length?(i="function"==typeof t?t:jE(!!t),u):i},u.curve=function(t){return arguments.length?(a=t,null!=o&&(s=a(o)),u):a},u.context=function(t){return arguments.length?(null==t?o=s=null:s=a(o=t),u):o},u},ck=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},lk=function(t){return t},fk=function(){var t=lk,e=ck,n=null,r=jE(0),i=jE(GE),o=jE(0);function a(a){var s,u,c,l,f,d=a.length,_=0,h=new Array(d),p=new Array(d),g=+r.apply(this,arguments),v=Math.min(GE,Math.max(-GE,i.apply(this,arguments)-g)),y=Math.min(Math.abs(v)/d,o.apply(this,arguments)),m=y*(v<0?-1:1);for(s=0;s<d;++s)(f=p[h[s]=s]=+t(a[s],s,a))>0&&(_+=f);for(null!=e?h.sort(function(t,n){return e(p[t],p[n])}):null!=n&&h.sort(function(t,e){return n(a[t],a[e])}),s=0,c=_?(v-d*m)/_:0;s<d;++s,g=l)u=h[s],l=g+((f=p[u])>0?f*c:0)+m,p[u]={data:a[u],index:s,value:f,startAngle:g,endAngle:l,padAngle:y};return p}return a.value=function(e){return arguments.length?(t="function"==typeof e?e:jE(+e),a):t},a.sortValues=function(t){return arguments.length?(e=t,n=null,a):e},a.sort=function(t){return arguments.length?(n=t,e=null,a):n},a.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:jE(+t),a):r},a.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:jE(+t),a):i},a.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:jE(+t),a):o},a},dk=hk(ik);function _k(t){this._curve=t}function hk(t){function e(e){return new _k(t(e))}return e._curve=t,e}function pk(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(hk(t)):e()._curve},t}_k.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var gk=function(){return pk(sk().curve(dk))},vk=function(){var t=uk().curve(dk),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return pk(n())},delete t.lineX0,t.lineEndAngle=function(){return pk(r())},delete t.lineX1,t.lineInnerRadius=function(){return pk(i())},delete t.lineY0,t.lineOuterRadius=function(){return pk(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(hk(t)):e()._curve},t},yk=function(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]},mk=Array.prototype.slice;function bk(t){return t.source}function xk(t){return t.target}function wk(t){var e=bk,n=xk,r=ok,i=ak,o=null;function a(){var a,s=mk.call(arguments),u=e.apply(this,s),c=n.apply(this,s);if(o||(o=a=wc()),t(o,+r.apply(this,(s[0]=u,s)),+i.apply(this,s),+r.apply(this,(s[0]=c,s)),+i.apply(this,s)),a)return o=null,a+""||null}return a.source=function(t){return arguments.length?(e=t,a):e},a.target=function(t){return arguments.length?(n=t,a):n},a.x=function(t){return arguments.length?(r="function"==typeof t?t:jE(+t),a):r},a.y=function(t){return arguments.length?(i="function"==typeof t?t:jE(+t),a):i},a.context=function(t){return arguments.length?(o=null==t?null:t,a):o},a}function Ek(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function kk(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Mk(t,e,n,r,i){var o=yk(e,n),a=yk(e,n=(n+i)/2),s=yk(r,n),u=yk(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}function Tk(){return wk(Ek)}function Ak(){return wk(kk)}function Ok(){var t=wk(Mk);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var Ck={draw:function(t,e){var n=Math.sqrt(e/KE);t.moveTo(n,0),t.arc(0,0,n,0,GE)}},Sk={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Dk=Math.sqrt(1/3),Pk=2*Dk,Ik={draw:function(t,e){var n=Math.sqrt(e/Pk),r=n*Dk;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Nk=Math.sin(KE/10)/Math.sin(7*KE/10),Rk=Math.sin(GE/10)*Nk,Lk=-Math.cos(GE/10)*Nk,jk={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Rk*n,i=Lk*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=GE*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},Bk={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Uk=Math.sqrt(3),qk={draw:function(t,e){var n=-Math.sqrt(e/(3*Uk));t.moveTo(0,2*n),t.lineTo(-Uk*n,-n),t.lineTo(Uk*n,-n),t.closePath()}},zk=Math.sqrt(3)/2,Wk=1/Math.sqrt(12),$k=3*(Wk/2+1),Hk={draw:function(t,e){var n=Math.sqrt(e/$k),r=n/2,i=n*Wk,o=r,a=n*Wk+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(-.5*r-zk*i,zk*r+-.5*i),t.lineTo(-.5*o-zk*a,zk*o+-.5*a),t.lineTo(-.5*s-zk*u,zk*s+-.5*u),t.lineTo(-.5*r+zk*i,-.5*i-zk*r),t.lineTo(-.5*o+zk*a,-.5*a-zk*o),t.lineTo(-.5*s+zk*u,-.5*u-zk*s),t.closePath()}},Fk=[Ck,Sk,Ik,Bk,jk,qk,Hk],Kk=function(){var t=jE(Ck),e=jE(64),n=null;function r(){var r;if(n||(n=r=wc()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),r)return n=null,r+""||null}return r.type=function(e){return arguments.length?(t="function"==typeof e?e:jE(e),r):t},r.size=function(t){return arguments.length?(e="function"==typeof t?t:jE(+t),r):e},r.context=function(t){return arguments.length?(n=null==t?null:t,r):n},r},Yk=function(){};function Gk(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Xk(t){this._context=t}Xk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Gk(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Gk(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Vk=function(t){return new Xk(t)};function Jk(t){this._context=t}Jk.prototype={areaStart:Yk,areaEnd:Yk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Gk(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var Zk=function(t){return new Jk(t)};function Qk(t){this._context=t}Qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Gk(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};var tM=function(t){return new Qk(t)};function eM(t,e){this._basis=new Xk(t),this._beta=e}eM.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var nM=function t(e){function n(t){return 1===e?new Xk(t):new eM(t,e)}return n.beta=function(e){return t(+e)},n}(.85);function rM(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function iM(t,e){this._context=t,this._k=(1-e)/6}iM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:rM(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:rM(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var oM=function t(e){function n(t){return new iM(t,e)}return n.tension=function(e){return t(+e)},n}(0);function aM(t,e){this._context=t,this._k=(1-e)/6}aM.prototype={areaStart:Yk,areaEnd:Yk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:rM(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var sM=function t(e){function n(t){return new aM(t,e)}return n.tension=function(e){return t(+e)},n}(0);function uM(t,e){this._context=t,this._k=(1-e)/6}uM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:rM(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var cM=function t(e){function n(t){return new uM(t,e)}return n.tension=function(e){return t(+e)},n}(0);function lM(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>FE){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>FE){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/l,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/l}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function fM(t,e){this._context=t,this._alpha=e}fM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:lM(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var dM=function t(e){function n(t){return e?new fM(t,e):new iM(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function _M(t,e){this._context=t,this._alpha=e}_M.prototype={areaStart:Yk,areaEnd:Yk,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:lM(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var hM=function t(e){function n(t){return e?new _M(t,e):new aM(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function pM(t,e){this._context=t,this._alpha=e}pM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:lM(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var gM=function t(e){function n(t){return e?new pM(t,e):new uM(t,0)}return n.alpha=function(e){return t(+e)},n}(.5);function vM(t){this._context=t}vM.prototype={areaStart:Yk,areaEnd:Yk,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};var yM=function(t){return new vM(t)};function mM(t){return t<0?-1:1}function bM(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(mM(o)+mM(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function xM(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function wM(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function EM(t){this._context=t}function kM(t){this._context=new MM(t)}function MM(t){this._context=t}function TM(t){return new EM(t)}function AM(t){return new kM(t)}function OM(t){this._context=t}function CM(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}EM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:wM(this,this._t0,xM(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,wM(this,xM(this,n=bM(this,t,e)),n);break;default:wM(this,this._t0,n=bM(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(kM.prototype=Object.create(EM.prototype)).point=function(t,e){EM.prototype.point.call(this,e,t)},MM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},OM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=CM(t),i=CM(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var SM=function(t){return new OM(t)};function DM(t,e){this._context=t,this._t=e}DM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}};var PM=function(t){return new DM(t,.5)};function IM(t){return new DM(t,0)}function NM(t){return new DM(t,1)}var RM=function(t,e){if((i=t.length)>1)for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]},LM=function(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n};function jM(t,e){return t[e]}var BM=function(){var t=jE([]),e=LM,n=RM,r=jM;function i(i){var o,a,s=t.apply(this,arguments),u=i.length,c=s.length,l=new Array(c);for(o=0;o<c;++o){for(var f,d=s[o],_=l[o]=new Array(u),h=0;h<u;++h)_[h]=f=[0,+r(i[h],d,h,i)],f.data=i[h];_.key=d}for(o=0,a=e(l);o<c;++o)l[a[o]].index=o;return n(l,a),l}return i.keys=function(e){return arguments.length?(t="function"==typeof e?e:jE(mk.call(e)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:jE(+t),i):r},i.order=function(t){return arguments.length?(e=null==t?LM:"function"==typeof t?t:jE(mk.call(t)),i):e},i.offset=function(t){return arguments.length?(n=null==t?RM:t,i):n},i},UM=function(t,e){if((r=t.length)>0){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}RM(t,e)}},qM=function(t,e){if((s=t.length)>0)for(var n,r,i,o,a,s,u=0,c=t[e[0]].length;u<c;++u)for(o=a=0,n=0;n<s;++n)(i=(r=t[e[n]][u])[1]-r[0])>=0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},zM=function(t,e){if((n=t.length)>0){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}RM(t,e)}},WM=function(t,e){if((i=t.length)>0&&(r=(n=t[e[0]]).length)>0){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,c=0;s<i;++s){for(var l=t[e[s]],f=l[a][1]||0,d=(f-(l[a-1][1]||0))/2,_=0;_<s;++_){var h=t[e[_]];d+=(h[a][1]||0)-(h[a-1][1]||0)}u+=f,c+=d*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=c/u)}n[a-1][1]+=n[a-1][0]=o,RM(t,e)}},$M=function(t){var e=t.map(HM);return LM(t).sort(function(t,n){return e[t]-e[n]})};function HM(t){for(var e,n=-1,r=0,i=t.length,o=-1/0;++n<i;)(e=+t[n][1])>o&&(o=e,r=n);return r}var FM=function(t){var e=t.map(KM);return LM(t).sort(function(t,n){return e[t]-e[n]})};function KM(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}var YM=function(t){return FM(t).reverse()},GM=function(t){var e,n,r=t.length,i=t.map(KM),o=$M(t),a=0,s=0,u=[],c=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],c.push(n));return c.reverse().concat(u)},XM=function(t){return LM(t).reverse()},VM=function(t){return function(){return t}};function JM(t){return t[0]}function ZM(t){return t[1]}function QM(){this._=null}function tT(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function eT(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function nT(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function rT(t){for(;t.L;)t=t.L;return t}QM.prototype={constructor:QM,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=rT(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(eT(this,n),n=(t=n).U),n.C=!1,r.C=!0,nT(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(nT(this,n),n=(t=n).U),n.C=!1,r.C=!0,eT(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?rT(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,eT(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,nT(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,eT(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,nT(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,eT(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,nT(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}};var iT=QM;function oT(t,e,n,r){var i=[null,null],o=CT.push(i)-1;return i.left=t,i.right=e,n&&sT(i,t,e,n),r&&sT(i,e,t,r),AT[t.index].halfedges.push(o),AT[e.index].halfedges.push(o),i}function aT(t,e,n){var r=[e,n];return r.left=t,r}function sT(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function uT(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],c=a[1],l=0,f=1,d=s[0]-u,_=s[1]-c;if(o=e-u,d||!(o>0)){if(o/=d,d<0){if(o<l)return;o<f&&(f=o)}else if(d>0){if(o>f)return;o>l&&(l=o)}if(o=r-u,d||!(o<0)){if(o/=d,d<0){if(o>f)return;o>l&&(l=o)}else if(d>0){if(o<l)return;o<f&&(f=o)}if(o=n-c,_||!(o>0)){if(o/=_,_<0){if(o<l)return;o<f&&(f=o)}else if(_>0){if(o>f)return;o>l&&(l=o)}if(o=i-c,_||!(o<0)){if(o/=_,_<0){if(o>f)return;o>l&&(l=o)}else if(_>0){if(o<l)return;o<f&&(f=o)}return!(l>0||f<1)||(l>0&&(t[0]=[u+l*d,c+l*_]),f<1&&(t[1]=[u+f*d,c+f*_]),!0)}}}}}function cT(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],c=t.left,l=t.right,f=c[0],d=c[1],_=l[0],h=l[1],p=(f+_)/2,g=(d+h)/2;if(h===d){if(p<e||p>=r)return;if(f>_){if(u){if(u[1]>=i)return}else u=[p,n];o=[p,i]}else{if(u){if(u[1]<n)return}else u=[p,i];o=[p,n]}}else if(s=g-(a=(f-_)/(h-d))*p,a<-1||a>1)if(f>_){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(d<h){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function lT(t,e){var n=t.site,r=e.left,i=e.right;return n===i&&(i=r,r=n),i?Math.atan2(i[1]-r[1],i[0]-r[0]):(n===r?(r=e[1],i=e[0]):(r=e[0],i=e[1]),Math.atan2(r[0]-i[0],i[1]-r[1]))}function fT(t,e){return e[+(e.left!==t.site)]}function dT(t,e){return e[+(e.left===t.site)]}var _T,hT=[];function pT(){tT(this),this.x=this.y=this.arc=this.site=this.cy=null}function gT(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,c=r[1]-s,l=o[0]-a,f=o[1]-s,d=2*(u*f-c*l);if(!(d>=-DT)){var _=u*u+c*c,h=l*l+f*f,p=(f*_-c*h)/d,g=(u*h-l*_)/d,v=hT.pop()||new pT;v.arc=t,v.site=i,v.x=p+a,v.y=(v.cy=g+s)+Math.sqrt(p*p+g*g),t.circle=v;for(var y=null,m=OT._;m;)if(v.y<m.y||v.y===m.y&&v.x<=m.x){if(!m.L){y=m.P;break}m=m.L}else{if(!m.R){y=m;break}m=m.R}OT.insert(y,v),y||(_T=v)}}}}function vT(t){var e=t.circle;e&&(e.P||(_T=e.N),OT.remove(e),hT.push(e),tT(e),t.circle=null)}var yT=[];function mT(){tT(this),this.edge=this.site=this.circle=null}function bT(t){var e=yT.pop()||new mT;return e.site=t,e}function xT(t){vT(t),TT.remove(t),yT.push(t),tT(t)}function wT(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];xT(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<ST&&Math.abs(r-u.circle.cy)<ST;)o=u.P,s.unshift(u),xT(u),u=o;s.unshift(u),vT(u);for(var c=a;c.circle&&Math.abs(n-c.circle.x)<ST&&Math.abs(r-c.circle.cy)<ST;)a=c.N,s.push(c),xT(c),c=a;s.push(c),vT(c);var l,f=s.length;for(l=1;l<f;++l)c=s[l],u=s[l-1],sT(c.edge,u.site,c.site,i);u=s[0],(c=s[f-1]).edge=oT(u.site,c.site,null,i),gT(u),gT(c)}function ET(t){for(var e,n,r,i,o=t[0],a=t[1],s=TT._;s;)if((r=kT(s,a)-o)>ST)s=s.L;else{if(!((i=o-MT(s,a))>ST)){r>-ST?(e=s.P,n=s):i>-ST?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}!function(t){AT[t.index]={site:t,halfedges:[]}}(t);var u=bT(t);if(TT.insert(e,u),e||n){if(e===n)return vT(e),n=bT(e.site),TT.insert(u,n),u.edge=n.edge=oT(e.site,u.site),gT(e),void gT(n);if(n){vT(e),vT(n);var c=e.site,l=c[0],f=c[1],d=t[0]-l,_=t[1]-f,h=n.site,p=h[0]-l,g=h[1]-f,v=2*(d*g-_*p),y=d*d+_*_,m=p*p+g*g,b=[(g*y-_*m)/v+l,(d*m-p*y)/v+f];sT(n.edge,c,h,b),u.edge=oT(c,t,null,b),n.edge=oT(t,h,null,b),gT(e),gT(n)}else u.edge=oT(e.site,u.site)}}function kT(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],c=u-e;if(!c)return s;var l=s-r,f=1/o-1/c,d=l/c;return f?(-d+Math.sqrt(d*d-2*f*(l*l/(-2*c)-u+c/2+i-o/2)))/f+r:(r+s)/2}function MT(t,e){var n=t.N;if(n)return kT(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var TT,AT,OT,CT,ST=1e-6,DT=1e-12;function PT(t,e){return e[1]-t[1]||e[0]-t[0]}function IT(t,e){var n,r,i,o=t.sort(PT).pop();for(CT=[],AT=new Array(t.length),TT=new iT,OT=new iT;;)if(i=_T,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(ET(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;wT(i.arc)}if(function(){for(var t,e,n,r,i=0,o=AT.length;i<o;++i)if((t=AT[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=lT(t,CT[e[n]]);for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],c=+e[1][1];!function(t,e,n,r){for(var i,o=CT.length;o--;)cT(i=CT[o],t,e,n,r)&&uT(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>ST||Math.abs(i[0][1]-i[1][1])>ST)||delete CT[o]}(a,s,u,c),function(t,e,n,r){var i,o,a,s,u,c,l,f,d,_,h,p,g=AT.length,v=!0;for(i=0;i<g;++i)if(o=AT[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)CT[u[s]]||u.splice(s,1);for(s=0,c=u.length;s<c;)h=(_=dT(o,CT[u[s]]))[0],p=_[1],f=(l=fT(o,CT[u[++s%c]]))[0],d=l[1],(Math.abs(h-f)>ST||Math.abs(p-d)>ST)&&(u.splice(s,0,CT.push(aT(a,_,Math.abs(h-t)<ST&&r-p>ST?[t,Math.abs(f-t)<ST?d:r]:Math.abs(p-r)<ST&&n-h>ST?[Math.abs(d-r)<ST?f:n,r]:Math.abs(h-n)<ST&&p-e>ST?[n,Math.abs(f-n)<ST?d:e]:Math.abs(p-e)<ST&&h-t>ST?[Math.abs(d-e)<ST?f:t,e]:null))-1),++c);c&&(v=!1)}if(v){var y,m,b,x=1/0;for(i=0,v=null;i<g;++i)(o=AT[i])&&(b=(y=(a=o.site)[0]-t)*y+(m=a[1]-e)*m)<x&&(x=b,v=o);if(v){var w=[t,e],E=[t,r],k=[n,r],M=[n,e];v.halfedges.push(CT.push(aT(a=v.site,w,E))-1,CT.push(aT(a,E,k))-1,CT.push(aT(a,k,M))-1,CT.push(aT(a,M,w))-1)}}for(i=0;i<g;++i)(o=AT[i])&&(o.halfedges.length||delete AT[i])}(a,s,u,c)}this.edges=CT,this.cells=AT,TT=OT=CT=AT=null}IT.prototype={constructor:IT,polygons:function(){var t=this.edges;return this.cells.map(function(e){var n=e.halfedges.map(function(n){return fT(e,t[n])});return n.data=e.site.data,n})},triangles:function(){var t=[],e=this.edges;return this.cells.forEach(function(n,r){if(o=(i=n.halfedges).length)for(var i,o,a,s,u,c,l=n.site,f=-1,d=e[i[o-1]],_=d.left===l?d.right:d.left;++f<o;)a=_,_=(d=e[i[f]]).left===l?d.right:d.left,a&&_&&r<a.index&&r<_.index&&(u=a,c=_,((s=l)[0]-c[0])*(u[1]-s[1])-(s[0]-u[0])*(c[1]-s[1])<0)&&t.push([l.data,a.data,_.data])}),t},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(t,e,n){for(var r,i,o=this,a=o._found||0,s=o.cells.length;!(i=o.cells[a]);)if(++a>=s)return null;var u=t-i.site[0],c=e-i.site[1],l=u*u+c*c;do{i=o.cells[r=a],a=null,i.halfedges.forEach(function(n){var r=o.edges[n],s=r.left;if(s!==i.site&&s||(s=r.right)){var u=t-s[0],c=e-s[1],f=u*u+c*c;f<l&&(l=f,a=s.index)}})}while(null!==a);return o._found=r,null==n||l<=n*n?i.site:null}};var NT=function(){var t=JM,e=ZM,n=null;function r(r){return new IT(r.map(function(n,i){var o=[Math.round(t(n,i,r)/ST)*ST,Math.round(e(n,i,r)/ST)*ST];return o.index=i,o.data=n,o}),n)}return r.polygons=function(t){return r(t).polygons()},r.links=function(t){return r(t).links()},r.triangles=function(t){return r(t).triangles()},r.x=function(e){return arguments.length?(t="function"==typeof e?e:VM(+e),r):t},r.y=function(t){return arguments.length?(e="function"==typeof t?t:VM(+t),r):e},r.extent=function(t){return arguments.length?(n=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],r):n&&[[n[0][0],n[0][1]],[n[1][0],n[1][1]]]},r.size=function(t){return arguments.length?(n=null==t?null:[[0,0],[+t[0],+t[1]]],r):n&&[n[1][0]-n[0][0],n[1][1]-n[0][1]]},r},RT=function(t){return function(){return t}};function LT(t,e,n){this.target=t,this.type=e,this.transform=n}function jT(t,e,n){this.k=t,this.x=e,this.y=n}jT.prototype={constructor:jT,scale:function(t){return 1===t?this:new jT(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new jT(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var BT=new jT(1,0,0);function UT(t){for(;!t.__zoom;)if(!(t=t.parentNode))return BT;return t.__zoom}function qT(){Gr.stopImmediatePropagation()}UT.prototype=jT.prototype;var zT=function(){Gr.preventDefault(),Gr.stopImmediatePropagation()};function WT(){return!Gr.ctrlKey&&!Gr.button}function $T(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function HT(){return this.__zoom||BT}function FT(){return-Gr.deltaY*(1===Gr.deltaMode?.05:Gr.deltaMode?1:.002)}function KT(){return navigator.maxTouchPoints||"ontouchstart"in this}function YT(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var GT=function(){var t,e,n=WT,r=$T,i=YT,o=FT,a=KT,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,l=xa,f=Xn("start","zoom","end"),d=500,_=150,h=0;function p(t){t.property("__zoom",HT).on("wheel.zoom",w).on("mousedown.zoom",E).on("dblclick.zoom",k).filter(a).on("touchstart.zoom",M).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new jT(e,t.x,t.y)}function v(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new jT(t.k,r,i)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function m(t,e,n){t.on("start.zoom",function(){b(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).end()}).tween("zoom",function(){var t=this,i=arguments,o=b(t,i),a=r.apply(t,i),s=null==n?y(a):"function"==typeof n?n.apply(t,i):n,u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=t.__zoom,f="function"==typeof e?e.apply(t,i):e,d=l(c.invert(s).concat(u/c.k),f.invert(s).concat(u/f.k));return function(t){if(1===t)t=f;else{var e=d(t),n=u/e[2];t=new jT(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}})}function b(t,e,n){return!n&&t.__zooming||new x(t,e)}function x(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function w(){if(n.apply(this,arguments)){var t=b(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=pi(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],ps(this),t.start()}zT(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},_),t.zoom("mouse",i(v(g(e,r),t.mouse[0],t.mouse[1]),t.extent,u))}}function E(){if(!e&&n.apply(this,arguments)){var t=b(this,arguments,!0),r=ui(Gr.view).on("mousemove.zoom",function(){if(zT(),!t.moved){var e=Gr.clientX-a,n=Gr.clientY-s;t.moved=e*e+n*n>h}t.zoom("mouse",i(v(t.that.__zoom,t.mouse[0]=pi(t.that),t.mouse[1]),t.extent,u))},!0).on("mouseup.zoom",function(){r.on("mousemove.zoom mouseup.zoom",null),wi(Gr.view,t.moved),zT(),t.end()},!0),o=pi(this),a=Gr.clientX,s=Gr.clientY;xi(Gr.view),qT(),t.mouse=[o,this.__zoom.invert(o)],ps(this),t.start()}}function k(){if(n.apply(this,arguments)){var t=this.__zoom,e=pi(this),o=t.invert(e),a=t.k*(Gr.shiftKey?.5:2),s=i(v(g(t,a),e,o),r.apply(this,arguments),u);zT(),c>0?ui(this).transition().duration(c).call(m,s,e):ui(this).call(p.transform,s)}}function M(){if(n.apply(this,arguments)){var e,r,i,o,a=Gr.touches,s=a.length,u=b(this,arguments,Gr.changedTouches.length===s);for(qT(),r=0;r<s;++r)i=a[r],o=[o=vi(this,a,i.identifier),this.__zoom.invert(o),i.identifier],u.touch0?u.touch1||u.touch0[2]===o[2]||(u.touch1=o,u.taps=0):(u.touch0=o,e=!0,u.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(u.taps<2&&(t=setTimeout(function(){t=null},d)),ps(this),u.start())}}function T(){if(this.__zooming){var e,n,r,o,a=b(this,arguments),s=Gr.changedTouches,c=s.length;for(zT(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<c;++e)n=s[e],r=vi(this,s,n.identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var l=a.touch0[0],f=a.touch0[1],d=a.touch1[0],_=a.touch1[1],h=(h=d[0]-l[0])*h+(h=d[1]-l[1])*h,p=(p=_[0]-f[0])*p+(p=_[1]-f[1])*p;n=g(n,Math.sqrt(h/p)),r=[(l[0]+d[0])/2,(l[1]+d[1])/2],o=[(f[0]+_[0])/2,(f[1]+_[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(v(n,r,o),a.extent,u))}}function A(){if(this.__zooming){var t,n,r=b(this,arguments),i=Gr.changedTouches,o=i.length;for(qT(),e&&clearTimeout(e),e=setTimeout(function(){e=null},d),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=ui(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return p.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",HT),t!==r?m(t,e,n):r.interrupt().each(function(){b(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},p.scaleBy=function(t,e,n){p.scaleTo(t,function(){var t=this.__zoom.k,n="function"==typeof e?e.apply(this,arguments):e;return t*n},n)},p.scaleTo=function(t,e,n){p.transform(t,function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==n?y(t):"function"==typeof n?n.apply(this,arguments):n,s=o.invert(a),c="function"==typeof e?e.apply(this,arguments):e;return i(v(g(o,c),a,s),t,u)},n)},p.translateBy=function(t,e,n){p.transform(t,function(){return i(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),r.apply(this,arguments),u)})},p.translateTo=function(t,e,n,o){p.transform(t,function(){var t=r.apply(this,arguments),a=this.__zoom,s=null==o?y(t):"function"==typeof o?o.apply(this,arguments):o;return i(BT.translate(s[0],s[1]).scale(a.k).translate("function"==typeof e?-e.apply(this,arguments):-e,"function"==typeof n?-n.apply(this,arguments):-n),t,u)},o)},x.prototype={start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){ti(new LT(p,t,this.that.__zoom),f.apply,f,[t,this.that,this.args])}},p.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:RT(+t),p):o},p.filter=function(t){return arguments.length?(n="function"==typeof t?t:RT(!!t),p):n},p.touchable=function(t){return arguments.length?(a="function"==typeof t?t:RT(!!t),p):a},p.extent=function(t){return arguments.length?(r="function"==typeof t?t:RT([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),p):r},p.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],p):[s[0],s[1]]},p.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],p):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},p.constrain=function(t){return arguments.length?(i=t,p):i},p.duration=function(t){return arguments.length?(c=+t,p):c},p.interpolate=function(t){return arguments.length?(l=t,p):l},p.on=function(){var t=f.on.apply(f,arguments);return t===f?p:t},p.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,p):Math.sqrt(h)},p},XT=(r(171),r(58),r(59),r(231));function VT(t){return(VT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function JT(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ZT(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QT(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function tA(t,e,n){return e&&QT(t.prototype,e),n&&QT(t,n),t}function eA(t,e){return!e||"object"!==VT(e)&&"function"!=typeof e?nA(t):e}function nA(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rA(t){return(rA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function iA(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oA(t,e)}function oA(t,e){return(oA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var aA=Object.freeze({children:function(t){return t.children},nodeSize:function(t){return t.data.size},spacing:0});function sA(t){var e=Object.assign({},aA,t);function n(t){var n=e[t];return"function"==typeof n?n:function(){return n}}function r(t){var e,r,a,s=o((e=i(),r=n("nodeSize"),a=n("spacing"),function(t){function n(t){var e;return ZT(this,n),e=eA(this,rA(n).call(this,t)),Object.assign(nA(e),{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:nA(e),lExtRelX:0,lThr:null,rExt:nA(e),rExtRelX:0,rThr:null}),e}return iA(n,e),tA(n,[{key:"spacing",value:function(t){return a(this.data,t.data)}},{key:"update",value:function(){return uA(this),cA(this),this}},{key:"size",get:function(){return r(this.data)}},{key:"x",get:function(){return this.data.x},set:function(t){this.data.x=t}},{key:"y",get:function(){return this.data.y},set:function(t){this.data.y=t}}]),n}()),t,function(t){return t.children});return s.update(),s.data}function i(){var t=n("nodeSize"),e=n("spacing");return function(n){function r(t){return ZT(this,r),eA(this,rA(r).call(this,t))}return iA(r,Kg.prototype.constructor),tA(r,[{key:"copy",value:function(){var t=o(this.constructor,this,function(t){return t.children});return t.each(function(t){return t.data=t.data.data}),t}},{key:"spacing",value:function(t){return e(this,t)}},{key:"size",get:function(){return t(this)}},{key:"nodes",get:function(){return this.descendants()}},{key:"xSize",get:function(){return this.size[0]}},{key:"ySize",get:function(){return this.size[1]}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.ySize}},{key:"left",get:function(){return this.x-this.xSize/2}},{key:"right",get:function(){return this.x+this.xSize/2}},{key:"root",get:function(){var t=this.ancestors();return t[t.length-1]}},{key:"numChildren",get:function(){return this.hasChildren?this.children.length:0}},{key:"hasChildren",get:function(){return!this.noChildren}},{key:"noChildren",get:function(){return null===this.children}},{key:"firstChild",get:function(){return this.hasChildren?this.children[0]:null}},{key:"lastChild",get:function(){return this.hasChildren?this.children[this.numChildren-1]:null}},{key:"extents",get:function(){return(this.children||[]).reduce(function(t,e){return r.maxExtents(t,e.extents)},this.nodeExtents)}},{key:"nodeExtents",get:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}],[{key:"maxExtents",value:function(t,e){return{top:Math.min(t.top,e.top),bottom:Math.max(t.bottom,e.bottom),left:Math.min(t.left,e.left),right:Math.max(t.right,e.right)}}}]),r}()}function o(t,e,n){return function e(r,i){var o=new t(r);Object.assign(o,{parent:i,depth:null===i?0:i.depth+1,height:0,length:1});var a=n(r)||[];return o.children=0===a.length?null:a.map(function(t){return e(t,o)}),o.children&&Object.assign(o,o.children.reduce(function(t,e){return{height:Math.max(t.height,e.height+1),length:t.length+e.length}},o)),o}(e,null)}return Object.assign(r,{nodeSize:function(t){return arguments.length?(e.nodeSize=t,r):e.nodeSize},spacing:function(t){return arguments.length?(e.spacing=t,r):e.spacing},children:function(t){return arguments.length?(e.children=t,r):e.children},hierarchy:function(t,n){var r=void 0===n?e.children:n;return o(i(),t,r)},dump:function(t){var e=n("nodeSize");return function t(n){return function(r){var i=n+"  ",o=n+"    ",a=r.x,s=r.y,u=e(r),c=r.children||[],l=0===c.length?" ":",".concat(i,"children: [").concat(o).concat(c.map(t(o)).join(o)).concat(i,"],").concat(n);return"{ size: [".concat(u.join(", "),"],").concat(i,"x: ").concat(a,", y: ").concat(s).concat(l,"},")}}("\n")(t)}}),r}sA.version=XT.a;var uA=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.y=n,(e.children||[]).reduce(function(n,r){var i=JT(n,2),o=i[0],a=i[1];t(r,e.y+e.ySize);var s=(0===o?r.lExt:r.rExt).bottom;return 0!==o&&fA(e,o,a),[o+1,mA(s,o,a)]},[0,null]),lA(e),yA(e),e},cA=function t(e,n,r){void 0===n&&(n=-e.relX-e.prelim,r=0);var i=n+e.relX;return e.relX=i+e.prelim-r,e.prelim=0,e.x=r+e.relX,(e.children||[]).forEach(function(n){return t(n,i,e.x)}),e},lA=function(t){(t.children||[]).reduce(function(t,e){var n=JT(t,2),r=n[0],i=n[1],o=r+e.shift,a=i+o+e.change;return e.relX+=a,[o,a]},[0,0])},fA=function(t,e,n){for(var r=t.children[e-1],i=t.children[e],o=r,a=r.relX,s=i,u=i.relX,c=!0;o&&s;){o.bottom>n.lowY&&(n=n.next);var l=a+o.prelim-(u+s.prelim)+o.xSize/2+s.xSize/2+o.spacing(s);(l>0||l<0&&c)&&(u+=l,dA(i,l),_A(t,e,n.index,l)),c=!1;var f=o.bottom,d=s.bottom;f<=d&&(o=pA(o))&&(a+=o.relX),f>=d&&(s=hA(s))&&(u+=s.relX)}!o&&s?gA(t,e,s,u):o&&!s&&vA(t,e,o,a)},dA=function(t,e){t.relX+=e,t.lExtRelX+=e,t.rExtRelX+=e},_A=function(t,e,n,r){var i=t.children[e],o=e-n;if(o>1){var a=r/o;t.children[n+1].shift+=a,i.shift-=a,i.change-=r-a}},hA=function(t){return t.hasChildren?t.firstChild:t.lThr},pA=function(t){return t.hasChildren?t.lastChild:t.rThr},gA=function(t,e,n,r){var i=t.firstChild,o=i.lExt,a=t.children[e];o.lThr=n;var s=r-n.relX-i.lExtRelX;o.relX+=s,o.prelim-=s,i.lExt=a.lExt,i.lExtRelX=a.lExtRelX},vA=function(t,e,n,r){var i=t.children[e],o=i.rExt,a=t.children[e-1];o.rThr=n;var s=r-n.relX-i.rExtRelX;o.relX+=s,o.prelim-=s,i.rExt=a.rExt,i.rExtRelX=a.rExtRelX},yA=function(t){if(t.hasChildren){var e=t.firstChild,n=t.lastChild,r=(e.prelim+e.relX-e.xSize/2+n.relX+n.prelim+n.xSize/2)/2;Object.assign(t,{prelim:r,lExt:e.lExt,lExtRelX:e.lExtRelX,rExt:n.rExt,rExtRelX:n.rExtRelX})}},mA=function(t,e,n){for(;null!==n&&t>=n.lowY;)n=n.next;return{lowY:t,index:e,next:n}};r(137),r(145),r(193),r(224);function bA(t){return(bA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xA(t,e){return!e||"object"!==bA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function wA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function EA(t,e,n){return e&&wA(t.prototype,e),n&&wA(t,n),t}function kA(t){var e="function"==typeof Map?new Map:void 0;return(kA=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return MA(t,arguments,AA(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),TA(r,t)})(t)}function MA(t,e,n){return(MA=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&TA(i,n.prototype),i}).apply(null,arguments)}function TA(t,e){return(TA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function AA(t){return(AA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var OA=function(t){function e(t,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(r=xA(this,AA(e).call(this))).main_instance=n,r.description=t,r.active=!1,r.togglebutton_selection=null,r.content_selection=null,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&TA(t,e)}(e,kA(Object)),EA(e,null,[{key:"id",value:function(){}}]),EA(e,[{key:"setup_selections",value:function(t,e){this.togglebutton_selection=t,this.content_selection=e}},{key:"has_content_selection",value:function(){return null!=this.content_selection}},{key:"toggle_active",value:function(){this.active=!this.active,this.update_active_state()}},{key:"update_active_state",value:function(){this.active?(this.togglebutton_selection&&(this.togglebutton_selection.classed("up",!1),this.togglebutton_selection.classed("down",!0)),this.enable_actions(),this.render_content()):(this.togglebutton_selection&&(this.togglebutton_selection.classed("up",!0),this.togglebutton_selection.classed("down",!1)),this.disable_actions(),this.remove())}},{key:"remove",value:function(){this.content_selection.selectAll("*").remove()}},{key:"has_toggle_button",value:function(){return!0}},{key:"render_togglebutton",value:function(){}},{key:"render_content",value:function(){}},{key:"description",value:function(){return this.description}},{key:"enable",value:function(){this.active=!0,this.enable_actions()}},{key:"enable_actions",value:function(){}},{key:"disable",value:function(){this.active=!1,this.disable_actions()}},{key:"disable_actions",value:function(){}}]),e}();function CA(t){return(CA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function SA(t,e){return!e||"object"!==CA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function DA(t){return(DA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function PA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function IA(t,e,n){return e&&PA(t.prototype,e),n&&PA(t,n),t}function NA(t,e){return(NA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var RA=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=SA(this,DA(e).call(this,"Search aggr",t))).search_node_text="",n.active=!0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&NA(t,e)}(e,OA),IA(e,[{key:"id",value:function(){return"bi_search_aggregations"}}]),IA(e,[{key:"has_toggle_button",value:function(){return!1}},{key:"render_content",value:function(){var t=this;this.content_selection.selectAll(".toolbar_search").data([null]).enter().append("div").classed("box",!0).classed("toolbar_search",!0).append("input").on("input",function(){return t.updated_search_node_text()}).classed("search_node",!0).attr("placeholder","Search node").attr("value",this.search_node_text)}},{key:"updated_search_node_text",value:function(){this.set_search_node_text(ui(Gr.target).property("value")),this.start_node_search()}},{key:"set_search_node_text",value:function(t){this.search_node_text=t}},{key:"start_node_search",value:function(){if(""!=this.search_node_text){var t=[],e=this.search_node_text.trim().toLowerCase();this.main_instance.viewport.current_viewport.get_all_nodes().forEach(function(n){-1!=n.data.name.toLowerCase().search(e)&&t.push({name:n.data.name,state:n.data.state})});var n=[];n.datasource=this.id(),n.type="node",n.entries=t,this.main_instance.infobox.feed_data(n)}else this.main_instance.infobox.feed_data([])}}]),e}();function LA(t){return(LA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jA(t,e){return!e||"object"!==LA(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BA(t){return(BA=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function UA(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qA(t,e)}function qA(t,e){return(qA=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $A(t,e,n){return e&&WA(t.prototype,e),n&&WA(t,n),t}var HA=function(){function t(){var e=this;zA(this,t),this.datasources={},this._initialize_datasources(),setInterval(function(){return e.schedule(!0)},1e4)}return $A(t,[{key:"_initialize_datasources",value:function(){this._register_datasource(KA),this._register_datasource(YA)}},{key:"_register_datasource",value:function(t){t.id()in this.datasources||(this.datasources[t.id()]=new t)}},{key:"schedule",value:function(t){var e=Math.floor((new Date).getTime()/1e3);for(var n in this.datasources){var r=this.datasources[n];1==r._enabled&&1==r._supports_regular_updates&&((1==t||e-r._last_update>r.get_update_interval())&&r.update_fetched_data())}}},{key:"get_datasource",value:function(t){return this.datasources[t]}},{key:"get_datasources",value:function(){return this.datasources}}]),t}(),FA=function(){function t(e){zA(this,t),this.description=e,this._enabled=!1,this._supports_regular_updates=!0,this._update_interval=30,this._last_update=0,this._fetch_latency=0,this._data=null,this._new_data_subscribers=[],this._fetch_url=null,this._fetch_params=null}return $A(t,null,[{key:"id",value:function(){return"abstract_datasource"}}]),$A(t,[{key:"subscribe_new_data",value:function(t){this._new_data_subscribers.push(t)}},{key:"unsubscribe_new_data",value:function(t){this._new_data_subscribers.splice(t,1)}},{key:"update_fetched_data",value:function(){this._fetch()}},{key:"set_update_interval",value:function(t){this._update_interval=t}},{key:"get_update_interval",value:function(){return this._update_interval}},{key:"enable",value:function(){this._enabled=!0}},{key:"disable",value:function(){this._enabled=!1}},{key:"fetch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._fetch_start=Math.floor((new Date).getTime()/1e3),this._fetch_url=t,this._fetch_params=e,this._fetch()}},{key:"_fetch",value:function(){var t=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._fetch_url&&zl(encodeURI(this._fetch_url),{credentials:"include",method:"POST",body:this._fetch_params,headers:{"Content-type":"application/x-www-form-urlencoded"}}).then(function(e){return t._set_data(e)})}},{key:"get_data",value:function(){return this._data}},{key:"_set_data",value:function(t){this._last_update=Math.floor((new Date).getTime()/1e3),this._fetch_latency=this._last_update-this._fetch_start,this._data=t.result,this._inform_subscribers()}},{key:"_inform_subscribers",value:function(){var t=this;this.generic_update_latency=+(new Date-this.time_update_generic_data_start)/1e3,this._new_data_subscribers.forEach(function(e){return e(t._data)})}}]),t}(),KA=function(t){function e(){var t;return zA(this,e),(t=jA(this,BA(e).call(this,"Aggregation datasource")))._update_interval=30,t}return UA(e,FA),$A(e,null,[{key:"id",value:function(){return"bi_aggregations"}}]),$A(e,[{key:"fetch_aggregations",value:function(t,e){var n="ajax_fetch_aggregation_data.py?aggregations="+JSON.stringify(t);e&&(n+="&layout_id="+e),this.fetch(n)}}]),e}(),YA=function(t){function e(){return zA(this,e),jA(this,BA(e).call(this,"Topology"))}return UA(e,FA),$A(e,null,[{key:"id",value:function(){return"topology"}}]),$A(e,[{key:"fetch_hosts",value:function(t){var e="topology_config="+JSON.stringify(t);this.fetch("ajax_fetch_topology.py",e)}}]),e}();function GA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var XA=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.main_instance=e,this.selection=this.main_instance.get_div_selection().append("div").attr("id","toolbar").classed("toolbar",!0),this._toolbar_plugins={},this.plugins_content_selection=this.selection.append("div").attr("id","content"),this.plugins_togglebutton_selection=this.selection.append("div").attr("id","togglebuttons"),this._setup_toolbar_plugins(),this.update_toolbar_plugins()}var e,n,r;return e=t,(n=[{key:"_setup_toolbar_plugins",value:function(){this._register_toolbar_plugin(RA)}},{key:"_register_toolbar_plugin",value:function(t){t.prototype.id()in this._toolbar_plugins||this.add_toolbar_plugin_instance(new t(this.main_instance))}},{key:"add_toolbar_plugin_instance",value:function(t){this._toolbar_plugins[t.id()]=t}},{key:"update_toolbar_plugins",value:function(){var t=this,e=Object.keys(this._toolbar_plugins);e.sort(function(e,n){return t._toolbar_plugins[e].sort_index<t._toolbar_plugins[n].sort_index}),e.forEach(function(e){var n=t._toolbar_plugins[e];if(!n.has_content_selection()){var r=t.plugins_content_selection.append("div").attr("id",e),i=null;n.has_toggle_button()&&(i=t.plugins_togglebutton_selection.append("div").classed("togglebutton",!0).classed("noselect",!0).classed("box",!0).classed("on",!0).classed("down",!1).classed("up",!0).on("click",function(){return n.toggle_active()})),n.setup_selections(i,r),n.render_togglebutton()}n.active&&n.update_active_state()})}},{key:"add_togglebutton",value:function(){}}])&&GA(e.prototype,n),r&&GA(e,r),t}();r(155);function VA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ZA(t,e,n){return e&&JA(t.prototype,e),n&&JA(t,n),t}function QA(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function tO(t,e){var n;t<4&&(n=console).log.apply(n,QA(Array.from(arguments)))}var eO=function(){function t(){VA(this,t)}return ZA(t,null,[{key:"duration",value:function(){return 500}},{key:"add_transition",value:function(e){return e.transition().duration(t.duration())}}]),t}(),nO=new(function(){function t(){VA(this,t),this._layers=[]}return ZA(t,[{key:"register",value:function(t,e){this._layers.push([t,e]),this._layers.sort(function(t,e){return t[1]>e[1]?1:t[1]<e[1]?-1:0})}},{key:"get_layers",value:function(){return this._layers}}]),t}()),rO=new(function(){function t(){VA(this,t),this._node_classes={}}return ZA(t,[{key:"register",value:function(t){this._node_classes[t.id()]=t}},{key:"get_node_class",value:function(t){return this._node_classes[t]}}]),t}()),iO=function(){function t(e){VA(this,t),this.hierarchy_list=e}return ZA(t,[{key:"find_node",value:function(t){var e=[];for(var n in e=t.rule_id?this._get_aggregator_nodes():t.hostname||t.service?this._get_leaf_nodes():this._get_all_nodes()){var r=e[n];if(this._match_node(t,r))return r}}},{key:"_get_all_nodes",value:function(){var t=[];return this.hierarchy_list.forEach(function(e){t=t.concat(e.nodes)}),t}},{key:"_get_aggregator_nodes",value:function(){var t=[];return this.hierarchy_list.forEach(function(e){e.nodes.forEach(function(e){e.children&&t.push(e)})}),t}},{key:"_get_leaf_nodes",value:function(){var t=[];return this.hierarchy_list.forEach(function(e){e.nodes.forEach(function(e){e._children||t.push(e)})}),t}},{key:"_match_node",value:function(t,e){var n=["hostname","service"];for(var r in n){var i=n[r];if(t[i]&&!t[i].disabled&&e.data[i]!=t[i].value)return!1}for(var o in n=["aggr_path_id","aggr_path_name"]){var a=n[o];if(t[a]&&(!t[a].disabled&&JSON.stringify(t[a].value)!=JSON.stringify(e.data[a])))return!1}return!(t.rule_id&&!t.rule_id.disabled&&e.data.rule_id.rule!=t.rule_id.value)&&(!(t.rule_name&&!t.rule_name.disabled&&e.data.name!=t.rule_name.value)&&e)}}]),t}();function oO(t){var e={x_min:1e4,x_max:-1e4,y_min:1e4,y_max:-1e4};return t.forEach(function(t){e.x_min=Math.min(t.x,e.x_min),e.y_min=Math.min(t.y,e.y_min),e.x_max=Math.max(t.x,e.x_max),e.y_max=Math.max(t.y,e.y_max)}),e.width=e.x_max-e.x_min,e.height=e.y_max-e.y_min,e}function aO(t,e){if(t.length<3)return{x_min:t[0].x,x_max:t[0].x+10,y_min:t[0].y,y_max:t[0].y+10,width:10,height:10};var n=Math.cos(e),r=Math.sin(e),i=[];return t.forEach(function(t){i.push({x:n*t.x+r*t.y,y:n*t.y+r*t.x})}),oO(i)}function sO(t){return(sO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function uO(t,e){return!e||"object"!==sO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function cO(t){return(cO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function lO(t,e){return(lO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _O=function(){function t(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];fO(this,t),this.toggleable=!1,this.enabled=n,this.viewport=e,this.selection=null}var e,n,r;return e=t,(n=[{key:"enable",value:function(t){this.enabled=!0,this.selection=t.svg,this.div_selection=t.div,this.setup(),this.size_changed(),0!=this.viewport.get_all_nodes().length&&(this.zoomed(),this.update_data(),this.update_gui())}},{key:"disable",value:function(){this.enabled=!1,this.selection&&(this.selection.selectAll("*").remove(),this.selection=null),this.div_selection&&(this.div_selection.selectAll("*").remove(),this.div_selection=null)}},{key:"setup",value:function(){}},{key:"size_changed",value:function(){}},{key:"zoomed",value:function(){}},{key:"set_enabled",value:function(t){this.enabled=t,this.enabled?this.viewport.enable_layer(this.id()):this.viewport.disable_layer(this.id())}},{key:"is_enabled",value:function(){return this.enabled}},{key:"is_toggleable",value:function(){return this.toggleable}},{key:"update_data",value:function(){}},{key:"update_gui",value:function(){}}])&&dO(e.prototype,n),r&&dO(e,r),t}(),hO=function(t){function e(t){var n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return fO(this,e),(n=uO(this,cO(e).call(this,t,r))).toggleable=!0,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&lO(t,e)}(e,_O),e}();function pO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var gO=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=n,this.viewport=e,this.reference_size={},this.style_configs=[],this.overlay_config={},this.line_config={style:"round"}}var e,n,r;return e=t,(n=[{key:"save_style",value:function(t){this.style_configs.push(t)}},{key:"clear_styles",value:function(){this.style_configs=[]}},{key:"remove_style",value:function(t){var e=this.style_configs.indexOf(t.style_config);this.style_configs.splice(e,1)}},{key:"serialize",value:function(){return{reference_size:this.reference_size,style_configs:this.style_configs,overlay_config:this.overlay_config,line_config:this.line_config}}},{key:"deserialize",value:function(t){this.reference_size=t.reference_size,this.style_configs=t.style_configs,this.overlay_config=t.overlay_config,this.line_config=t.line_config}}])&&pO(e.prototype,n),r&&pO(e,r),t}();function vO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var yO=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.layout_manager=e,this.style_templates={},this.load_styles()}var e,n,r;return e=t,(n=[{key:"load_styles",value:function(){var e=this;t.style_classes.forEach(function(t){e.style_templates[t.prototype.type()]=t})}},{key:"get_styles",value:function(){return this.style_templates}},{key:"get_style_class",value:function(t){return this.style_templates[t.type]}},{key:"instantiate_style",value:function(t,e,n){return new(this.get_style_class(t))(this.layout_manager,t,e,n)}},{key:"instantiate_style_name",value:function(t,e,n){return this.instantiate_style({type:t},e,n)}},{key:"instantiate_style_class",value:function(t,e,n){return this.instantiate_style({type:t.prototype.type()},e,n)}}])&&vO(e.prototype,n),r&&vO(e,r),t}();function mO(t){return(mO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xO(t,e){return!e||"object"!==mO(e)&&"function"!=typeof e?EO(t):e}function wO(t){return(wO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function EO(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MO(t,e,n){return e&&kO(t.prototype,e),n&&kO(t,n),t}function TO(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&AO(t,e)}function AO(t,e){return(AO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}yO.style_classes=[];var OO=function(t){function e(t){var n;return bO(this,e),(n=xO(this,wO(e).call(this,t)))._mouse_events_overlay=new DO(EO(n)),n.layout_applier=new PO(EO(n)),n.edit_layout=!1,n._node_dragging_allowed=!1,n._node_dragging_enforced=!1,n.allow_layout_updates=!0,n._active_styles={},n}return TO(e,_O),MO(e,[{key:"id",value:function(){return"layout_manager"}},{key:"name",value:function(){return"Layout Manager"}}]),MO(e,[{key:"create_undo_step",value:function(){this.layout_applier.create_undo_step(),this.toolbar_plugin._update_history_icons()}},{key:"get_overlay_config",value:function(){return this.layout_applier.current_layout_group.overlay_config}},{key:"add_active_style",value:function(t){this._active_styles[t.id()]=t}},{key:"get_active_style",value:function(t){return this._active_styles[t]}},{key:"remove_active_style",value:function(t){delete this._active_styles[t.id()],t.remove(),t.style_root_node.data.use_style=null}},{key:"get_context_menu_elements",value:function(t){return this.layout_applier.get_context_menu_elements(t)}},{key:"setup",value:function(){this.styles_selection=this.selection.append("g").attr("id","hierarchies")}},{key:"show_layout_options",value:function(){this.edit_layout=!0,this.enable_node_dragging(),this.allow_layout_updates=!1,this._mouse_events_overlay.update_data(),this.viewport.selection.select("#svg_layers #nodes").classed("edit",!0),this.update_style_indicators()}},{key:"hide_layout_options",value:function(){this.edit_layout=!1,this.disable_node_dragging(),this.allow_layout_updates=!0,this.viewport.selection.select("#svg_layers #nodes").classed("edit",!1),this.styles_selection.selectAll(".layout_style").selectAll("*").remove(),this.div_selection.selectAll("img").remove(),this.update_style_indicators(!0)}},{key:"enforce_node_drag",value:function(){this._node_dragging_enforced=!0}},{key:"enable_node_dragging",value:function(){this._node_dragging_allowed=!0}},{key:"disable_node_dragging",value:function(){this._node_dragging_allowed=!1}},{key:"is_node_drag_allowed",value:function(){return this._node_dragging_enforced||this._node_dragging_allowed}},{key:"register_toolbar_plugin",value:function(){this.toolbar_plugin=new SO(this),this.viewport.main_instance.toolbar.add_toolbar_plugin_instance(this.toolbar_plugin),this.viewport.main_instance.toolbar.update_toolbar_plugins()}},{key:"size_changed",value:function(){}},{key:"update_data",value:function(){this.toolbar_plugin||this.register_toolbar_plugin(),this.toolbar_plugin.update_content();var t=[];for(var e in this._active_styles)t.push([this._active_styles[e].style_root_node.depth,this._active_styles[e]]);t.sort(function(t,e){return t[0]>e[0]?-1:t[0]<e[0]?1:0}),t.forEach(function(t){return t[1].update_data()}),this.translate_layout(),this.compute_node_positions(),this._mouse_events_overlay.update_data()}},{key:"update_gui",value:function(){for(var t in this._active_styles)this._active_styles[t].update_gui()}},{key:"update_style_indicators",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];tO(7,"Updating style indicators, forced: "+e),(e||this.edit_layout)&&this.viewport.get_hierarchy_list().forEach(function(e){return e.nodes.forEach(function(e){e.data.use_style&&e.data.use_style.update_style_indicator(t.edit_layout)})})}},{key:"translate_layout",value:function(){for(var t in this._active_styles)this._active_styles[t].translate_coords()}},{key:"zoomed",value:function(){for(var t in this._active_styles)this._active_styles[t].zoomed()}},{key:"get_viewport_percentage_of_node",value:function(t){var e=t.data.chunk.coords;return{x:100*(t.x-e.x)/e.width,y:100*(t.y-e.y)/e.height}}},{key:"get_absolute_node_coords",value:function(t,e){var n=e.data.chunk.coords;return{x:n.x+n.width*t.x/100,y:n.y+n.height*t.y/100}}},{key:"get_node_positioning",value:function(t){return null==t.data.node_positioning&&(t.data.node_positioning={}),t.data.node_positioning}},{key:"add_node_positioning",value:function(t,e,n){null==e.data.node_positioning&&(e.data.node_positioning={}),e.data.node_positioning[t]=n}},{key:"compute_node_positions",value:function(){var t=this;this.viewport.get_hierarchy_list().forEach(function(e){e.nodes.forEach(function(e){return t.compute_node_position(e)})})}},{key:"compute_node_positions_from_list_of_nodes",value:function(t){var e=this;null!=t&&t.forEach(function(t){return e.compute_node_position(t)})}},{key:"compute_node_position",value:function(t){var e={weight:0,free:!0,style_type:"force"};for(var n in t.data.node_positioning){var r=t.data.node_positioning[n];r.weight>e.weight&&(e=r)}if(t.data.current_positioning=e,e.free)t.fx=null,t.fy=null,t.data.transition_info.use_transition=!1;else{t.fx=Math.max(Math.min(e.fx,5e3),-5e3),t.fy=Math.max(Math.min(e.fy,5e3),-5e3),t.x=t.fx,t.y=t.fy,t.data.transition_info.use_transition=e.use_transition}t.selection&&(t.selection.selectAll("circle").classed("style_root_node",t.data.use_style),t.selection.selectAll("circle").classed("free_floating_node",1==e.free))}},{key:"save_layout",value:function(t){this.save_layout_template(t)}},{key:"delete_layout_id",value:function(t){var e=this;B.post_url("ajax_delete_bi_template_layout.py","layout_id="+encodeURIComponent(t),function(){return e.toolbar_plugin.fetch_all_layouts()})}},{key:"save_layout_template",value:function(t){var e=this;B.post_url("ajax_save_bi_template_layout.py","layout="+encodeURIComponent(JSON.stringify(t)),function(){return e.toolbar_plugin.fetch_all_layouts()})}},{key:"save_layout_for_aggregation",value:function(t,e){var n=this;B.post_url("ajax_save_bi_aggregation_layout.py","layout="+encodeURIComponent(JSON.stringify(t))+"&aggregation_name="+encodeURIComponent(e),function(){n.viewport.main_instance.datasource_manager.schedule(!0),n.toolbar_plugin.fetch_all_layouts()})}},{key:"delete_layout_for_aggregation",value:function(t){var e=this;B.post_url("ajax_delete_bi_aggregation_layout.py","aggregation_name="+encodeURIComponent(t),function(){e.allow_layout_updates=!0,e.viewport.main_instance.datasource_manager.schedule(!0),e.toolbar_plugin.fetch_all_layouts()})}}]),e}(),CO=function(){function t(e){bO(this,t),this.toolbar_plugin=e,this.layout_manager=e.layout_manager}return MO(t,[{key:"render_style_config",value:function(t){this.selection=t;var e=this.selection.selectAll("div#style_div").data([null]).enter().append("div").attr("id","style_div");e.selectAll("#styleconfig_headline").data([null]).enter().append("h2").attr("id","styleconfig_headline").text("Style configuration"),e.selectAll("div.style_component").data(["style_options","style_matcher"]).enter().append("div").attr("id",function(t){return t}).classed("style_component",!0),this.show_style_configuration(this.current_style)}},{key:"show_style_configuration",value:function(t){if(t!=this.current_style&&this._cleanup_old_style_config(),this.current_style&&this.current_style.style_root_node.selection.select("circle.style_indicator").classed("focus",!1),t){this.selection.style("display",null),t.style_root_node.selection.select("circle.style_indicator").classed("focus",!0),this.current_style=t;var e=!1;this.current_style?this.current_style.type()==$O.prototype.type()?e=!1:null!=this.current_style.get_matcher()&&0!=this.current_style.get_style_options().length||(e=!0):e=!0,e?this.selection.transition().duration(eO.duration()).style("height","0px").style("display","none"):(this.selection.style("height",null),this.selection.style("display",null),this._show_style_configuration_options())}else this.selection.style("display","none")}},{key:"_cleanup_old_style_config",value:function(){this.selection.selectAll("div#style_options").selectAll("*").remove(),this.selection.selectAll(".matcher_topic_content").selectAll("*").remove()}},{key:"_show_style_configuration_options",value:function(){var t=this.selection.select("#style_options");this.current_style.render_options(t)}},{key:"_show_style_configuration_matcher",value:function(){var t=this.current_style.get_matcher();t?(this.selection.select("#style_matcher").style("display",null),this._update_basic_matcher_config(t),this._update_advanced_matcher_config(t)):this.selection.select("#style_matcher").style("display","none")}},{key:"_update_basic_matcher_config",value:function(t){var e=this,n=this.selection.select("#basic_matchers").selectAll("table").data([t]);n=n.enter().append("div").append("table").merge(n);var r=[];"bi_leaf"==this.current_style.style_root_node.data.node_type?(r.push({name:"Hostname",id:"hostname"}),r.push({name:"Service Description",id:"service"})):"bi_aggregator"==this.current_style.style_root_node.data.node_type&&(r.push({name:"Aggregation Rule ID",id:"rule_id"}),r.push({name:"Aggregation Rule Name",id:"rule_name"}));var i=n.selectAll("div.input_field").data(r).enter().append("tr").append("td").append("div").classed("input_field",!0);i.append("input").attr("type","checkbox").property("checked",function(e){return!t[e.id].disabled}).on("change",function(t){return e.toggle_matcher_condition(t.id)}),i.append("b").text(function(t){return t.name}).append("br"),i.append("input").attr("value",function(e){return t[e.id].value}).attr("id",function(t){return"matcher_text_"+t.id}).on("input",function(t){return e.update_matcher_condition_text(t.id)})}},{key:"_update_advanced_matcher_config",value:function(t){var e=this,n=this.selection.select("#advanced_matchers").selectAll("table").data([t]);n=n.enter().append("div").append("table").merge(n);var r=[];r.push({name:"Aggregation Rule Path ID",id:"aggr_path_id",value:t.aggr_path_id.value}),r.push({name:"Aggregation Rule Path Name",id:"aggr_path_name",value:t.aggr_path_name.value});var i=n.selectAll("div.input_field").data(r).enter().append("tr").append("td").append("div").attr("id",function(t){return t.id}).classed("input_field",!0);i.append("input").attr("type","checkbox").property("checked",function(e){return!t[e.id].disabled}).on("change",function(t){return e.toggle_matcher_condition(t.id)}),i.append("b").text(function(t){return t.name}),i.append("br"),i.append("div").classed("path_details",!0),this.selection.selectAll(".path_details").each(this._render_aggr_path_table)}},{key:"_render_aggr_path_table",value:function(t){var e=ui(this).selectAll("table").data([null]),n=e.enter().append("table"),r=n.append("tr");r.append("th").text("Name"),r.append("th").text("Instance number");var i=(e=n.merge(e)).selectAll("tr.content").data(t.value);i.exit().remove();var o=i.enter().append("tr").classed("content",!0);o.append("td").text(function(t){return t[0]}).style("width","100%"),o.append("td").text(function(t){return t[1]}).style("text-align","right")}},{key:"toggle_matcher_condition",value:function(t){var e=this.current_style.get_matcher();e[t].disabled?delete e[t].disabled:e[t].disabled=!0,this.current_style.set_matcher(e),this.layout_manager.layout_applier.apply_all_layouts()}},{key:"update_matcher_condition_text",value:function(t){var e=this.current_style.get_matcher(),n=this.selection.selectAll("#matcher_text_"+t).property("value");e[t].value=n,this.current_style.set_matcher(e),this.layout_manager.layout_applier.apply_all_layouts()}}]),t}(),SO=function(e){function n(t){var e;return bO(this,n),(e=xO(this,wO(n).call(this,"Modify Layout"))).layout_manager=t,e.sort_index=0,e.layout_style_configuration=new CO(EO(e)),e}return TO(n,OA),MO(n,[{key:"id",value:function(){return"layouting_toolbar"}}]),MO(n,[{key:"render_togglebutton",value:function(t){this.togglebutton_selection.style("cursor","pointer"),this.togglebutton_selection.append("img").attr("src",this.layout_manager.viewport.main_instance.get_theme_prefix()+"/images/icon_aggr.png").attr("title","Layout Designer").style("opacity",1)}},{key:"enable_actions",value:function(){for(var t in this.layout_manager.show_layout_options(),this.layout_manager.viewport.update_gui_of_layers(),this.layout_manager._active_styles)this.layout_manager._active_styles[t].generate_overlay();this.content_selection.transition().duration(eO.duration()).style("opacity",1).style("display",null)}},{key:"disable_actions",value:function(){this.layout_manager.hide_layout_options(),this.layout_manager.viewport.update_gui_of_layers(),this.content_selection.transition().duration(eO.duration()).style("opacity",0).style("display","none")}},{key:"remove",value:function(){this.content_selection.select("div.toolbar_layouting").transition().duration(eO.duration()).style("height","0px").remove()}},{key:"render_content",value:function(){this.update_content()}},{key:"update_content",value:function(){if(this.layout_manager.edit_layout){var t=this.content_selection.selectAll("div#configuration_management").data([null]),e=(t=t.enter().append("div").attr("id","configuration_management").classed("noselect",!0).classed("box",!0).merge(t)).selectAll("div#configuration_div").data([null]);if((e=e.enter().append("div").attr("id","configuration_div").merge(e)).selectAll("#layout_configuration_headline").data([null]).enter().append("h2").attr("id","layout_configuration_headline").text("Layout Configuration"),"bi_aggregations"==this.layout_manager.viewport.get_current_datasource()){this._render_aggregation_configuration(e);var n=this.content_selection.selectAll("div#history_icons").data([null]);n=n.enter().append("div").attr("id","history_icons").classed("noselect",!0).merge(n),this._render_layout_history(n);var r=this.content_selection.selectAll("div#style_management").data([null]);r=r.enter().append("div").attr("id","style_management").classed("noselect",!0).classed("box",!0).merge(r),this.layout_style_configuration.render_style_config(r)}this._render_layout_configuration(e)}}},{key:"_render_aggregation_configuration",value:function(t){var e=this,n=this.layout_manager.viewport.get_hierarchy_list();if(0!=n.length){var r=n[0],i=r.tree.data.name,o=t.selectAll("table#layout_settings").data([null]),a=o.enter().append("table").attr("id","layout_settings"),s=a.append("tr");s.append("td").text("Aggregation Name"),s.append("td").text(i),(s=a.append("tr")).append("td").text("Layout origin"),s.append("td").attr("id","layout_origin"),(s=a.append("tr")).append("td").append("input").attr("type","button").classed("button",!0).attr("value","Save this layout").style("margin-top",null).style("margin-bottom",null).style("width","100%").on("click",function(t){e._save_explicit_layout_clicked()}),s.append("td").append("input").attr("type","button").classed("button",!0).attr("value","Use auto-generated layout").attr("id","remove_explicit_layout").style("margin-top",null).style("margin-bottom",null).style("width","100%").style("margin-right","-4px").on("click",function(t){e._delete_explicit_layout_clicked()});var u=a.merge(o);u.select("#layout_origin").text(r.layout_settings.origin_info);var c="explicit"==r.layout_settings.origin_type;u.select("input#remove_explicit_layout").classed("disabled",!c).attr("disabled",!c||null)}}},{key:"_render_layout_configuration",value:function(t){var e=this;this.layout_manager.viewport.get_layer("nodes").render_line_style(t);var n=this.layout_manager.viewport.get_layers(),r=[];for(var i in n)n[i].is_toggleable()&&r.push(n[i]);var o=t.selectAll("table#overlay_configuration").data([null]).style("width","100%"),a=o.enter().append("table").attr("id","overlay_configuration").style("width","100%").on("change",function(){return e.overlay_options_changed()}),s=a.append("tr").classed("header",!0);s.append("th").text(""),s.append("th").text("Active"),s.append("th").text("Configurable");var u=a.merge(o);u.selectAll(".configurable_overlay").remove();var c=this.layout_manager.layout_applier.current_layout_group.overlay_config,l=u.selectAll("tr.configurable_overlay").data(r).enter().append("tr").classed("configurable_overlay",!0);l.append("td").text(function(t){return t.name()}).classed("noselect",!0);var f=["active","configurable"],d=function(t){var e=f[t];l.append("td").style("text-align","center").append("input").attr("option_id",function(t){return e}).attr("overlay_id",function(t){return t.id()}).attr("type","checkbox").merge(l).property("checked",function(t){return!!c[t.id()]&&c[t.id()][e]})};for(var _ in f)d(_)}},{key:"_render_layout_history",value:function(t){var e=this,n=[{icon:"icons8-undo.svg",id:"undo",title:"Undo",handler:function(){return e._move_in_history(1)}},{icon:"icons8-redo.svg",id:"redo",title:"Redo",handler:function(){return e._move_in_history(-1)}}],r=t.selectAll("img.icon").data(n);r=r.enter().append("img").classed("icon",!0).classed("box",!0).attr("id",function(t){return t.id}).attr("title",function(t){return t.title}).attr("src",function(t){return e.layout_manager.viewport.main_instance.get_theme_prefix()+"/images/icons/"+t.icon}).on("click",function(t){return t.handler()}).merge(r),0==this.layout_manager.layout_applier._undo_history.length&&this.layout_manager.layout_applier.create_undo_step(),this._update_history_icons()}},{key:"_update_history_icons",value:function(){var t=this.content_selection.select("#history_icons"),e=this.layout_manager.layout_applier._undo_end_offset,n=this.layout_manager.layout_applier._undo_history.length;t.selectAll("#undo").classed("disabled",n-e<=1),t.selectAll("#redo").classed("disabled",0==e)}},{key:"_move_in_history",value:function(t){var e=this.layout_manager.layout_applier._undo_history.length;if(0!=e){var n=e-1-this.layout_manager.layout_applier._undo_end_offset-t;if(!(n>e-1||n<0)){this.layout_manager.layout_applier._undo_end_offset+=t;var r=JSON.parse(JSON.stringify(this.layout_manager.layout_applier._undo_history[n]));this.layout_manager.viewport.get_hierarchy_list().forEach(function(t){t.layout_settings=r,delete t.layout_instance}),this._update_history_icons(),this.layout_manager.layout_applier.apply_all_layouts()}}}},{key:"fetch_all_layouts",value:function(){WO.restart_with_alpha(.5)}},{key:"update_available_layouts",value:function(t){var e=this;this.layout_manager.layout_applier.layouts=t;var n=[""];(n=n.concat(Object.keys(t))).sort();var r=this.content_selection.select("#available_layouts"),i=null;this.layout_manager.layout_applier.current_layout_group.id?i=this.layout_manager.layout_applier.current_layout_group.id:n.length>0&&(i=n[0]),this.add_dropdown_choice(r,n,i,function(){return e.layout_changed_callback()}),i&&this.content_selection.select("#layout_name").property("value",i),this.update_save_layout_button()}},{key:"layout_changed_callback",value:function(){var t=Gr.target.value;this.layout_manager.layout_applier.apply_layout_id(t),this.layout_style_configuration.show_style_configuration(),this.content_selection.select("#layout_name").property("value",t),this.update_content(),this.update_save_layout_button()}},{key:"set_overlay_options",value:function(t,e,n){this.layout_manager.layout_applier.current_layout_group.overlay_config[t]={active:e,configurable:n},this.layout_manager.viewport.update_active_overlays()}},{key:"overlay_options_changed",value:function(){var t=this.layout_manager.layout_applier.current_layout_group.overlay_config,e=ui(Gr.target),n=e.property("checked"),r=e.attr("option_id"),i=e.attr("overlay_id");t[i]||(t[i]={}),t[i][r]=n,this.layout_manager.viewport.update_active_overlays()}},{key:"_render_layout_management",value:function(t){var e=this;t.selectAll("table#layout_management").data([null]);t.selectAll("#template_headline").data([null]).enter().append("h2").attr("id","template_headline").text("Layout templates");var n=t.selectAll("table#template_configuration").data([null]).enter().append("table").attr("id","template_configuration"),r=n.append("tr"),i=r.append("td").attr("id","available_layouts");this.add_dropdown_choice(i,[],null,function(){return e.layout_changed_callback()}),r.append("td").append("input").attr("type","button").classed("button",!0).style("width","100%").attr("value","Delete template").on("click",function(t){var n=e.content_selection.select("#available_layouts").select("select").property("value");n&&e.layout_manager.delete_layout_id(n)}),(r=n.append("tr")).append("td").append("input").attr("value","").attr("id","layout_name").style("width","100%").style("box-sizing","border-box").on("input",function(){return e.update_save_layout_button()}).on("keydown",function(){e.content_selection.select("#save_button").attr("disabled")||13==Gr.keyCode&&e._save_layout_clicked()}),r.append("td").append("input").attr("type","button").classed("button",!0).style("width","100%").attr("id","save_button").attr("value","Save template").on("click",function(t){return e._save_layout_clicked()}),n.append("tr").append("td").attr("colspan","2").attr("id","infotext").text("")}},{key:"update_save_layout_button",value:function(){var t=this.content_selection.select("#available_layouts").select("select").property("value").trim(),e=this.content_selection.select("#layout_name").property("value").trim(),n=this.content_selection.select("#save_button"),r=this.content_selection.select("#infotext");r.text(""),""==e?(n.attr("disabled",!0),n.classed("disabled",!0),n.attr("value","Save template")):t==e?(n.attr("disabled",null),n.classed("disabled",!1),n.attr("value","Save template")):-1==Object.keys(this.layout_manager.layout_applier.layouts).indexOf(e)?(n.attr("disabled",null),n.classed("disabled",!1),n.attr("value","Save as new template")):(n.attr("disabled",!0),n.classed("disabled",!0),n.attr("value","Save as"),r.text("Can not override existing layout").style("color","red"))}},{key:"_save_layout_clicked",value:function(){var t=this.content_selection.select("#layout_name").property("value"),e=this.layout_manager.layout_applier.get_current_layout_group(),n={};n[t]=e,this.layout_manager.save_layout_template(n),this.layout_manager.layout_applier.current_layout_group.id=t}},{key:"_save_explicit_layout_clicked",value:function(){var t=this.layout_manager.viewport.get_hierarchy_list()[0].tree.data.name,e=this.layout_manager.layout_applier.get_current_layout_group(),n={};n[t]=e,this.layout_manager.save_layout_for_aggregation(n,t)}},{key:"_delete_explicit_layout_clicked",value:function(){var t=this.layout_manager.viewport.get_hierarchy_list(),e=t[0].tree.data.name;t.forEach(function(t){t.layout_instance=null}),this.layout_manager.delete_layout_for_aggregation(e)}},{key:"add_text_input",value:function(t,e){var n=t.selectAll("input").data([""]);(n=n.enter().append("input").merge(n)).attr("type","text").attr("value",e)}},{key:"add_dropdown_choice",value:function(t,e,n,r){var i=t.selectAll("select").data([null]),o=(i=i.enter().append("select").merge(i).style("width","100%")).on("change",r).selectAll("option").data(e);o.exit().remove(),(o=o.enter().append("option").merge(o)).property("value",function(t){return t}).property("selected",function(t){return t==n}).text(function(t){return t})}},{key:"render_table",value:function(e,n){var r=e.selectAll("table").data([""]);if(r=r.enter().append("table").merge(r),n.headers){var i=r.selectAll("thead").data([""]),o=(i=i.enter().append("thead").append("tr").merge(i)).selectAll("th").data(n.headers);o.enter().append("th").merge(o).text(function(t){return t}),o.exit().remove()}var a=r.selectAll("tbody").data([""]),s=(a=a.enter().append("tbody").merge(a)).selectAll("tr").data(n.rows,function(t){return t});s.exit().remove();var u=(s=s.enter().append("tr").merge(s)).selectAll("td").remove();u=(u=s.selectAll("td").data(function(t){return t},function(t){return t})).enter().append("td").merge(u).tex/t(function(t){return"HMM "+t})}}]),n}(),DO=function(){function t(e){var n=this;bO(this,t),this.layout_manager=e,this.drag=Ci().on("start.drag",function(){return n._dragstarted()}).on("drag.drag",function(){return n._dragging()}).on("end.drag",function(){return n._dragended()}),this.dragged_node=null}return MO(t,[{key:"update_data",value:function(){var t=this.layout_manager.viewport.get_layer("nodes");t&&t.nodes_selection.selectAll(".node_element").call(this.drag)}},{key:"_dragstarted",value:function(){if(this.layout_manager.is_node_drag_allowed()){Gr.sourceEvent.stopPropagation(),this._dragged_node=ui(Gr.sourceEvent.target);var t=this._dragged_node.datum();t&&(this._apply_drag_force(t,Gr.x,Gr.y),this.drag_start_x=Gr.x,this.drag_start_y=Gr.y,t.data.use_style&&this.layout_manager.toolbar_plugin.layout_style_configuration.show_style_configuration(t.data.use_style),this.layout_manager.dragging=!0)}}},{key:"_apply_drag_force",value:function(t,e,n){t.data.node_positioning.drag={};var r=t.data.node_positioning.drag;r.use_transition=!1,t.data.use_style?r.weight=1e3:r.weight=5,r.fx=e,r.fy=n}},{key:"_dragging",value:function(){if(this.layout_manager.is_node_drag_allowed()){var t=this._dragged_node.datum();if(t){t.data.use_style&&(t.data.use_style.style_config.options.detach_from_parent||(t.data.use_style.style_config.options.detach_from_parent=!0,this.layout_manager.toolbar_plugin.layout_style_configuration.show_style_configuration(null),this.layout_manager.toolbar_plugin.layout_style_configuration.show_style_configuration(t.data.use_style)));var e,n=Gr.x-this.drag_start_x,r=Gr.y-this.drag_start_y;e=1/this.layout_manager.viewport.last_zoom.k,this._apply_drag_force(t,this.drag_start_x+n*e,this.drag_start_y+r*e);ui(Gr.sourceEvent.target).datum();for(var i in WO.restart_with_alpha(.5),t.data.use_style&&(t.data.use_style.force_style_translation(),t.data.use_style.translate_coords()),this.layout_manager.compute_node_position(t),this.layout_manager._active_styles)this.layout_manager._active_styles[i].update_data();this.layout_manager.translate_layout(),this.layout_manager.compute_node_positions(),this.layout_manager.viewport.update_gui_of_layers()}}}},{key:"_dragended",value:function(){if(this.layout_manager.dragging=!1,this.layout_manager.is_node_drag_allowed()){var t=this._dragged_node.datum();if(t){if(t.data.use_style){var e=this.layout_manager.get_viewport_percentage_of_node(t);tO(7,"dragended: new position",e),t.data.use_style.style_config.position=e,t.data.use_style.force_style_translation()}t.data.use_style&&"fixed"==t.data.use_style.type()&&t.data.use_style.fix_node(t),delete t.data.node_positioning.drag,this.layout_manager.translate_layout(),this.layout_manager.compute_node_position(t),this.layout_manager.create_undo_step()}}}}]),t}(),PO=function(){function t(e){bO(this,t),this.layout_manager=e,this.viewport=e.viewport,this.layout_style_factory=new yO(this.layout_manager),this.current_layout_group=new gO(this.viewport),this.layouts={},this._align_layouts=!0,this._undo_history=[],this._undo_end_offset=0}return MO(t,[{key:"get_context_menu_elements",value:function(t){var e=this;if(t&&"bi_leaf"!=t.data.node_type&&"bi_aggregator"!=t.data.node_type||"bi_aggregations"!=this.viewport.get_current_datasource())return[];var n=[],r=this.layout_style_factory.get_styles(),i=function(i){var o=r[i];t?n.push({text:"Convert to "+o.prototype.description(),on:function(){return e._convert_node(t,o)},href:"",img:e.layout_manager.viewport.main_instance.get_theme_prefix()+"/images/icon_aggr.png"}):n.push({text:"Convert all nodes to "+o.prototype.description(),on:function(){return e._convert_all(o)},href:"",img:e.layout_manager.viewport.main_instance.get_theme_prefix()+"/images/icon_aggr.png"})};for(var o in r)i(o);return t&&t.data.use_style&&n.push({text:"Remove style",on:function(){return e._convert_node(t,null)},href:"",img:this.layout_manager.viewport.main_instance.get_theme_prefix()+"/images/icon_aggr.png"}),n}},{key:"_convert_node",value:function(t,e){var n=t.data.chunk.layout_instance,r=t.data.use_style;if(!r||null==e||r.type()!=e.prototype.type()){r&&n.remove_style(r);var i=null;null!=e&&(i=this.layout_style_factory.instantiate_style_class(e,t),n.save_style(i.style_config)),this.layout_manager.layout_applier.apply_all_layouts(),i&&i.update_style_indicator(),this.layout_manager.toolbar_plugin.layout_style_configuration.show_style_configuration(i),this.layout_manager.create_undo_step()}}},{key:"_convert_all",value:function(t){var e=this,n=null;this.layout_manager.viewport.get_hierarchy_list().forEach(function(r){r.layout_instance.clear_styles(),t==XO?r.nodes.forEach(function(n){r.layout_instance.save_style(e.layout_style_factory.instantiate_style_class(t,n).style_config)}):(n=e.layout_style_factory.instantiate_style_class(t,r.nodes[0]),r.layout_instance.save_style(n.style_config))}),this.apply_all_layouts(),n.update_style_indicator(),this.layout_manager.toolbar_plugin.layout_style_configuration.show_style_configuration(n),this.layout_manager.create_undo_step()}},{key:"create_undo_step",value:function(){this._undo_history=this._undo_history.slice(0,this._undo_history.length-this._undo_end_offset),this._undo_end_offset=0,this._undo_history.push(this._create_manual_layout_settings())}},{key:"_create_manual_layout_settings",value:function(){var t=this.layout_manager.layout_applier.get_current_layout_group();return{origin_info:"Explicit set",origin_type:"explicit",config:JSON.parse(JSON.stringify(t))}}},{key:"apply_layout_id",value:function(t){var e=this;this.layout_manager.viewport.get_hierarchy_list().forEach(function(n){var r=new gO(e.viewport,t);if(""!=t){var i=JSON.parse(JSON.stringify(e.layouts[t]));i.id=t,r.deserialize(i)}n.layout_instance=r}),this.apply_multiple_layouts()}},{key:"apply_all_layouts",value:function(){this.apply_multiple_layouts(this.viewport.get_hierarchy_list())}},{key:"apply_multiple_layouts",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=[],i=null;t.forEach(function(t){var n=t.layout_settings,o=new iO([t]);if(!t.layout_instance&&(t.layout_instance=new gO(e),n.config&&(n.config.ignore_rule_styles||t.nodes.forEach(function(n){if(null!=n.data.rule_layout_style&&"none"!=n.data.rule_layout_style.style_type){var i=n.data.rule_layout_style.style_type,o=n.data.rule_layout_style.style_config,a=e.layout_style_factory.instantiate_style_name(i,n);a.style_config.options=o,t.layout_instance.save_style(a.style_config),r.push({node:n,style:a.style_config})}})),n.origin_type))if("default_template"==n.origin_type){var a=e.layout_style_factory.instantiate_style_name(n.default_id,t.tree);a.style_config.position={x:50,y:50},t.layout_instance.save_style(a.style_config)}else t.layout_instance.deserialize(n.config),t.template_layout_id&&(i=t.template_layout_id);r=r.concat(e.find_nodes_for_layout(t.layout_instance,o))}),r.sort(function(t,e){return t.node.depth>e.node.depth?1:t.node.depth<e.node.depth?-1:0});var o=this._get_grouped_styles(r);r=o.concat(r),this._update_node_specific_styles(r),this.current_layout_group=this.get_current_layout_group(),i&&(this.current_layout_group.id=i),this.viewport.update_active_overlays(),this.layout_manager.edit_layout&&(this.layout_manager.allow_layout_updates=!1),n&&WO.restart_with_alpha(2)}},{key:"_get_grouped_styles",value:function(t){var e=this;t.forEach(function(t){var e=1==t.style.options.box_leaf_nodes;t.node.each(function(t){t.data.box_leaf_nodes=e}),t.node.data.box_leaf_nodes=e});var n=[];this.viewport.get_hierarchy_list().forEach(function(t){t.nodes.forEach(function(t){if(t._children&&t.data.box_leaf_nodes&&(t.count(),t.value==t._children.length)){var e=!1;t._children.forEach(function(t){t._children&&(e=!0)}),e||n.push(t)}})}),t.forEach(function(t){return t.node.descendants().forEach(function(t){return delete t.data.box_leaf_nodes})});var r=[];return n.forEach(function(t){var n=e.layout_style_factory.instantiate_style_name("block",t);n.style_config.options={},r.push({node:t,style:n.style_config})}),r}},{key:"align_layouts",value:function(t){tO(7,"LayoutManager:align_layouts"),this.viewport.get_hierarchy_list().forEach(function(t){var e=oO(t.nodes),n=-(e.x_min-(t.coords.width-e.width)/2)/t.coords.width*100,r=-(e.y_min-(t.coords.height-e.height)/2)/t.coords.height*100;t.nodes.forEach(function(t){t.data.use_style&&(t.data.use_style.style_config.position.x+=n,t.data.use_style.style_config.position.y+=r)})}),this._update_node_specific_styles(t)}},{key:"_update_node_specific_styles",value:function(t){var e=this;tO(6,"LayoutManager:update_node_specific styles");var n=[],r=[];for(var i in t){var o=t[i];r.indexOf(o.node)>=0?tO(7,"  filtered duplicate style assignment",this.layout_style_factory.get_style_class(o.style).prototype.compute_id(o.node)):(r.push(o.node),n.push(t[i]))}var a=this.layout_manager.styles_selection.selectAll(".layout_style").data(n,function(t){return e.layout_style_factory.get_style_class(t.style).prototype.compute_id(t.node)});a.exit().each(function(t){tO(7,"  removing style "+e.layout_style_factory.get_style_class(t.style).prototype.compute_id(t.node)),e.layout_manager.remove_active_style(t.node.data.use_style),e.layout_manager.compute_node_position(t.node)}).remove(),a.enter().append("g").classed("layout_style",!0).each(function(t,n,r){tO(7,"  create style "+e.layout_style_factory.get_style_class(t.style).prototype.compute_id(t.node)),t.node.data.use_style&&e.layout_manager.remove_active_style(t.node.data.use_style);var i=e.layout_style_factory.instantiate_style(t.style,t.node,ui(r[n]));e.layout_manager.add_active_style(i)}).merge(a).each(function(t){tO(7,"  updating style "+e.layout_style_factory.get_style_class(t.style).prototype.compute_id(t.node));var n=e.layout_style_factory.get_style_class(t.style).prototype.compute_id(t.node),r=e.layout_manager.get_active_style(n);if(t.node.data.use_style=r,t.node.data.use_style.style_config.options=t.style.options,t.node.data.use_style.style_config.position=t.style.position,t.node.data.use_style.style_root_node=t.node,t.node.data.use_style.force_style_translation(),r.type()!=$O.prototype.type()){var i=e.layout_manager.get_absolute_node_coords({x:r.style_config.position.x,y:r.style_config.position.y},t.node);t.node.fx=i.x,t.node.fy=i.y,t.node.x=i.x,t.node.y=i.y}}),this.viewport.get_hierarchy_list().forEach(function(t){e._compute_force_options(t.tree)});var s=this.viewport.get_all_nodes(),u=this.viewport.get_all_links();WO.register_viewport(this.layout_manager.viewport),WO.update_nodes_and_links(s,u),this.layout_manager.update_data(),this._align_layouts&&(this._align_layouts=!1,this.align_layouts(t))}},{key:"_compute_force_options",value:function(t){var e=this;tO(6,"LayoutManager: _compute_force_options");var n=null;if(t.data.use_style&&t.data.use_style.type()==$O.prototype.type())n=t.data.use_style.style_config.options;else if(t.parent)n=t.parent.data.force_options;else{n=this.layout_style_factory.instantiate_style_class($O,t.data.chunk.tree).style_config.options}t.data.force_options=n,t._children&&t._children.forEach(function(t){return e._compute_force_options(t)})}},{key:"find_nodes_for_layout",value:function(t,e){var n=[];return t.style_configs.forEach(function(t){if(t.matcher){var r=e.find_node(t.matcher);r&&n.push({node:r,style:t})}}),n}},{key:"get_current_layout_group",value:function(){var t=[],e=null;if(this.viewport.get_hierarchy_list().forEach(function(t){t.layout_instance&&(e=t.layout_instance.serialize())}),!e)return this.current_layout_group;for(var n in this.layout_manager._active_styles)t.push(this.layout_manager._active_styles[n].style_config);return e.style_configs=t,e.reference_size={width:this.viewport.width,height:this.viewport.height},e}}]),t}();function IO(t){return(IO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function NO(t,e){return!e||"object"!==IO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function RO(t){return(RO=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function LO(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jO(t,e)}function jO(t,e){return(jO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function BO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function qO(t,e,n){return e&&UO(t.prototype,e),n&&UO(t,n),t}var zO=function(){function t(e,n,r,i){var o=this;if(BO(this,t),this._layout_manager=e,this.style_config=n,this.selection=i,this.style_root_node=r,this.style_root_node&&this.style_config.position){var a=this.style_root_node.data.chunk.coords;this.style_root_node.x=n.position.x/100*a.width+a.x,this.style_root_node.y=n.position.y/100*a.height+a.y}this._initialize_style_config(),this._default_options={},this.get_style_options().forEach(function(t){o._default_options[t.id]=t.values.default}),this._style_translated=!1,this._vertices=[]}return qO(t,[{key:"_initialize_style_config",value:function(){var t=this;null==this.style_config.options&&(this.style_config.options={}),this.get_style_options().forEach(function(e){null==t.style_config.options[e.id]&&(t.style_config.options[e.id]=e.values.default)});var e=this.get_matcher();e&&(this.style_config.matcher=e),this.style_root_node&&!this.style_config.position&&(this.style_config.position=this._layout_manager.get_viewport_percentage_of_node(this.style_root_node))}},{key:"id",value:function(){return this.compute_id(this.style_root_node)}},{key:"compute_id",value:function(t){return this.type()+"_"+t.data.id}},{key:"get_style_options",value:function(){return[]}},{key:"render_options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.options_selection=t,this._update_options_in_input_field(e)}},{key:"generate_overlay",value:function(){}},{key:"_update_options_in_input_field",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(this.options_selection){var n=this.get_style_options();if(0!=n.length){this.options_selection.selectAll("#styleoptions_headline").data([null]).enter().append("b").attr("id","styleoptions_headline").text("Options");var r=this.options_selection.selectAll("table").data([null]);r=r.enter().append("table").merge(r),this._render_range_options(r,n,e),this._render_checkbox_options(r,n,e),this.options_selection.selectAll("input.reset_options").data([null]).enter().append("input").attr("type","button").classed("button",!0).classed("reset_options",!0).attr("value","Reset default values").on("click",function(e){t.reset_default_options()}),this.options_selection.selectAll("div.clear_float").data([null]).enter().append("div").classed("clear_float",!0).style("clear","right")}}}},{key:"_render_range_options",value:function(t,e,n){var r=this,i=t.selectAll("tr.range_option").data(e.filter(function(t){return"range"==t.option_type}));i.exit().remove();var o=i.enter().append("tr").classed("range_option",!0);o.append("td").text(function(t){return t.text}).classed("style_infotext",!0),o.append("td").append("input").classed("range",!0).attr("id",function(t){return t.id}).attr("name",function(t){return n+"_type_value_"+t.id}).attr("type","range").attr("step",1).attr("min",function(t){return t.values.min}).attr("max",function(t){return t.values.max}).on("input",function(){r._layout_manager.dragging=!0,r.option_changed_in_input_field(),r.changed_options()}).on("change",function(){r._layout_manager.dragging=!1,r._layout_manager.create_undo_step()}),o.append("td").classed("text",!0),(i=o.merge(i)).select("td input.range").property("value",function(t){return t.value}),i.select("td.text").text(function(t){return t.value})}},{key:"_render_checkbox_options",value:function(t,e,n){var r=this,i=t.selectAll("tr.checkbox_option").data(e.filter(function(t){return"checkbox"==t.option_type}));i.exit().remove();var o=i.enter().append("tr").classed("checkbox_option",!0);o.append("td").text(function(t){return t.text}).classed("style_infotext",!0),o.append("td").append("input").classed("checkbox",!0).attr("id",function(t){return t.id}).attr("name",function(t){return n+"_type_checkbox_"+t.id}).attr("type","checkbox").property("checked",function(t){return t.value}).on("input",function(){r.option_changed_in_input_field(),r.changed_options()}),o.append("td").classed("text",!0)}},{key:"reset_default_options",value:function(){var t=this.get_style_options();for(var e in t){var n=t[e];this.style_config.options[n.id]=n.values.default}this.changed_options()}},{key:"option_changed_in_input_field",value:function(){var t=this.get_style_options(),e=!1;for(var n in t){var r=t[n];"range"==r.option_type?this.style_config.options[r.id]=+this.options_selection.select("#"+r.id).property("value"):"checkbox"==r.option_type&&(this.style_config.options[r.id]=+this.options_selection.select("#"+r.id).property("checked"),"box_leaf_nodes"==r.id&&+this.options_selection.select("#"+r.id).property("value")!=this.style_config.options[r.id]&&(e=!0))}e&&(tO(7,"Changed style option forced reapply layout"),this._layout_manager.layout_applier.apply_all_layouts(),this._layout_manager.update_style_indicators())}},{key:"changed_options",value:function(t){this._update_options_in_input_field(),this.force_style_translation(),this._layout_manager.compute_node_positions_from_list_of_nodes(this.style_root_node.descendants()),WO.restart_with_alpha(.5),this._layout_manager.viewport.update_layers()}},{key:"get_size",value:function(){var t=[];this._style_root_node_offsets.forEach(function(e){return t.push({x:e[1],y:e[2]})});var e=oO(t);return[1.1*e.width+100,1.1*e.height+100]}},{key:"get_rotation",value:function(){var t=this.style_config.options.rotation;if(null==t)return 0;if(1==this.style_config.options.include_parent_rotation){var e=this._find_parent_with_style(this.style_root_node);e&&(t+=e.data.use_style.get_rotation())}return t}},{key:"_find_parent_with_style",value:function(t){if(t.parent)return t.parent.data.use_style?t.parent:this._find_parent_with_style(t.parent)}},{key:"style_color",value:function(){}},{key:"type",value:function(){}},{key:"description",value:function(){}},{key:"set_matcher",value:function(t){this.style_config.matcher=t}},{key:"get_matcher",value:function(){var t={};for(var e in"bi_aggregator"==this.style_root_node.data.node_type||"bi_leaf"==this.style_root_node.data.node_type?(t.aggr_path_id={value:this.style_root_node.data.aggr_path_id,disabled:!0},t.aggr_path_name={value:this.style_root_node.data.aggr_path_name,disabled:!0},"bi_aggregator"==this.style_root_node.data.node_type?(t.rule_id={value:this.style_root_node.data.rule_id.rule},t.rule_name={value:this.style_root_node.data.name}):(t.hostname={value:this.style_root_node.data.hostname},t.service={value:this.style_root_node.data.service})):t.hostname={value:this.style_root_node.data.hostname},this.style_config.matcher)t[e]=this.style_config.matcher[e];return t}},{key:"get_aggregation_path",value:function(t){var e=[];return t.parent&&(e=e.concat(this.get_aggregation_path(t.parent))),t.data.aggr_path&&e.push(t.data.aggr_path),e}},{key:"update_style_indicator",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.style_root_node.selection.selectAll("circle.style_indicator").data([this]);tO("Update style indicator for "+this.type()+" "+this.style_root_node.data.name),t?e.enter().insert("circle","#outer_circle").classed("style_indicator",!0).attr("pointer-events","none").attr("r",30).attr("fill",function(t){return t.style_color()}):e.remove()}},{key:"positioning_weight",value:function(){return 0}},{key:"force_style_translation",value:function(){tO(7,"force style translation of",this.id()),this._style_translated=!1}},{key:"has_fixed_position",value:function(){var t=this.style_root_node.ancestors();for(var e in t){var n=t[e];if(n.data.use_style){if(n.data.use_style.style_config.options.detach_from_parent)return!0;if(!(n.parent||n.data.use_style&&"force"!=n.data.use_style.type()))return!1}}return!0}},{key:"zoomed",value:function(){}},{key:"update_data",value:function(){}},{key:"update_gui",value:function(){}},{key:"fix_node",value:function(t){var e=this.get_default_node_force(t);e.fx=t.x,e.fy=t.y,e.use_transition=!0}},{key:"get_default_node_force",value:function(t){return this._layout_manager.get_node_positioning(t)[this.id()]={weight:this.positioning_weight(),style_type:this.type()}}},{key:"_compute_node_offsets",value:function(){}},{key:"translate_coords",value:function(){}},{key:"remove",value:function(){delete this.style_root_node.data.node_positioning[this.id()],this.get_div_selection().remove(),this.update_style_indicator(!1)}},{key:"add_option_icons",value:function(t,e){var n=this,r=function(r){var i=e[r],o=n.get_div_selection().selectAll("img."+i.type).data([i],function(t){return t.node.data.id});o=o.enter().append("img").classed(i.type,!0).classed("layouting_icon",!0).classed("box",!0).attr("src",i.image).style("background","white").style("opacity","0.9").style("position","absolute").style("pointer-events","all").each(function(t,e,n){t.call&&ui(n[e]).call(t.call)}).each(function(t,e,n){t.onclick&&ui(n[e]).on("click",t.onclick)}).style("top",t.y-62+"px").style("left",t.x+42*r+"px").merge(o);var a=parseInt(o.style("width"),10);o.style("top",function(e){return t.y-62+"px"}).style("left",function(e){return t.x+r*(a+12)+"px"})};for(var i in e)r(i)}},{key:"get_div_selection",value:function(){var t=this._layout_manager.div_selection.selectAll("div.hierarchy").data([this.id()]);return t.enter().append("div").classed("hierarchy",!0).merge(t)}},{key:"add_enclosing_hull",value:function(t,e){if(e.length<2)t.selectAll("path.style_overlay").remove();else{var n=[];e.forEach(function(t){n.push([t[0]+30,t[1]+30]),n.push([t[0]-30,t[1]-30]),n.push([t[0]+30,t[1]-30]),n.push([t[0]-30,t[1]+30])});var r=t.selectAll("path.style_overlay").data([Vv(n)]);(r=r.enter().append("path").classed("style_overlay",!0).style("opacity",0).merge(r)).interrupt(),this.add_optional_transition(r.attr("d",function(t){return"M"+t.join("L")+"Z"})).style("opacity",null)}}}]),t}(),WO=new(function(){function t(){var e=this;BO(this,t),this._simulation=pf(),this._simulation.alphaMin(.1),this._simulation.on("tick",function(){return e.tick_called()}),this._setup_forces(),this._all_nodes={},this._all_links={},this._viewport=null}return qO(t,[{key:"register_viewport",value:function(t){this._viewport=t}},{key:"tick_called",value:function(){if(this._viewport){var t=window.performance.now();this._enforce_free_float_styles_retranslation(),this._viewport.layout_manager.compute_node_positions_from_list_of_nodes(this._get_force_nodes()),this._viewport.update_gui_of_layers(),FO=window.performance.now()-t}}},{key:"_get_force_nodes",value:function(){var t=[];return this._viewport.get_hierarchy_list().forEach(function(e){e.nodes.forEach(function(e){e.data.current_positioning.free&&t.push(e)})}),t}},{key:"_enforce_free_float_styles_retranslation",value:function(){for(var t in this._viewport.layout_manager._active_styles){var e=this._viewport.layout_manager._active_styles[t];e.has_fixed_position()||e.type()==$O.prototype.type()||(tO(6,"tick: enforce style translation ",e.type()),e.force_style_translation(),e.translate_coords(),this._viewport.layout_manager.compute_node_positions_from_list_of_nodes(e.filtered_descendants),e.filtered_descendants.forEach(function(t){return t.use_transition=!1}))}}},{key:"_setup_forces",value:function(){this._update_charge_force(),this._update_collision_force(),this._update_center_force(),this._update_link_force()}},{key:"_update_charge_force",value:function(){var t=this,e=gf().strength(function(e){var n=t._get_explicit_force_option(e.data,"repulsion");return null!=n?n:e._children?e.data.force_options.force_aggregator:e.data.force_options.force_node}).distanceMax(800);this._simulation.force("charge_force",e)}},{key:"_update_collision_force",value:function(){var t=af(function(t){return null!=t.data.collision_force?t.data.collision_force:t._children?t.data.force_options.collision_force_aggregator:t.data.force_options.collision_force_node});this._simulation.force("collide",t)}},{key:"_update_center_force",value:function(){var t=this,e=yf(function(t){return t.data.chunk.coords.x+t.data.chunk.coords.width/2}).strength(function(e){var n=t._get_explicit_force_option(e.data,"center_force");return null!=n?n/100:null!=e.parent?e.data.force_options.center_force/300:e.data.force_options.center_force/100}),n=mf(function(t){return t.data.chunk.coords.y+t.data.chunk.coords.height/2}).strength(function(e){var n=t._get_explicit_force_option(e.data,"center_force");return null!=n?n/100:null!=e.parent?e.data.force_options.center_force/300:e.data.force_options.center_force/100});this._simulation.force("x",e),this._simulation.force("y",n),this._simulation.force("charge_force").distanceMax(800)}},{key:"_update_link_force",value:function(){var t=this,e=lf(this._all_links).id(function(t){return t.data.id}).distance(function(e){var n=t._get_explicit_force_option(e.source.data,"link_distance");return null!=n?n:e.source._children?e.source.data.force_options.link_force_aggregator:e.source.data.force_options.link_force_node}).strength(function(t){return t.source.data.force_options.link_strength/100});this._simulation.force("links",e)}},{key:"_get_explicit_force_option",value:function(t,e){return t.explicit_force_options&&t.explicit_force_options[e]?t.explicit_force_options[e]:null}},{key:"update_nodes_and_links",value:function(t,e){this._all_nodes=t,this._all_links=e,this._simulation.nodes(this._all_nodes),this._setup_forces()}},{key:"restart_with_alpha",value:function(t){this._simulation.alpha()<.12&&this._simulation.restart(),this._simulation.alpha(t)}}]),t}()),$O=function(t){function e(t,n,r,i){return BO(this,e),NO(this,RO(e).call(this,t,n,r,i))}return LO(e,zO),qO(e,[{key:"type",value:function(){return"force"}},{key:"description",value:function(){return"Free-Floating style"}},{key:"style_color",value:function(){return"#9c9c9c"}},{key:"compute_id",value:function(t){return this.type()+"_"+t.data.id}},{key:"id",value:function(){return this.compute_id(this.style_root_node)}}]),qO(e,[{key:"force_style_translation",value:function(){WO._setup_forces()}},{key:"get_style_options",value:function(){return[{id:"center_force",values:{default:5,min:-20,max:100},option_type:"range",text:"Center force strength",value:this.style_config.options.center_force},{id:"force_node",values:{default:-300,min:-1e3,max:50},option_type:"range",text:"Repulsion force leaf",value:this.style_config.options.force_node},{id:"force_aggregator",values:{default:-300,min:-1e3,max:50},option_type:"range",text:"Repulsion force branch",value:this.style_config.options.force_aggregator},{id:"link_force_node",values:{default:30,min:-10,max:300},option_type:"range",text:"Link distance leaf",value:this.style_config.options.link_force_node},{id:"link_force_aggregator",values:{default:30,min:-10,max:300},option_type:"range",text:"Link distance branches",value:this.style_config.options.link_force_aggregator},{id:"link_strength",values:{default:30,min:0,max:200},option_type:"range",text:"Link strength",value:this.style_config.options.link_strength},{id:"collision_force_node",values:{default:15,min:0,max:150},option_type:"range",text:"Collision box leaf",value:this.style_config.options.collision_force_node},{id:"collision_force_aggregator",values:{default:15,min:0,max:150},option_type:"range",text:"Collision box branch",value:this.style_config.options.collision_force_aggregator}]}},{key:"tick_called",value:function(){var t=window.performance.now();this._layout_manager.viewport.update_gui_of_layers(),FO=window.performance.now()-t}}]),e}(),HO=0,FO=0,KO=function(t){function e(){return BO(this,e),NO(this,RO(e).apply(this,arguments))}return LO(e,zO),qO(e,[{key:"positioning_weight",value:function(){return 10+parseInt(this.style_root_node.depth)}},{key:"remove",value:function(){this.get_div_selection().remove(),zO.prototype.remove.call(this),this._cleanup_style_node_positioning()}},{key:"_cleanup_style_node_positioning",value:function(){var t=this;this.style_root_node&&this.style_root_node.descendants().forEach(function(e){e.data.node_positioning&&delete e.data.node_positioning[t.id()]})}},{key:"update_data",value:function(){var t=this;this.selection.attr("transform",this._layout_manager.viewport.last_zoom),this.use_transition=!0,this._cleanup_style_node_positioning(),this._set_hierarchy_filter(this.style_root_node,!0),this.filtered_descendants=this.style_root_node.descendants(),this.max_depth=1,this.filtered_descendants.forEach(function(e){t.max_depth=Math.max(t.max_depth,e.depth)});var e={};this.filtered_descendants.forEach(function(t){e[t.data.id]={x:t.x,y:t.y}}),this._compute_node_offsets(),this.force_style_translation(),this._reset_hierarchy_filter(this.style_root_node),this.filtered_descendants.forEach(function(t){t.x=e[t.data.id].x,t.y=e[t.data.id].y})}},{key:"_set_hierarchy_filter",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e&&t.parent.data.use_style&&t.parent!=this.style_root_node||!e&&t.data.use_style&&t.data.use_style.style_config.options.detach_from_parent)return[];if(t.children){for(var n in t.children_backup=t.children,t.children=[],t.children_backup){var r=t.children_backup[n];t.children=t.children.concat(this._set_hierarchy_filter(r))}0==t.children.length&&delete t.children}return[t]}},{key:"_reset_hierarchy_filter",value:function(t){if(t.children_backup){for(var e in t.children_backup)this._reset_hierarchy_filter(t.children_backup[e]);t.children=t.children_backup,delete t.children_backup}}},{key:"zoomed",value:function(){this.selection.attr("transform",this._layout_manager.viewport.last_zoom),this.generate_overlay()}},{key:"get_drag_callback",value:function(t){var e=this;return Ci().on("start.drag",function(){return e.drag_start()}).on("drag.drag",function(){t(),e.changed_options()}).on("end.drag",function(){return e.drag_end()})}},{key:"drag_start",value:function(){this.drag_start_info={},this.drag_start_info.start_coords=pi(this.selection.node()),this.drag_start_info.options=JSON.parse(JSON.stringify(this.style_config.options)),this._layout_manager.toolbar_plugin.layout_style_configuration.show_style_configuration(this),this._layout_manager.dragging=!0}},{key:"change_rotation",value:function(){var t=pi(this.selection.node()),e=(this.drag_start_info.start_coords[1]-t[1])*this._layout_manager.viewport.last_zoom.k%360,n=(this.drag_start_info.options.rotation+e)%360;n<0&&(n+=360),this.style_config.options.rotation=parseInt(n),this.force_style_translation()}},{key:"drag_end",value:function(){this._layout_manager.dragging=!1,this._layout_manager.create_undo_step()}},{key:"add_optional_transition",value:function(t){return this._layout_manager.dragging?t:t.transition().duration(eO.duration())}}]),e}(),YO=function(t){function e(t,n,r,i){return BO(this,e),NO(this,RO(e).call(this,t,n,r,i))}return LO(e,KO),qO(e,[{key:"type",value:function(){return"hierarchy"}},{key:"description",value:function(){return"Hierarchical style"}},{key:"style_color",value:function(){return"#ffa042"}},{key:"get_style_options",value:function(){return[{id:"layer_height",values:{default:80,min:20,max:500},text:"Layer height",value:this.style_config.options.layer_height,option_type:"range"},{id:"node_size",values:{default:25,min:15,max:100},text:"Node size",value:this.style_config.options.node_size,option_type:"range"},{id:"rotation",values:{default:270,min:0,max:359},text:"Rotation",value:this.style_config.options.rotation,option_type:"range"},{id:"include_parent_rotation",option_type:"checkbox",values:{default:!1},text:"Include parent rotation",value:this.style_config.options.include_parent_rotation},{id:"detach_from_parent",option_type:"checkbox",values:{default:!1},text:"Detach from parent style",value:this.style_config.options.detach_from_parent},{id:"box_leaf_nodes",option_type:"checkbox",values:{default:!1},text:"Arrange leaf nodes in block",value:this.style_config.options.box_leaf_nodes}]}},{key:"_compute_node_offsets",value:function(){var t=this,e=(this.get_hierarchy_size(),this.get_rotation()/180*Math.PI),n=Math.cos(e),r=Math.sin(e);for(var i in cmk.d3_flextree.flextree().nodeSize(function(n){if(n.data.use_style&&n!=t.style_root_node){if("block"==n.data.use_style.type())return n.data.use_style.get_size();if(n.data.use_style.style_config.options.include_parent_rotation){var r=n.data.use_style.style_config.options.rotation/180*Math.PI,i={height:10,width:10};return n.data.use_style._no_rotation_vertices&&(i=aO(n.data.use_style._no_rotation_vertices,r)),[1.1*i.height+100,1.1*i.width+100]}var o=n.data.use_style.style_config.options.rotation/180*Math.PI;o=o+Math.PI-e;var a={height:10,width:10};n.data.use_style._no_rotation_vertices&&(a=aO(n.data.use_style._no_rotation_vertices,o));var s=0;return"hierarchy"==n.data.use_style.type()&&(s=.5*Math.abs(a.height*Math.sin(o))),[s+1.1*a.height+100,1.1*a.width+100]}return[t.style_config.options.node_size,t.style_config.options.layer_height]})(this.style_root_node),this._style_root_node_offsets=[],this._no_rotation_vertices=[],this.filtered_descendants){var o=this.filtered_descendants[i];this._no_rotation_vertices.push({y:o.x,x:o.y});var a=o.x*r+o.y*n,s=o.x*n-o.y*r;this._style_root_node_offsets.push([o,a,s])}}},{key:"translate_coords",value:function(){var t=this;this.filtered_descendants,this.get_hierarchy_size();if(!this._style_translated||!this.has_fixed_position()){var e=this.get_rotation()/180*Math.PI,n=this.get_text_positioning(e);this._vertices=[],this._vertices.push([this.style_root_node.x,this.style_root_node.y]);var r=[];for(var i in this._style_root_node_offsets){var o=this._style_root_node_offsets[i],a=o[0],s=o[1],u=o[2];if(a==this.style_root_node&&this.style_config.options.detach_from_parent||a!=this.style_root_node||!this.style_root_node.parent){var c=this.get_default_node_force(a);c.fx=this.style_root_node.x+s,c.fy=this.style_root_node.y+u,c.text_positioning=n,c.use_transition=this.use_transition,this._vertices.push([c.fx,c.fy])}a!=this.style_root_node&&a.data.use_style&&r.push(a)}r.forEach(function(e){tO(7,"retranslate style "+e.data.use_style.type()+" of subnode "+e.data.name),t._layout_manager.compute_node_position(e),e.data.use_style.force_style_translation(),e.data.use_style.translate_coords(),t._layout_manager.compute_node_positions_from_list_of_nodes(e.data.use_style.filtered_descendants)}),this.generate_overlay(),this._style_translated=!0,this.use_transition=!1}}},{key:"generate_overlay",value:function(){var t=this;if(this._layout_manager.edit_layout){var e=this._layout_manager.viewport.main_instance.get_theme_prefix();this.add_enclosing_hull(this.selection,this._vertices);var n=[{node:this.style_root_node,type:"scale",image:e+"/images/icons/icons8-resize-filled-48.png",call:this.get_drag_callback(function(){return t.resize_layer_drag()})},{node:this.style_root_node,type:"rotation",image:e+"/images/icons/icons8-rotate-left-48.png",call:this.get_drag_callback(function(){return t.change_rotation()})}],r=this._layout_manager.viewport.translate_to_zoom({x:this.style_root_node.x,y:this.style_root_node.y});this.add_option_icons(r,n)}}},{key:"get_text_positioning",value:function(t){(t/=2)>.75*Math.PI&&(t-=Math.PI);var e=-t/Math.PI*180,n=["start","end"],r=9/32*Math.PI,i=t>r&&t<Math.PI-r,o=20*Math.cos(2*-t),a=20*Math.sin(2*-t);t>Math.PI-r?e+=180:i&&(e+=90,n=["end","start"]);var s=n[0],u="translate("+o+","+a+") rotate("+e+")";return function(t){t.attr("transform",u).attr("text-anchor",s)}}},{key:"resize_layer_drag",value:function(){var t=this.style_config.options.rotation/180*Math.PI,e=pi(this.selection.node()),n=this.drag_start_info.start_coords[0]-e[0],r=this.drag_start_info.start_coords[1]-e[1],i=(Math.cos(-t)*r-Math.sin(-t)*n+100)/100,o=(100-(Math.cos(-t)*n+Math.sin(-t)*r))/100,a=this.drag_start_info.options.node_size*i,s=this.drag_start_info.options.layer_height*o;this.style_config.options.node_size=parseInt(Math.max(this._default_options.node_size/2,Math.min(8*this._default_options.node_size,a))),this.style_config.options.layer_height=parseInt(Math.max(this._default_options.layer_height/2,Math.min(8*this._default_options.layer_height,s)))}},{key:"get_hierarchy_size",value:function(){var t={};this.filtered_descendants.forEach(function(e){null!=e.children&&(null==t[e.depth]&&(t[e.depth]=0),t[e.depth]+=e.children.length)}),this.layer_count=this.max_depth-this.style_root_node.depth+2;var e=0;for(var n in t)e=Math.max(e,t[n]);var r=e*this.style_config.options.node_size,i=this.layer_count*this.style_config.options.layer_height,o={};return o.x=+this.style_root_node.x,o.y=+this.style_root_node.y,o.width=r,o.height=i,o}}]),e}(),GO=function(t){function e(){return BO(this,e),NO(this,RO(e).apply(this,arguments))}return LO(e,KO),qO(e,[{key:"type",value:function(){return"radial"}},{key:"description",value:function(){return"Radial style"}},{key:"style_color",value:function(){return"#13d389"}},{key:"get_style_options",value:function(){return[{id:"radius",option_type:"range",values:{default:120,min:30,max:300},text:"Radius",value:this.style_config.options.radius},{id:"degree",option_type:"range",values:{default:360,min:10,max:360},text:"Degree",value:this.style_config.options.degree},{id:"rotation",option_type:"range",values:{default:0,min:0,max:359},text:"Rotation",value:this.style_config.options.rotation},{id:"include_parent_rotation",option_type:"checkbox",values:{default:!1},text:"Include parent rotation",value:this.style_config.options.include_parent_rotation},{id:"detach_from_parent",option_type:"checkbox",values:{default:!1},text:"Detach from parent style",value:this.style_config.options.detach_from_parent}]}},{key:"_compute_node_offsets",value:function(){var t=this.style_config.options.radius*(this.max_depth-this.style_root_node.depth+1),e=this.get_rotation()/180*Math.PI,n=Hg().size([this.style_config.options.degree/360*2*Math.PI,t]);if(this._style_root_node_offsets=[],this._no_rotation_vertices=[],1==this.filtered_descendants.length)this._style_root_node_offsets.push([this.style_root_node,0,0,0]);else for(var r in n(this.style_root_node),this.filtered_descendants){var i=this.filtered_descendants[r],o=0;i.children||(o=1*this.style_config.options.radius),this._no_rotation_vertices.push({x:Math.cos(i.x)*(i.y-o),y:-Math.sin(i.x)*(i.y-o)});var a=Math.cos(i.x+e)*(i.y-o),s=-Math.sin(i.x+e)*(i.y-o);this._style_root_node_offsets.push([i,a,s,(i.x+e)%(2*Math.PI)])}}},{key:"translate_coords",value:function(){var t=this;if(!this._style_translated||!this.has_fixed_position()){var e={};e.x=this.style_root_node.x,e.y=this.style_root_node.y;var n=[];for(var r in this._style_root_node_offsets){var i=this._style_root_node_offsets[r],o=i[0],a=i[1],s=i[2];if(o==this.style_root_node&&this.style_config.options.detach_from_parent||o!=this.style_root_node||!this.style_root_node.parent){var u=this.get_default_node_force(o);u.fx=e.x+a,u.fy=e.y+s,u.text_positioning=this.get_text_positioning(i),u.use_transition=this.use_transition}o!=this.style_root_node&&o.data.use_style&&n.push(o),o.force=-500}n.forEach(function(e){t._layout_manager.compute_node_position(e),e.data.use_style.translate_coords()}),this.generate_overlay(),this.use_transition=!1,this._style_translated=!0}}},{key:"get_text_positioning",value:function(t){var e=t[0],n=t[3];if(this.style_root_node!=e){this.layer_count=this.max_depth-this.style_root_node.depth+1;var r=-n/Math.PI*180,i=["start","end"];n>Math.PI/2&&n<1.5*Math.PI&&(r+=180,i=["end","start"]);var o=12*Math.cos(-n),a=12*Math.sin(-n),s=e.height>0,u=i[0];s&&(o=-o,a=-a,u=i[1]);var c="translate("+o+","+a+") rotate("+r+")";return function(t){t.attr("transform",c).attr("text-anchor",u)}}}},{key:"generate_overlay",value:function(){var t=this;if(this._layout_manager.edit_layout){var e=Math.min(360,Math.max(0,this.style_config.options.degree))/180*Math.PI,n=nk().innerRadius(25).outerRadius(this.style_config.options.radius*(this.max_depth-this.style_root_node.depth+1)).startAngle(2*Math.PI-e+Math.PI/2).endAngle(2*Math.PI+Math.PI/2),r=this.selection.selectAll("g.rotation_overlay").data([null]);(r=r.enter().append("g").classed("rotation_overlay",!0).merge(r)).attr("transform","translate("+this.style_root_node.x+","+this.style_root_node.y+")rotate("+-this.get_rotation()+")");var i=r.selectAll("path").data([null]);i=i.enter().append("path").classed("style_overlay",!0).style("opacity",0).merge(i),this.add_optional_transition(i).attr("d",n).style("opacity",null);var o=this._layout_manager.viewport.main_instance.get_theme_prefix(),a=[{node:this.style_root_node,type:"radius",image:o+"/images/icons/icons8-resize-filled-48.png",call:this.get_drag_callback(function(){return t.change_radius()})},{node:this.style_root_node,type:"rotation",image:o+"/images/icons/icons8-rotate-left-48.png",call:this.get_drag_callback(function(){return t.change_rotation()})},{node:this.style_root_node,type:"degree",image:o+"/images/icons/icons8-pie-chart-filled-48.png",call:this.get_drag_callback(function(){return t.change_degree()})}],s=this._layout_manager.viewport.translate_to_zoom({x:this.style_root_node.x,y:this.style_root_node.y});this.add_option_icons(s,a)}}},{key:"change_radius",value:function(){this._layout_manager.toolbar_plugin.layout_style_configuration.show_style_configuration(this);var t=pi(this.selection.node()),e=(this.drag_start_info.start_coords[1]-t[1])*this._layout_manager.viewport.last_zoom.k;this.style_config.options.radius=parseInt(Math.min(500,Math.max(10,this.drag_start_info.options.radius+e))),this.changed_options()}},{key:"change_degree",value:function(){this._layout_manager.toolbar_plugin.layout_style_configuration.show_style_configuration(this);var t=pi(this.selection.node()),e=2*(this.drag_start_info.start_coords[1]-t[1])*this._layout_manager.viewport.last_zoom.k,n=parseInt(Math.min(360,Math.max(10,this.drag_start_info.options.degree+e)));this.style_config.options.degree=n,this.changed_options()}}]),e}(),XO=function(t){function e(){return BO(this,e),NO(this,RO(e).apply(this,arguments))}return LO(e,zO),qO(e,[{key:"type",value:function(){return"fixed"}},{key:"description",value:function(){return"Fixed position style"}},{key:"style_color",value:function(){return"Burlywood"}},{key:"positioning_weight",value:function(){return 100}},{key:"update_data",value:function(){this.fix_node(this.style_root_node)}}]),e}(),VO=function(t){function e(){return BO(this,e),NO(this,RO(e).apply(this,arguments))}return LO(e,KO),qO(e,[{key:"type",value:function(){return"block"}},{key:"description",value:function(){return"Leaf-Nodes Block style"}},{key:"style_color",value:function(){return"#3cc2ff"}},{key:"get_style_options",value:function(){return[{id:"detach_from_parent",option_type:"checkbox",values:{default:!1},text:"Detach from parent style",value:this.style_config.options.detach_from_parent}]}},{key:"_compute_node_offsets",value:function(){var t=this;if(this._leaf_childs=[],this.style_root_node.children){this._leaf_childs=[],this.style_root_node.children.forEach(function(e){e._children||t._leaf_childs.push(e)});var e=50*parseInt(Math.sqrt(this._leaf_childs.length)),n=parseInt(e/50);for(var r in this._width=e,this._height=25,this._style_root_node_offsets=[],this._style_root_node_offsets.push({node:this.style_root_node,x:0,y:0}),this._leaf_childs){var i=this._leaf_childs[r],o=parseInt(r/n)+1,a=r%n;this._height=50*o/2,this._style_root_node_offsets.push({node:i,x:-e/2+25+50*a,y:50*o/2})}this.use_transition=!0}}},{key:"get_size",value:function(){return[1.1*this._width,this._height]}},{key:"translate_coords",value:function(){var t=this;if(this._style_root_node_offsets!=[]){tO(7,"translating block style, fixed positing:"+this.has_fixed_position());var e={};return e.x=this.style_root_node.x,e.y=this.style_root_node.y,this._style_root_node_offsets.forEach(function(n){var r=t.get_default_node_force(n.node);r.fx=e.x+n.x,r.fy=e.y+n.y,r.use_transition=t.use_transition,n.node!=t.style_root_node&&(r.hide_node_link=!0),r.text_positioning=function(t,e){return t.attr("transform","translate("+e+","+(e+4)+") rotate(45)")},n.node.force=-500}),this.generate_overlay(),this.use_transition=!1,this._style_translated=!0,!0}}},{key:"update_gui",value:function(){this.generate_overlay()}},{key:"generate_overlay",value:function(){var t=this;if(!(this._style_root_node_offsets.length<2)){var e=[],n={};n.x=this.style_root_node.x,n.y=this.style_root_node.y,this._style_root_node_offsets.forEach(function(r){r.node!=t.style_root_node&&(e.push([r.x+10+n.x,r.y+10+n.y]),e.push([r.x-10+n.x,r.y-10+n.y]),e.push([r.x+10+n.x,r.y-10+n.y]),e.push([r.x-10+n.x,r.y+10+n.y]))});var r=this.selection.selectAll("path.children_boundary").data([Vv(e)]);r=r.enter().append("path").classed("children_boundary",!0).classed("block_style_overlay",!0).attr("pointer-events","none").style("opacity",0).merge(r),this.add_optional_transition(r.attr("d",function(t){return"M"+t.join("L")+"Z"})).style("opacity",null);var i=this.selection.selectAll("line.root_children_connection").data([null]);i.enter().append("line").classed("root_children_connection",!0).classed("block_style_overlay",!0).merge(i).attr("x1",this.style_root_node.x).attr("y1",this.style_root_node.y).attr("x2",this.style_root_node.x).attr("y2",this.style_root_node.y+15)}}}]),e}();yO.style_classes.push($O),yO.style_classes.push(YO),yO.style_classes.push(GO),yO.style_classes.push(VO);var JO=function(){function t(e){BO(this,t),this._varprefix=e,this._example_generator_div=ui("#"+this._varprefix);var n=this._example_generator_div.append("div").style("float","left");this._viewport_width=600,this._viewport_height=400,this._style_choice_selection=n.append("div"),this._options_selection=n.append("div").style("margin-top","12px"),this._example_selection=n.append("div").style("margin-top","12px"),this._viewport_selection=this._example_generator_div.append("svg").attr("id","viewport").style("float","left").attr("width",this._viewport_width).attr("height",this._viewport_height),this._example_options={total_nodes:{id:"total_nodes",values:{default:5,min:1,max:50},text:"Sample nodes",value:20},depth:{id:"depth",values:{default:1,min:1,max:5},text:"Maximum depth",value:2}},this._style_hierarchy=null,this._style_instance=null,this._layout_manager=this._create_fake_layout_manager(),this._initialize_viewport_components()}return qO(t,[{key:"_initialize_viewport_components",value:function(){this._viewport_zoom=this._viewport_selection.append("g"),this._viewport_zoom_links=this._viewport_zoom.append("g"),this._viewport_zoom_nodes=this._viewport_zoom.append("g"),this._viewport_selection.append("rect").attr("stroke","grey").attr("fill","none").attr("x",4).attr("y",4).attr("width",this._viewport_width-8).attr("height",this._viewport_height-8)}},{key:"_update_viewport_visibility",value:function(){"none"==this._style_settings.style_type?(this._viewport_selection.style("display","none"),this._example_selection.style("display","none")):(this._viewport_selection.style("display",null),this._example_selection.style("display",null))}},{key:"create_example",value:function(t){this._style_settings=t,this._render_style_choice(this._style_choice_selection),this._update_viewport_visibility(),this._create_example_hierarchy(this._example_options);var e={options:this._style_settings.style_config},n=null;switch(this._style_settings.style_type){case"none":return;case YO.prototype.type():n=YO;break;case GO.prototype.type():n=GO;break;case VO.prototype.type():n=VO}this._style_instance=new n(this._layout_manager,e,this._style_hierarchy.descendants()[0],this._viewport_zoom),this._update_example()}},{key:"_update_example",value:function(){this._update_nodes(),this._render_nodes_and_links(),this._style_instance.render_options(this._options_selection,this._varprefix),this._render_example_settings(this._example_selection)}},{key:"_render_style_choice",value:function(t){var e=this,n=[["none","None"]];[YO,GO,VO].forEach(function(t){n.push([t.prototype.type(),t.prototype.description()])}),t.selectAll("select").data([null]).enter().append("select").attr("name",this._varprefix+"style_type").on("change",function(){return e._changed_style()}).selectAll("option").data(n).enter().append("option").property("value",function(t){return t[0]}).property("selected",function(t){return t[0]==e._style_settings.style_type}).text(function(t){return t[1]})}},{key:"_changed_style",value:function(){var t=ui(Gr.target).property("value");this._options_selection.selectAll("*").remove(),this._viewport_selection.selectAll(".block_style_overlay").remove(),this.create_example({style_type:t,style_config:{}})}},{key:"_render_example_settings",value:function(t){var e=this;t.selectAll("#headline").data([null]).enter().append("b").attr("id","headline").text("Example settings");var n=t.selectAll("table").data([null]);n=n.enter().append("table").merge(n);var r=[];r.push(this._example_options.total_nodes),this._style_settings.style_type!=VO.prototype.type()&&r.push(this._example_options.depth);var i=n.selectAll("tr").data(r);i.exit().remove();var o=i.enter().append("tr");o.append("td").text(function(t){return t.text}).classed("style_infotext",!0),o.append("td").append("input").classed("range",!0).attr("id",function(t){return t.id}).attr("type","range").attr("step",1).attr("min",function(t){return t.values.min}).attr("max",function(t){return t.values.max}).property("value",function(t){return t.value}).on("input",function(t,n,r){e._example_options[t.id].value=parseInt(ui(r[n]).property("value")),e._create_example_hierarchy(e._example_options),e._style_instance.style_root_node=e._style_hierarchy.descendants()[0],e._update_example()}),o.append("td").classed("text",!0),(i=o.merge(i)).select("td.text").text(function(e){return t.select("input#"+e.id).property("value")})}},{key:"_update_nodes",value:function(){var t=this;this._style_instance.style_root_node.x=0,this._style_instance.style_root_node.y=0,this._style_instance.update_data(),this._style_instance.translate_coords(),this._style_hierarchy.descendants().forEach(function(e){t._layout_manager.compute_node_position(e)}),this._center_hierarchy_nodes(this._style_hierarchy)}},{key:"_render_nodes_and_links",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._style_instance.generate_overlay(),this._paint_links(this._style_hierarchy,t),this._paint_nodes(this._style_hierarchy,t)}},{key:"_center_hierarchy_nodes",value:function(t){var e=t.descendants(),n=this._viewport_selection.attr("width")-30,r=this._viewport_selection.attr("height")-30,i=oO(e),o=i.width/n,a=i.height/r,s=Math.max(1,Math.max(o,a)),u=(n-i.width)/2,c=(r-i.height)/2;if(e.forEach(function(t){t.x+=parseInt(u)-i.x_min+15,t.y+=parseInt(c)-i.y_min+15}),s>1){var l=-(n-n*s)/2,f=-(r-r*s)/2;this._viewport_zoom.attr("transform","scale("+1/s+") translate("+l+","+f+")");var d=this._viewport_selection.selectAll("text").data([null]);(d=d.enter().append("text").text("Default scale").merge(d)).attr("x",10).attr("y",20).text("Scale 1:"+s.toFixed(2))}else{this._viewport_zoom.attr("transform",null);this._viewport_selection.selectAll("text").remove()}}},{key:"_create_fake_layout_manager",value:function(){var t=new OO(this._create_fake_viewport());return t.create_undo_step=function(){},t.layout_applier={},t.layout_applier.apply_all_layouts=function(){},t}},{key:"_create_fake_viewport",value:function(){var t=this;return{update_data_of_layers:function(){},update_gui_of_layers:function(){t._update_nodes(),t._render_nodes_and_links(!0)}}}},{key:"_create_example_hierarchy",value:function(t){var e={coords:{x:0,y:0,width:400,height:400}},n=0,r=t.total_nodes.value,i=0;var o={name:"Root node"},a=1/t.depth.value;this._style_settings.style_type==VO.prototype.type()&&(a=1),function t(e,n,o){for(e.children=[];;){if(i>=r||o<1&&o-Math.random()<=0)return void(0==e.children.length&&delete e.children);var a={name:"child"};i+=1,t(a,n,o-n),e.children.push(a)}}(o,a,1);var s=Kg(o);s.descendants().forEach(function(t){t.x=50,t.y=50,n+=1,t.data.id=n,t.data.chunk=e,t.data.hostname="Demohost",t.data.transition_info={}}),this._style_hierarchy=s}},{key:"_paint_nodes",value:function(t,e){var n=this,r=this._viewport_zoom_nodes.selectAll(".node.alive").data(t.descendants());r.exit().classed("alive",!1).transition().duration(500).attr("opacity",0).remove(),r=r.enter().append("circle").classed("node",!0).classed("alive",!0).attr("fill","#13d389").attr("r",function(t){return t.parent?6:12}).attr("cx",function(t){return n._viewport_width/2}).attr("cy",function(t){return n._viewport_height/2}).attr("opacity",1).merge(r),e?r.attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y}):r.transition().duration(500).attr("cx",function(t){return t.x}).attr("cy",function(t){return t.y})}},{key:"_paint_links",value:function(t,e){var n=this,r=this._viewport_zoom_links.selectAll(".link.alive").data(t.descendants().filter(function(t){return!t.data.current_positioning.hide_node_link}));r.exit().classed("alive",!1).transition().duration(500).attr("opacity",0).remove(),r=r.enter().append("path").classed("link",!0).classed("alive",!0).attr("stroke-width",2).attr("fill","none").attr("stroke-width",2).style("stroke","grey").attr("opacity",0).attr("d",function(t){return n.diagonal(t,t.parent)}).merge(r),e?r.attr("d",function(t){return n.diagonal(t,t.parent)}).attr("opacity",1):r.transition().duration(500).attr("d",function(t){return n.diagonal(t,t.parent)}).attr("opacity",1)}},{key:"diagonal",value:function(t,e){if(e){var n={},r={};return n.y=t.x,n.x=t.y,r.y=e.x,r.x=e.y,"M ".concat(n.y," ").concat(n.x,"\n                C ").concat((n.y+r.y)/2," ").concat(n.x,",\n                  ").concat((n.y+r.y)/2," ").concat(r.x,",\n                  ").concat(r.y," ").concat(r.x)}}}]),t}();function ZO(t){return(ZO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function QO(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function eC(t,e,n){return e&&tC(t.prototype,e),n&&tC(t,n),t}function nC(t,e){return!e||"object"!==ZO(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rC(t){return(rC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function iC(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&oC(t,e)}function oC(t,e){return(oC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var aC=function(t){function e(){return QO(this,e),nC(this,rC(e).apply(this,arguments))}return iC(e,_O),eC(e,[{key:"id",value:function(){return"debug_layer"}},{key:"name",value:function(){return"Debug Layer"}},{key:"setup",value:function(){this.overlay_active=!1}},{key:"update_gui",value:function(){this.div_selection.selectAll("td#Simulation").text("Alpha: "+WO._simulation.alpha().toFixed(3)),this.overlay_active!=this.viewport.layout_manager.edit_layout&&(this.viewport.layout_manager.edit_layout?this.enable_overlay():this.disable_overlay())}},{key:"_update_chunk_boundaries",value:function(){var t=this;if(this.viewport.layout_manager.edit_layout){var e=[];this.viewport.get_hierarchy_list().forEach(function(n){var r=t.viewport.translate_to_zoom(n.coords);r.id=n.tree.data.id,e.push(r)});var n=this.selection.selectAll("rect.boundary").data(e,function(t){return t.id});n.exit().remove(),(n=n.enter().append("rect").classed("boundary",!0).attr("fill","none").attr("stroke","black").attr("stroke-width",1).merge(n)).attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("width",function(t){return t.width}).attr("height",function(t){return t.height})}else this.selection.selectAll("rect.boundary").remove()}},{key:"enable_overlay",value:function(){var t=this;this.overlay_active=!0,this.anchor_info=this.selection.append("g").attr("transform","translate(-50,-50)"),this.div_selection.append("input").style("pointer-events","all").attr("id","reset_pan_and_zoom").attr("type","button").classed("button",!0).attr("value","Reset panning and zoom").on("click",function(){return t.reset_pan_and_zoom()}).style("opacity",0).transition().duration(eO.duration()).style("opacity",1),this.viewport.selection.on("mousemove.translation_info",function(){return t.mousemove()});var e=this.div_selection.append("table").attr("id","translation_infobox").selectAll("tr").data(["Zoom","Panning","Mouse"]).enter().append("tr");e.append("td").text(function(t){return t}).classed("noselect",!0),e.append("td").attr("id",function(t){return t}).classed("noselect",!0),this.size_changed(),this.zoomed()}},{key:"disable_overlay",value:function(){this.overlay_active=!1,this.selection.selectAll("*").transition().duration(eO.duration()).attr("opacity",0).remove(),this.div_selection.selectAll("*").transition().duration(eO.duration()).style("opacity",0).remove(),this.viewport.selection.on("mousemove.translation_info",null)}},{key:"size_changed",value:function(){this.overlay_active}},{key:"reset_pan_and_zoom",value:function(){this.viewport.svg_content_selection.transition().duration(eO.duration()).call(this.viewport.main_zoom.transform,BT)}},{key:"zoomed",value:function(){this.overlay_active&&(this.anchor_info.attr("transform",this.viewport.last_zoom),this.div_selection.selectAll("td#Zoom").text(this.viewport.last_zoom.k.toFixed(2)),this.div_selection.selectAll("td#Panning").text("X: "+parseInt(this.viewport.last_zoom.x)+" / Y:"+parseInt(this.viewport.last_zoom.y)))}},{key:"mousemove",value:function(){var t=pi(this.anchor_info.node());this.div_selection.selectAll("td#Mouse").text("X:"+parseInt(t[0])+" / Y:"+parseInt(t[1]))}}]),e}(),sC=function(t){function e(){return QO(this,e),nC(this,rC(e).apply(this,arguments))}return iC(e,hO),eC(e,[{key:"id",value:function(){return"node_icon_overlay"}},{key:"name",value:function(){return"Node icons"}},{key:"update_gui",value:function(){var t=this,e=[];this.viewport.get_all_nodes().forEach(function(t){t.data.icon&&e.push(t)});var n=this.div_selection.selectAll("img").data(e,function(t){return t.data.id});n.exit().remove(),(n=n.enter().append("img").attr("src",function(t){return"images/icons/"+t.data.icon+".png"}).classed("node_icon",!0).style("position","absolute").style("pointer-events","none").merge(n)).style("left",function(e){return t.viewport.translate_to_zoom({x:e.x,y:0}).x-24+"px"}).style("top",function(e){return t.viewport.translate_to_zoom({x:0,y:e.y}).y-24+"px"})}}]),e}(),uC=function(){function t(e,n){QO(this,t),this.nodes_layer=e,this.viewport=e.viewport,this.node=n,this.radius=5,this.selection=null,this._text_selection=null,this._quickinfo_selection=null,this._has_quickinfo=!0,this._provides_external_quickinfo_data=!1,this._quickinfo_fetch_in_progress=!1,this._external_quickinfo_data=null}return eC(t,[{key:"id",value:function(){return this.node.data.id}},{key:"_clear_cached_data",value:function(){this._external_quickinfo_data=null}},{key:"update_node_data",value:function(t,e){this._clear_cached_data(),t.selection=e,this.node=t,this.update_node_state()}},{key:"update_node_state",value:function(){this.selection.select("circle.state_circle").classed("state0",!1).classed("state1",!1).classed("state2",!1).classed("state3",!1).classed("state"+this.node.data.state,!0);var t=[];this.node.data.acknowledged&&t.push(null);var e=this.selection.selectAll("image.acknowledged").data(t);e.enter().append("svg:image").classed("acknowledged",!0).attr("xlink:href",this.viewport.main_instance.get_theme_prefix()+"/images/icon_ack.png").attr("x",-24).attr("y",this.radius-8).attr("width",24).attr("height",24),e.exit().remove();var n=[];this.node.data.in_downtime&&n.push(null);var r=this.selection.selectAll("image.in_downtime").data(n);r.enter().append("svg:image").classed("in_downtime",!0).attr("xlink:href",this.viewport.main_instance.get_theme_prefix()+"/images/icon_downtime.png").attr("x",0).attr("y",this.radius-8).attr("width",24).attr("height",24),r.exit().remove()}},{key:"render_into",value:function(t){this.selection=this._render_into_transform(t),this.node.selection=this.selection,this.render_object(),this.render_text(),this.update_node_state()}},{key:"render_text",value:function(){var t=this;if(0==this.node.data.show_text)return this.text_selection.remove(),void(this.text_selection=null);if(null==this.text_selection){var e=this.selection.selectAll("g").data([this.node.data]);this.text_selection=e.enter().append("g").append("text").style("pointer-events","none").classed("noselect",!0).attr("transform","translate("+(this.radius+3)+","+(this.radius+3)+")").attr("text-anchor","start").text(function(t){return"single"==t.chunk.aggr_type&&t.service?t.service:t.name}).merge(e)}var n=this.node.data.current_positioning.text_positioning;n?this.add_optional_transition(this.text_selection).call(n,this.radius):this.add_optional_transition(this.text_selection).call(function(e){return t._default_text_positioning(e,t.radius)})}},{key:"_default_text_positioning",value:function(t,e){t.attr("transform","translate("+(e+3)+","+(e+3)+")"),t.attr("text-anchor","start")}},{key:"_render_into_transform",value:function(t){var e=this,n=this.node.x,r=this.node.y;this.nodes_layer.viewport.scale_to_zoom({x:n,y:r});return this.node.data.target_coords={x:n,y:r},t.append("g").classed("node_element",!0).attr("transform","translate("+n+","+r+")").style("pointer-events","all").on("mouseover",function(){return e._show_quickinfo()}).on("mouseout",function(){return e._hide_quickinfo()}).on("contextmenu",function(){return e.nodes_layer.render_context_menu(e)})}},{key:"_get_details_url",value:function(){return null}},{key:"get_context_menu_elements",value:function(){var t=[];return t.push({text:"Details of Host",href:"view.py?host="+encodeURIComponent(this.node.data.hostname)+"&view_name=host",img:this.viewport.main_instance.get_theme_prefix()+"/images/icon_status.png"}),this.node.data.service&&""!=this.node.data.service&&t.push({text:"Details of Service",href:"view.py?host="+encodeURIComponent(this.node.data.hostname)+"&service="+encodeURIComponent(this.node.data.service)+"&view_name=service",img:this.viewport.main_instance.get_theme_prefix()+"/images/icon_status.png"}),t}},{key:"_filter_root_cause",value:function(t){var e=this;if(t._children){var n=[];t._children.forEach(function(t){0!=t.data.state?(n.push(t),e._filter_root_cause(t)):e._clear_node_positioning_of_tree(t)}),t.children=n,this.update_collapsed_indicator(t)}}},{key:"_clear_node_positioning_of_tree",value:function(t){var e=this;t.data.node_positioning={},t._children&&t._children.forEach(function(t){e._clear_node_positioning_of_tree(t)})}},{key:"toggle_collapse",value:function(){Gr.stopPropagation(),this.node._children&&(this.node.children=this.node.children?null:this.node._children,this.viewport.recompute_node_chunk_descendants_and_links(this.node.data.chunk),this.update_collapsed_indicator(this.node),this.viewport.update_layers())}},{key:"collapse_node",value:function(){this.node.children=null,this.viewport.recompute_node_chunk_descendants_and_links(this.node.data.chunk),this.update_collapsed_indicator(this.node),this.viewport.update_layers()}},{key:"expand_node",value:function(){this.node.children=this.node._children,this.viewport.recompute_node_chunk_descendants_and_links(this.node.data.chunk),this.update_collapsed_indicator(this.node),this.viewport.update_layers()}},{key:"expand_node_including_children",value:function(t){var e=this;t._children&&(t.children=t._children,t.children.forEach(function(t){return e.expand_node_including_children(t)})),this.update_collapsed_indicator(t)}},{key:"update_collapsed_indicator",value:function(t){if(t._children){var e=t.children!=t._children;t.selection.select("#outer_circle").classed("collapsed",e);var n=this.viewport.get_all_nodes();for(var r in n)n[r].data.transition_info.use_transition=!0}}},{key:"_fixate_quickinfo",value:function(){this.viewport.layout_manager.edit_layout||(this._quickinfo_selection&&this._quickinfo_selection.classed("fixed")?this._hide_quickinfo(!0):(this._show_quickinfo(),this._quickinfo_selection.classed("fixed",!0)))}},{key:"_hide_quickinfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!this._quickinfo_selection||this._quickinfo_selection.classed("fixed")&&!t||(this._quickinfo_selection.remove(),this._quickinfo_selection=null)}},{key:"_show_quickinfo",value:function(){var t=this;if(this._has_quickinfo&&!this.viewport.layout_manager.edit_layout){var e=this.nodes_layer.div_selection.selectAll("div.quickinfo").data([this.node],function(t){return t.data.id});e.exit().remove(),this._quickinfo_selection=e.enter().append("div").classed("quickinfo",!0).classed("noselect",!0).classed("box",!0).style("position","absolute").style("pointer-events","all").on("click",function(){return t._hide_quickinfo(!0)}).merge(e),this._provides_external_quickinfo_data?this._show_external_html_quickinfo():this._show_table_quickinfo()}}},{key:"_show_external_html_quickinfo",value:function(){null!=this._external_quickinfo_data&&this.viewport.feed_data_timestamp<this._external_quickinfo_data.fetched_at_timestamp?(this._quickinfo_selection.selectAll("*").remove(),this._quickinfo_selection.node().append(this._external_quickinfo_data.data.cloneNode(!0).body)):this._quickinfo_fetch_in_progress||this._fetch_external_quickinfo(),this._quickinfo_fetch_in_progress?this._quickinfo_selection.selectAll(".icon.reloading").data([null]).enter().append("img").classed("icon",!0).classed("reloading",!0).attr("src",this.viewport.main_instance.get_theme_prefix()+"/images/load_graph.png"):this._quickinfo_selection.selectAll(".icon.reloading").remove(),this.update_quickinfo_position()}},{key:"_show_table_quickinfo",value:function(){var t=this._quickinfo_selection.selectAll("table").data([this.node],function(t){return t.data.id}),e=t.enter().append("body").append("table").classed("data",!0).classed("single",!0).append("tbody").merge(t),n="even",r=this._get_basic_quickinfo(),i=e.selectAll("tr").data(r).enter().append("tr");i.each(function(){this.setAttribute("class",n.concat("0 data")),n="even"==n?"odd":"even"}),i.append("td").classed("left",!0).text(function(t){return t.name}),i.append("td").text(function(t){return t.value}).each(function(t,e,n){var r=ui(n[e]);"css_classes"in t&&t.css_classes.forEach(function(t){return r.classed(t,!0)})}),this.update_quickinfo_position()}},{key:"_got_quickinfo",value:function(t){var e=Math.floor((new Date).getTime()/1e3);this._external_quickinfo_data={fetched_at_timestamp:e,data:t},this._quickinfo_fetch_in_progress=!1,this._quickinfo_selection&&this._show_quickinfo()}},{key:"_state_to_text",value:function(t){return{0:"OK",1:"WARN",2:"CRIT",3:"UNKOWN"}[t]}},{key:"render_object",value:function(){this.selection.append("a").attr("xlink:href",this._get_details_url()).append("circle").attr("r",this.radius).classed("state_circle",!0),this.update_node_state()}},{key:"update_position",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.node.data.target_coords=this.viewport.scale_to_zoom({x:this.node.x,y:this.node.y}),(this.node.data.transition_info.use_transition||this.node.data.current_positioning.style_type==$O.prototype.type())&&this.selection.interrupt(),this.selection.attr("in_transit")>0||(this.add_optional_transition(this.selection,t).attr("transform","translate("+this.node.data.target_coords.x+","+this.node.data.target_coords.y+")"),this.update_quickinfo_position(),this.render_text(),this.node.data.transition_info.last_style_type=this.node.data.current_positioning.style_type)}},{key:"update_quickinfo_position",value:function(){if(null!=this._quickinfo_selection){var t=this.viewport.translate_to_zoom({x:this.node.x,y:this.node.y});this._quickinfo_selection.style("left",t.x+this.radius+"px").style("top",t.y+"px")}}},{key:"add_optional_transition",value:function(t,e){var n=this;return!this.node.data.transition_info.use_transition&&!e||this.viewport.layout_manager.dragging?t:eO.add_transition(t.attr("in_transit",100)).on("end",function(t){var e=n.selection.node().transform.baseVal[0].matrix;n.node.data.target_coords&&(e.e.toFixed(2)==n.node.data.target_coords.x.toFixed(2)&&e.f.toFixed(2)==n.node.data.target_coords.y.toFixed(2)||(n.update_position(!0),tO(7,"update position after transition")))}).attr("in_transit",0).on("interrupt",function(){tO(7,"node update position interrupt"),n.selection.attr("in_transit",0)}).attr("in_transit",0)}}]),t}(),cC=function(t){function e(t,n){var r;return QO(this,e),(r=nC(this,rC(e).call(this,t,n))).radius=9,r._provides_external_quickinfo_data=!0,r}return iC(e,uC),eC(e,null,[{key:"id",value:function(){return"topology"}}]),eC(e,[{key:"render_object",value:function(){var t=this;uC.prototype.render_object.call(this),this.node.data.has_no_parents&&this.selection.select("circle").classed("has_no_parents",!0),this.selection.on("dblclick",function(){return t._toggle_growth_continue()})}},{key:"update_position",value:function(){uC.prototype.update_position.call(this);var t=this.selection.selectAll("circle.growth_root").data([this.node]);this.node.data.growth_root?t.enter().append("circle").classed("growth_root",!0).attr("r",this.radius+4).attr("fill","none"):t.remove();var e=this.selection.selectAll("image.growth_possible").data([this.node]);this.node.data.growth_possible?e.enter().append("svg:image").classed("growth_possible",!0).attr("xlink:href",this.viewport.main_instance.get_theme_prefix()+"/images/icons/icons8-hierarchy.svg").attr("width",16).attr("height",16).attr("x",-8).attr("y",0):e.remove();var n=this.selection.selectAll("image.growth_forbidden").data([this.node]);this.node.data.growth_forbidden?n.enter().append("svg:image").classed("growth_forbidden",!0).attr("xlink:href",this.viewport.main_instance.get_theme_prefix()+"/images/icons/icons8-no-entry.svg").attr("width",16).attr("height",16).attr("x",-28).attr("y",0):n.remove()}},{key:"_fetch_external_quickinfo",value:function(){var t=this;this._quickinfo_fetch_in_progress=!0;var e;e="view.py?view_name=topology_hover_host&display_options=I&host="+encodeURIComponent(this.node.data.hostname),Hl(e,{credentials:"include"}).then(function(e){return t._got_quickinfo(e)})}},{key:"get_context_menu_elements",value:function(){var t=this,e=uC.prototype.get_context_menu_elements.call(this),n="Add root node";this.node.data.growth_root&&(n="Remove root node"),e.push({text:n,on:function(){return t._toggle_root_node()}}),e.push({text:"Set root node",on:function(){return t._set_root_node()}});var r="Forbid further hops";return this.node.data.growth_forbidden&&(r="Allow further hops"),e.push({text:r,on:function(){return t._toggle_stop_growth()}}),e}},{key:"_toggle_stop_growth",value:function(){this.node.data.growth_forbidden=!this.node.data.growth_forbidden,this.nodes_layer.viewport.main_instance.update_data()}},{key:"_toggle_root_node",value:function(){this.node.data.growth_root=!this.node.data.growth_root,this.nodes_layer.viewport.main_instance.update_data()}},{key:"_set_root_node",value:function(){this.nodes_layer.viewport.get_all_nodes().forEach(function(t){t.data.growth_root=!1}),this.node.data.growth_root=!0,this.nodes_layer.viewport.main_instance.update_data()}},{key:"_toggle_growth_continue",value:function(){this.node.data.growth_continue=!this.node.data.growth_continue,this.nodes_layer.viewport.main_instance.update_data()}}]),e}(),lC=function(t){function e(t,n){var r;return QO(this,e),(r=nC(this,rC(e).call(this,t,n))).radius=30,r._has_quickinfo=!1,r}return iC(e,cC),eC(e,null,[{key:"id",value:function(){return"topology_center"}}]),eC(e,[{key:"render_object",value:function(){this.selection.append("circle").attr("r",this.radius).classed("topology_center",!0),this.selection.append("svg:image").attr("xlink:href",this.viewport.main_instance.get_theme_prefix()+"/images/logo_cmk_small.png").attr("x",-25).attr("y",-25).attr("width",50).attr("height",50)}}]),e}(),fC=function(t){function e(t,n){var r;return QO(this,e),(r=nC(this,rC(e).call(this,t,n))).radius=16,r._has_quickinfo=!1,r}return iC(e,cC),eC(e,null,[{key:"id",value:function(){return"topology_site"}}]),eC(e,[{key:"render_object",value:function(){this.selection.append("circle").attr("r",this.radius).classed("topology_remote",!0),this.selection.append("svg:image").attr("xlink:href",this.viewport.main_instance.get_theme_prefix()+"/images/icon_sites.png").attr("x",-15).attr("y",-15).attr("width",30).attr("height",30)}}]),e}();rO.register(cC),rO.register(fC),rO.register(lC);var dC=function(t){function e(t,n){var r;return QO(this,e),(r=nC(this,rC(e).call(this,t,n))).radius=9,r._provides_external_quickinfo_data=!0,r}return iC(e,uC),eC(e,null,[{key:"id",value:function(){return"bi_leaf"}}]),eC(e,[{key:"_get_basic_quickinfo",value:function(){var t=[];return t.push({name:"Host name",value:this.node.data.hostname}),"service"in this.node.data&&t.push({name:"Service description",value:this.node.data.service}),t}},{key:"_fetch_external_quickinfo",value:function(){var t=this;this._quickinfo_fetch_in_progress=!0;var e=null;e="service"in this.node.data?"view.py?view_name=bi_map_hover_service&display_options=I&host="+encodeURIComponent(this.node.data.hostname)+"&service="+encodeURIComponent(this.node.data.service):"view.py?view_name=bi_map_hover_host&display_options=I&host="+encodeURIComponent(this.node.data.hostname),Hl(e,{credentials:"include"}).then(function(e){return t._got_quickinfo(e)})}},{key:"_get_details_url",value:function(){return this.node.data.service&&""!=this.node.data.service?"view.py?view_name=service&host="+encodeURIComponent(this.node.data.hostname)+"&service="+encodeURIComponent(this.node.data.service):"view.py?view_name=host&host="+encodeURIComponent(this.node.data.hostname)}}]),e}();rO.register(dC);var _C=function(t){function e(t,n){var r;return QO(this,e),(r=nC(this,rC(e).call(this,t,n))).radius=12,r.node.parent||(r.radius=16),r}return iC(e,uC),eC(e,null,[{key:"id",value:function(){return"bi_aggregator"}}]),eC(e,[{key:"_get_basic_quickinfo",value:function(){var t=this.node.data.rule_id.function.split("!"),e=[];if(e.push({name:"Rule Title",value:this.node.data.name}),e.push({name:"Rule ID",value:this.node.data.rule_id.rule}),e.push({name:"State",css_classes:["state","svcstate","state"+this.node.data.state],value:this._state_to_text(this.node.data.state)}),"worst"==t[0]||"best"==t[0]){var n="Restrict severity to CRIT at worst.",r="Take the "+t[0]+" state.";if(t.length>1){n="Restrict severity to "+this._state_to_text(t[2])+" at worst.";var i=t[1];i>1&&(r="Take the "+i+"'th "+t[0]+" state.")}e.push({name:"Condition",value:r}),e.push({name:"Severity settings",value:n})}else if("count_ok"==t[0]){var o="Require "+t[1]+" OK-nodes for a total state of OK.";t[2];e.push({name:"Condition",value:o})}return e}},{key:"get_context_menu_elements",value:function(){var t=this,e=[],n=this.viewport.main_instance.get_theme_prefix();return e.push({text:"Edit rule",href:"wato.py?mode=bi_edit_rule&id="+this.node.data.rule_id.rule+"&pack="+this.node.data.rule_id.pack,img:n+"/images/icon_edit.png"}),this.node.children!=this.node._children?e.push({text:"Below this node, expand all nodes",on:function(){Gr.stopPropagation(),t.expand_node_including_children(t.node),t.viewport.recompute_node_chunk_descendants_and_links(t.node.data.chunk),t.viewport.update_layers()},href:"",img:n+"/images/icons/icons8-expand-48.png"}):e.push({text:"Collapse this node",on:function(){Gr.stopPropagation(),t.collapse_node()},href:"",img:n+"/images/icons/icons8-collapse-48.png"}),e.push({text:"Expand all nodes",on:function(){Gr.stopPropagation(),t.expand_node_including_children(t.node.data.chunk.tree),t.viewport.recompute_node_chunk_descendants_and_links(t.node.data.chunk),t.viewport.update_layers()},href:"",img:n+"/images/icons/icons8-expand-48.png"}),e.push({text:"Below this node, show only problems",on:function(){Gr.stopPropagation(),t._filter_root_cause(t.node),t.viewport.recompute_node_chunk_descendants_and_links(t.node.data.chunk),t.viewport.update_layers()},img:n+"/images/icons/icons8-error-48.png"}),e}}]),e}();rO.register(_C);var hC=function(){function t(e,n){QO(this,t),this.nodes_layer=e,this.viewport=e.viewport,this.link_data=n,this.selection=null,this._line_config=this.link_data.source.data.chunk.layout_settings.config.line_config}return eC(t,[{key:"id",value:function(){return[this.link_data.source.data.id,this.link_data.target.data.id]}},{key:"render_into",value:function(t){switch(this._line_config.style){case"straight":this.selection=t.append("line").classed("link_element",!0).attr("marker-end","url(#triangle)").attr("stroke-width",function(t){return Math.max(1,2-t.depth)}).style("stroke","darkgrey");break;default:this.selection=t.append("path").classed("link_element",!0).attr("fill","none").attr("stroke-width",1).style("stroke","darkgrey")}this._line_config.dashed&&this.selection.classed("dashed",!0)}},{key:"update_position",value:function(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],this.link_data.source),n=this.link_data.target,r=$O.prototype.type(),i=e.data.current_positioning.style_type==r||n.data.current_positioning.style_type==r;if((e.data.transition_info.use_transition||n.data.transition_info.use_transition||i)&&this.selection.interrupt(),!(this.selection.attr("in_transit")>0)||i)if(e.data.current_positioning.hide_node_link)this.selection.attr("opacity",0);else{this.selection.attr("opacity",1);var o=e.data.target_coords.x,a=e.data.target_coords.y,s=n.data.target_coords.x,u=n.data.target_coords.y,c=this.add_optional_transition(this.selection);switch(this._line_config.style){case"straight":c.attr("x1",o).attr("y1",a).attr("x2",s).attr("y2",u);break;case"round":c.attr("d",function(e){return t.diagonal_line(o,a,s,u)});break;case"elbow":c.attr("d",function(e){return t.elbow(o,a,s,u)})}}}},{key:"elbow",value:function(t,e,n,r){return"M"+t+","+e+"V"+r+"H"+n}},{key:"diagonal_line",value:function(t,e,n,r){var i={},o={};return i.y=t,i.x=e,o.y=n,o.x=r,"M ".concat(i.y," ").concat(i.x,"\n                C ").concat((i.y+o.y)/2," ").concat(i.x,",\n                  ").concat((i.y+o.y)/2," ").concat(o.x,",\n                  ").concat(o.y," ").concat(o.x)}},{key:"add_optional_transition",value:function(t){var e=this,n=this.link_data.source,r=this.link_data.target;return!n.data.transition_info.use_transition&&!r.data.transition_info.use_transition||this.viewport.layout_manager.dragging?t:eO.add_transition(t.attr("in_transit",100)).on("end",function(t){}).attr("in_transit",0).on("interrupt",function(){tO(7,"link update position interrupt"),e.selection.attr("in_transit",0)}).attr("in_transit",0)}}]),t}(),pC=function(t){function e(t){var n;return QO(this,e),(n=nC(this,rC(e).call(this,t))).last_scale=1,n.node_instances={},n.link_instances={},n.nodes_selection=null,n.links_selection=null,n.popup_menu_selection=null,n}return iC(e,_O),eC(e,[{key:"id",value:function(){return"nodes"}},{key:"name",value:function(){return"Nodes Layer"}}]),eC(e,[{key:"setup",value:function(){this.links_selection=this.selection.append("g").attr("name","viewport_layered_links").attr("id","links"),this.nodes_selection=this.selection.append("g").attr("name","viewport_layered_nodes").attr("id","nodes")}},{key:"render_line_style",value:function(t){var e=this,n=t.selectAll("select").data([null]).enter().append("table").append("tr");n.append("td").text("Line style");var r=n.append("select").style("pointer-events","all").style("width","200px").on("change",function(){return e._change_line_style()}).selectAll("option").data(["straight","round","elbow"]);r.exit().remove(),r=r.enter().append("option").merge(r);var i="round";this.viewport.get_hierarchy_list().forEach(function(t){i=t.layout_settings.config.line_config.style}),r.property("value",function(t){return t}).property("selected",function(t){return t==i}).text(function(t){return t})}},{key:"_change_line_style",value:function(){var t=this,e=ui(Gr.target).property("value");this.viewport.get_hierarchy_list().forEach(function(t){t.layout_instance.line_config.style=e,t.layout_settings.config.line_config.style=e}),this.links_selection.selectAll(".link_element").each(function(e){return t._remove_link(e)}).remove(),this.update_data(),this.update_gui(!0)}},{key:"zoomed",value:function(){var t="translate("+this.viewport.last_zoom.x+","+this.viewport.last_zoom.y+")";for(var e in this.selection.attr("transform",t),this.last_scale!=this.viewport.last_zoom.k&&this.selection.selectAll(".node_element, .link_element").interrupt(),this.node_instances)this.node_instances[e].update_quickinfo_position();this.last_scale!=this.viewport.last_zoom.k&&this.update_gui(!0),this.last_scale=this.viewport.last_zoom.k}},{key:"update_data",value:function(){this._update_links(),this._update_nodes()}},{key:"_update_nodes",value:function(){var t=this,e=this.viewport.get_all_nodes().filter(function(t){return!t.data.invisible}),n=this.nodes_selection.selectAll(".node_element").data(e,function(t){return t.data.id});n.enter().each(function(e,n,r){return t._create_node(e,ui(r[n]))}),n.each(function(e,n,r){return t._update_node(e,ui(r[n]))}),n.exit().each(function(e){return t._remove_node(e)}).remove()}},{key:"_update_links",value:function(){var t=this,e=this.viewport.get_all_links(),n=this.links_selection.selectAll(".link_element").data(e,function(t){return[t.source.data.id,t.target.data.id]});n.enter().each(function(e,n,r){return t._create_link(e,ui(r[n]))}),n.each(function(e,n,r){return t._update_link(e,ui(r[n]))}),n.exit().each(function(e){return t._remove_link(e)}).remove()}},{key:"_create_node",value:function(t,e){var n=new(rO.get_node_class(t.data.node_type))(this,t);this.node_instances[n.id()]=n,n.render_into(e)}},{key:"_update_node",value:function(t,e){e.selectAll("*").each(function(e){ui(this).datum(t)}),this.node_instances[t.data.id].update_node_data(t,e)}},{key:"_remove_node",value:function(t){delete this.node_instances[t.data.id]}},{key:"_create_link",value:function(t,e){var n=new hC(this,t);this.link_instances[n.id()]=n,n.render_into(e)}},{key:"_update_link",value:function(t,e){e.selectAll("*").each(function(t){ui(this).datum(node_data)}),this.link_instances[[t.source.data.id,t.target.data.id]].link_data=t}},{key:"_remove_link",value:function(t){delete this.link_instances[[t.source.data.id,t.target.data.id]]}},{key:"update_gui",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._update_position_of_context_menu(),!t&&WO._simulation.alpha()<.11)for(var e in this.node_instances)this.node_instances[e].node.data.transition_info.use_transition=!1;else{for(var n in this.node_instances)this.node_instances[n].update_position();for(var r in this.link_instances)this.link_instances[r].update_position();for(var i in this.node_instances)this.node_instances[i].node.data.transition_info.use_transition=!1}}},{key:"render_context_menu",value:function(t){if(this.viewport.layout_manager.edit_layout||t){var e=null,n={};if(t)n=e=t.node;else{var r=this.viewport.last_zoom;n={x:(Gr.layerX-r.x)/r.k,y:(Gr.layerY-r.y)/r.k}}Gr.preventDefault(),Gr.stopPropagation(),this.div_selection.selectAll("#popup_menu").remove(),this.popup_menu_selection=this.div_selection.selectAll("#popup_menu").data([n]),this.popup_menu_selection=this.popup_menu_selection.enter().append("div").attr("id","popup_menu").style("pointer-events","all").style("position","absolute").classed("popup_menu",!0).merge(this.popup_menu_selection);var i=this.popup_menu_selection.selectAll(".content ul").data([null]);i=i.enter().append("div").classed("content",!0).append("ul").merge(i);this.viewport.layout_manager.edit_layout&&(this._add_elements_to_context_menu(i,"layouting",this.viewport.layout_manager.get_context_menu_elements(e)),t&&i.append("li").append("hr")),t&&this._add_elements_to_context_menu(i,"node",t.get_context_menu_elements()),i.selectAll("li").empty()?this.popup_menu_selection.remove():this._update_position_of_context_menu()}}},{key:"_add_elements_to_context_menu",value:function(t,e,n){var r=this,i=t.selectAll("li."+e).data(n);i.exit().remove(),(i=i.enter().append("li").classed(e,!0).append("a").classed("noselect",!0)).each(function(t,e,n){t.href&&ui(n[e]).attr("href",t.href).on("click",function(){return r.remove_context_menu()})}),i.each(function(t){t.img&&ui(this).append("img").classed("icon",!0).attr("src",t.img)}),i.each(function(t){ui(this).append("div").style("display","inline-block").text(t.text)}),i.each(function(t,e,n){t.on&&ui(n[e]).on("click",function(t){t.on(),r.remove_context_menu()})})}},{key:"_update_position_of_context_menu",value:function(){if(null!=this.popup_menu_selection){var t=this.popup_menu_selection;if(!t.empty()){var e=t.datum(),n=this.viewport.translate_to_zoom(e);t.style("left",n.x+"px").style("top",n.y+"px")}}}},{key:"remove_context_menu",value:function(){this.div_selection.select("#popup_menu").remove()}}]),e}();function gC(t){return(gC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vC(t,e){return!e||"object"!==gC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function yC(t){return(yC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mC(t,e){return(mC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function wC(t,e,n){return e&&xC(t.prototype,e),n&&xC(t,n),t}nO.register(sC,10),nO.register(aC,20),nO.register(pC,50);var EC=function(){function t(e){var n=this;bC(this,t),this.main_instance=e,this.selection=this.main_instance.get_div_selection().append("div").attr("id","viewport").classed("viewport",!0),this._viewport_plugins={},this.current_viewport=null,this._load_viewport_plugins(),this._set_viewport_plugin(MC.id()),this._current_datasource=null,window.addEventListener("resize",function(){return n._size_changed()})}return wC(t,[{key:"_size_changed",value:function(){this.current_viewport&&this.current_viewport.size_changed()}},{key:"_load_viewport_plugins",value:function(){this._register_viewport_plugin(MC)}},{key:"_set_viewport_plugin",value:function(t){this.current_viewport=this._viewport_plugins[t],this.current_viewport.setup(this.selection)}},{key:"_register_viewport_plugin",value:function(t){t.id()in this._viewport_plugins||(this._viewport_plugins[t.id()]=new t(this))}},{key:"show_data",value:function(t,e){this._current_datasource=t,this.current_viewport.feed_data(e)}},{key:"get_current_datasource",value:function(){return this._current_datasource}}]),t}(),kC=function(){function t(e){bC(this,t),this._master_viewport=e,this.main_instance=this._master_viewport.main_instance}return wC(t,null,[{key:"id",value:function(){return"abstract_viewport_plugin"}}]),wC(t,[{key:"setup",value:function(t){}},{key:"feed_data",value:function(t){}},{key:"get_current_datasource",value:function(){return this._master_viewport.get_current_datasource()}}]),t}(),MC=function(t){function e(t){var n;return bC(this,e),(n=vC(this,yC(e).call(this,t)))._layers={},n._selections_for_layer={},n._node_chunk_list=[],n._margin={top:10,right:10,bottom:10,left:10},n.width=0,n.height=0,n.last_zoom=BT,n.scale_x=null,n.scale_y=null,n.always_update_layout=!1,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&mC(t,e)}(e,kC),wC(e,[{key:"id",value:function(){return"layered_viewport"}}]),wC(e,[{key:"setup",value:function(t){var e=this;this.into_selection=t,this.selection=t.append("div").attr("id","main_window_layered"),this.svg_content_selection=this.selection.append("svg").attr("width","100%").attr("height","100%").attr("id","svg_content").on("contextmenu",function(){Gr.preventDefault(),Gr.stopPropagation(),e._layers[pC.prototype.id()].render_context_menu()}).on("click.remove_context",function(){return e._layers[pC.prototype.id()].remove_context_menu()}),this.div_content_selection=this.selection.append("div").style("position","absolute").style("width","100%").style("height","100%").style("top","0px").style("left","0px").style("pointer-events","none").style("overflow","hidden").attr("id","div_content"),this.svg_layers_selection=this.svg_content_selection.append("g").attr("id","svg_layers"),this.div_layers_selection=this.div_content_selection.append("div").attr("id","div_layers"),this.main_zoom=GT(),this.main_zoom.scaleExtent([.2,10]).on("zoom",function(){return e.zoomed()}),this.main_zoom.filter(function(){return 0===Gr.button||1===Gr.button}),this.svg_content_selection.call(this.main_zoom).on("dblclick.zoom",null),this.size_changed(),this._load_layers(),this.size_changed()}},{key:"_load_layers",value:function(){var t=this;nO.register(OO,40),nO.get_layers().forEach(function(e){var n=e[0],r=new n(t);t._add_layer(r),n==OO&&(t.layout_manager=r)})}},{key:"_add_layer",value:function(t){this._layers[t.id()]=t,this._selections_for_layer[t.id()]={svg:this.svg_layers_selection.append("g").attr("id",t.id()),div:this.div_layers_selection.append("div").attr("id",t.id())},t.set_enabled(!t.is_toggleable())}},{key:"update_active_overlays",value:function(){var t=this.layout_manager.get_overlay_config(),e={};for(var n in t){1==t[n].active&&(e[n]=!0)}for(var r in this._layers){var i=this._layers[r];if(i.is_toggleable()){var o=i.id();if(e[o]){if(i.is_enabled())continue;this.enable_layer(o)}else{if(!i.is_enabled())continue;this.disable_layer(o)}}}this.update_overlay_toggleboxes()}},{key:"enable_layer",value:function(t){this._layers[t].enable(this._selections_for_layer[t])}},{key:"disable_layer",value:function(t){this._layers[t].disable()}},{key:"get_layers",value:function(){return this._layers}},{key:"get_layer",value:function(t){return this._layers[t]}},{key:"update_overlay_toggleboxes",value:function(){var t=this;if(this.layout_manager.layout_applier.current_layout_group){var e=[];for(var n in this._layers){var r=this._layers[n],i=r.id();if(r.toggleable){var o=this.layout_manager.layout_applier.current_layout_group.overlay_config;if(!o[i])continue;if(1!=o[i].configurable)continue;e.push({layer:r,config:o[i]})}}var a=ui("div#togglebuttons").selectAll("div.togglebox").data(e,function(t){return t.layer.id()});a.exit().remove(),(a=a.enter().append("div").text(function(t){return t.layer.name()}).attr("layer_id",function(t){return t.layer.id()}).classed("box",!0).classed("noselect",!0).classed("togglebox",!0).style("pointer-events","all").on("click",function(){return t.toggle_overlay_click()}).merge(a)).classed("enabled",function(t){return t.config.active})}}},{key:"toggle_overlay_click",value:function(){Gr.stopPropagation();var t=ui(Gr.target),e=t.attr("layer_id"),n=!this._layers[e].is_enabled();t.classed("enabled",n),1==n?this.enable_layer(e):this.disable_layer(e)}},{key:"feed_data",value:function(t){var e=this;this.feed_data_timestamp=Math.floor((new Date).getTime()/1e3),this.data_to_show=t,this._node_chunk_list.forEach(function(t){return t.marked_obsolete=!0}),this._chunks_changed=!1,this.data_to_show.chunks.forEach(function(t){e._consume_chunk_rawdata(t)}),this._remove_obsolete_chunks(),this._arrange_multiple_node_chunks(),this.update_layers(),this.layout_manager.layout_applier.apply_multiple_layouts(this.get_hierarchy_list(),this._chunks_changed||this.always_update_layout),this.layout_manager.compute_node_positions()}},{key:"_consume_chunk_rawdata",value:function(t){var e={},n=Kg(t.hierarchy);n.descendants().forEach(function(t){t._children=t.children,t.data.node_positioning={},t.data.transition_info={},t.data.chunk=e}),this._add_aggr_path_and_node_id(n,{}),t.aggr_type&&(e.aggr_type=t.aggr_type),e.tree=n,e.nodes=e.tree.descendants(),e.layout_settings=t.layout,e.id=e.nodes[0].data.id;var r=[];t.links?t.links.forEach(function(t){r.push({source:e.nodes[t[0]],target:e.nodes[t[1]]})}):e.nodes.forEach(function(t){t.parent&&!t.data.invisible&&r.push({source:t,target:t.parent})}),e.links=r,this.update_node_chunk_list(e)}},{key:"_remove_obsolete_chunks",value:function(){var t=this,e=[];this._node_chunk_list.forEach(function(n){n.marked_obsolete?t._chunks_changed=!0:e.push(n)}),this._node_chunk_list=e}},{key:"_add_aggr_path_and_node_id",value:function(t,e){var n=this,r=[],i=[];t.parent&&(r=t.parent.data.aggr_path_id.concat([]),i=t.parent.data.aggr_path_name.concat([]));var o=t.data.rule_id,a=t.data.name;null!=o&&(o=o.rule,r=r.concat([[o,this._get_siblings_index("rule_id",o,e)]]),i=i.concat([[a,this._get_siblings_index("rule_name",a,e)]])),t.data.aggr_path_id=r,t.data.aggr_path_name=i;var s="";if(t.data.aggr_path_name.forEach(function(t){s+="#"+t[0]+"#"+t[1]}),t.data.hostname&&!t.data.service&&(s+=t.data.hostname+"("+this._get_siblings_index("hostname",t.data.hostname,e)+")"),t.data.service&&(s+=t.data.service+"("+this._get_siblings_index("service",t.data.service,e)+")"),t.data.id=s,t.children){var u={};t.children.forEach(function(t){return n._add_aggr_path_and_node_id(t,u)})}}},{key:"_get_siblings_index",value:function(t,e,n){return n[t+"_"+e]||(n[t+"_"+e]=[]),n[t+"_"+e].push(e),n[t+"_"+e].length}},{key:"_arrange_multiple_node_chunks",value:function(){var t=this;if(0!=this._node_chunk_list.length){var e={name:"root",children:[]};this._node_chunk_list.forEach(function(t){e.children.push({name:t.nodes[0].data.id,value:t.nodes.length})});var n=Kg(e);n.sum(function(t){return t.value}),zv().size([parseInt(this.width),parseInt(this.height)])(n);var r=function(e){var r=n.children[e],i=t._node_chunk_list[e],o={x:r.x0,y:r.y0,width:r.x1-r.x0,height:r.y1-r.y0};i.coords=o;var a=0,s=Math.PI/8;i.nodes.forEach(function(e){if(!e.x){var n=t._compute_spawn_coords(i,e);e.x=n.x+Math.cos(a)*(30+4*a),e.y=n.y+Math.sin(a)*(30+4*a),a+=s}})};for(var i in n.children)r(i)}}},{key:"_compute_spawn_coords",value:function(t,e){var n=this._find_linked_nodes(t,e);for(var r in n){var i=n[r];if(i.x)return{x:i.x,y:i.y}}return e.parent&&e.parent.x?{x:e.parent.x,y:e.parent.y}:{x:t.coords.width/2,y:t.coords.height/2}}},{key:"_find_linked_nodes",value:function(t,e){var n=[];return t.links.forEach(function(t){e==t.source?n.push(t.target):e==t.target&&n.push(t.source)}),n}},{key:"get_all_links",value:function(){var t=[];return this._node_chunk_list.forEach(function(e){t=t.concat(e.links)}),t}},{key:"get_all_nodes",value:function(){var t=[];return this._node_chunk_list.forEach(function(e){t=t.concat(e.nodes)}),t}},{key:"get_hierarchy_list",value:function(){return this._node_chunk_list}},{key:"get_chunk_of_node",value:function(t){var e=this._get_chunk_root(t);for(var n in this._node_chunk_list)if(this._node_chunk_list[n].tree==e)return this._node_chunk_list[n];return null}},{key:"_get_chunk_root",value:function(t){return t.parent?this._get_chunk_root(t.parent):t}},{key:"update_node_chunk_list",value:function(t){var e=this,n=t.tree.data.id;for(var r in this._node_chunk_list){var i=this._node_chunk_list[r];if(i.tree.data.id==n){var o=function(){var n={};return i.nodes.forEach(function(t){n[t.data.id]={x:t.x,y:t.y}}),t.layout_instance=i.layout_instance,t.coords=i.coords,t.nodes.forEach(function(t,r){n[t.data.id]?(t.x=n[t.data.id].x,t.y=n[t.data.id].y):e._chunks_changed=!0}),i.nodes.length!=t.nodes.length&&(e._chunks_changed=!0),e._node_chunk_list[r]=t,{v:void 0}}();if("object"===gC(o))return o.v}}this._chunks_changed=!0,this._node_chunk_list.push(t)}},{key:"recompute_node_chunk_descendants_and_links",value:function(t){t.nodes=t.tree.descendants();var e=[];t.nodes.forEach(function(t){t.parent&&!t.data.invisible&&e.push({source:t,target:t.parent})}),t.links=e;var n=this.get_all_nodes(),r=this.get_all_links();WO.update_nodes_and_links(n,r),WO.restart_with_alpha(.5)}},{key:"update_layers",value:function(){this.update_data_of_layers(),this.update_gui_of_layers()}},{key:"update_data_of_layers",value:function(){for(var t in this._layers)this._layers[t].is_enabled()&&(tO(7,"update data of layer",t),this._layers[t].update_data())}},{key:"update_gui_of_layers",value:function(){for(var t in this._layers)this._layers[t].is_enabled()&&(tO(7,"update gui of layer",t),this._layers[t].update_gui())}},{key:"zoomed",value:function(){if(this.data_to_show)for(var t in this.last_zoom=Gr.transform,this.scale_x.range([0,this.width*Gr.transform.k]),this.scale_y.range([0,this.height*Gr.transform.k]),this._layers)this._layers[t].is_enabled()&&(this._layers[t].zoomed(),this._layers[t].update_gui())}},{key:"translate_to_zoom",value:function(t){var e=this.scale_to_zoom(t);return"x"in e&&(e.x=this.last_zoom.x+e.x),"y"in e&&(e.y=this.last_zoom.y+e.y),e}},{key:"scale_to_zoom",value:function(t){var e={};return"x"in t&&(e.x=this.scale_x(t.x)),"y"in t&&(e.y=this.scale_y(t.y)),t.width&&(e.width=this.scale_x(t.width)),t.height&&(e.height=this.scale_y(t.height)),e}},{key:"size_changed",value:function(){var t=this.into_selection.node().getBoundingClientRect();for(var e in this.width=t.width-this._margin.left-this._margin.right,this.height=t.height-this._margin.top-this._margin.bottom,this.scale_x=Oy().domain([0,this.width]).range([0,this.width]),this.scale_y=Oy().domain([0,this.height]).range([0,this.height]),this.selection.style("width",this.width+this._margin.left+this._margin.right+"px").style("height",this.height+this._margin.top+this._margin.bottom+"px"),this._layers)this._layers[e].size_changed()}}]),e}();function TC(t){return(TC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function AC(t,e){return!e||"object"!==TC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function OC(t){return(OC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function CC(t,e){return(CC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function SC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function PC(t,e,n){return e&&DC(t.prototype,e),n&&DC(t,n),t}var IC=function(){function t(e){SC(this,t),this.main_instance=e,this._selection=e.get_div_selection().append("div").attr("id","infobox").classed("box",!0).style("display","none"),this._content_selection=this._selection.append("div").attr("id","content"),this._formatters=[],this._setup_formatters()}return PC(t,[{key:"_setup_formatters",value:function(){this._formatters.push(new RC(this.main_instance))}},{key:"feed_data",value:function(t){if(0!=t.entries.length){"none"==this._selection.style("display")&&(this._selection.style("display",null),eO.add_transition(this._selection.style("opacity","0")).style("opacity","1"));var e=this._content_selection.style("height");this._content_selection.selectAll("*").remove();var n=this._find_formatter(t);if(n){this._content_selection.style("height",null),n.render_into_selection(this._content_selection,t);var r=this._content_selection.style("height");eO.add_transition(this._content_selection.style("height",e)).style("height",r)}}else this._selection.style("display","none")}},{key:"_find_formatter",value:function(t){for(var e in this._formatters){var n=this._formatters[e];if(n.supports_data(t))return n}}}]),t}(),NC=function(){function t(e){SC(this,t),this.main_instance=e}return PC(t,[{key:"supports_data",value:function(t){return!1}},{key:"render_into_selection",value:function(t){}}]),t}(),RC=function(t){function e(){return SC(this,e),AC(this,OC(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&CC(t,e)}(e,NC),PC(e,[{key:"supports_data",value:function(t){return!0}},{key:"render_into_selection",value:function(t,e){var n=this,r=e.entries;t.append("label").text("Matching nodes");var i=10*parseInt(this.main_instance.viewport.current_viewport.height/24/10);i=Math.max(i,10),r.length>i&&(t.append("br"),t.append("label").text("("+i+" of "+r.length+" matches shown)")),r=r.slice(0,i),t.append("table").attr("id","rows").selectAll("tr").data(r).enter().append("tr").append("td").classed("noselect",!0).classed("infobox_entry",!0).text(function(t){return t.name}).each(function(t){ui(this).classed("state"+t.state,!0)}).on("click",function(t){return n._zoom_node(t.name)}).on("mouseover",function(t){return n._highlight_node(t.name,!0)}).on("mouseout",function(t){return n._highlight_node(t.name,!1)})}},{key:"_highlight_node",value:function(t,e){this.main_instance.viewport.current_viewport.get_all_nodes().forEach(function(e){e.selection.classed("focus",e.data.name==t)})}},{key:"_zoom_node",value:function(t){var e=this;this.main_instance.viewport.current_viewport.get_all_nodes().forEach(function(n){n.data.name!=t||eO.add_transition(e.main_instance.viewport.current_viewport.svg_content_selection).call(e.main_instance.viewport.current_viewport.main_zoom.transform,function(){return e._transform(n)})})}},{key:"_transform",value:function(t){return BT.translate(this.main_instance.viewport.current_viewport.width/2,this.main_instance.viewport.current_viewport.height/2).scale(this.main_instance.viewport.current_viewport.last_zoom.k).translate(-t.x,-t.y)}}]),e}();function LC(t){return(LC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jC(t,e){return!e||"object"!==LC(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function BC(t){return(BC=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function UC(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qC(t,e)}function qC(t,e){return(qC=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zC(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WC(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $C(t,e,n){return e&&WC(t.prototype,e),n&&WC(t,n),t}var HC,FC=function(){function t(e){zC(this,t),this.div_id=e,this.gui_theme="facelift",this.div_selection=null,this.datasource_manager=null,this.viewport=null,this.infobox=null,this.toolbar=null,this._initialize_components(),this.datasource_manager.schedule()}return $C(t,[{key:"get_theme_prefix",value:function(t){return"themes/"+this.gui_theme}},{key:"set_theme",value:function(t){this.gui_theme=t}},{key:"_initialize_components",value:function(){this.div_selection=ui("#"+this.div_id).append("div").attr("id","node_visualization_root_div").attr("div_id",this.div_id).classed("node_vis",!0),this.datasource_manager=new HA,this.viewport=new EC(this),this.infobox=new IC(this),this.toolbar=new XA(this)}},{key:"get_div_selection",value:function(){return this.div_selection}}]),t}(),KC=function(t){function e(){return zC(this,e),jC(this,BC(e).apply(this,arguments))}return UC(e,FC),$C(e,[{key:"show_aggregations",value:function(t,e){var n=this,r=this.datasource_manager.get_datasource(KA.id());r.enable(),r.subscribe_new_data(function(e){return n._show_aggregations(t)}),r.fetch_aggregations(t,e)}},{key:"_show_aggregations",value:function(t){t.length>0&&ui("table.header td.heading a").text(t[0]);var e=this.datasource_manager.get_datasource(KA.id()).get_data(),n={chunks:[]};for(var r in e.aggregations)n.chunks.push(e.aggregations[r]);e.use_layout&&(n.use_layout=e.use_layout),this.viewport.show_data("bi_aggregations",n)}}]),e}(),YC=function(t){function e(t,n){var r;return zC(this,e),(r=jC(this,BC(e).call(this,t)))._mode=n,r._mesh_depth=0,r._max_nodes=200,r._growth_auto_max_nodes=null,r}return UC(e,FC),$C(e,[{key:"show_topology",value:function(t){var e=this,n=this.datasource_manager.get_datasource(YA.id());n.enable(),n.set_update_interval(30),n.subscribe_new_data(function(n){return e._show_topology(t)}),this.add_search_togglebutton(),this.add_depth_slider(),this.add_max_nodes_slider(),this.update_sliders(),n.fetch_hosts({growth_root_nodes:t,growth_auto_max_nodes:this._growth_auto_max_nodes,mesh_depth:this._mesh_depth,max_nodes:this._max_nodes,mode:this._mode})}},{key:"set_growth_auto_max_nodes",value:function(t){this._growth_auto_max_nodes=t}},{key:"set_max_nodes",value:function(t){this._max_nodes=t}},{key:"set_mesh_depth",value:function(t){this._mesh_depth=t}},{key:"_show_topology",value:function(t){var e=this.datasource_manager.get_datasource(YA.id()).get_data();e.headline&&ui("tbody tr td.heading a").text(e.headline);var n=e.topology_chunks;this._show_topology_errors(e.errors);var r={chunks:[]};for(var i in n)r.chunks.push(n[i]);this.viewport.show_data("topology",r),this.viewport.current_viewport.layout_manager.enforce_node_drag()}},{key:"_show_topology_errors",value:function(t){ui("label#max_nodes_error_text").text(t)}},{key:"add_search_togglebutton",value:function(){var t=this;ui("div#togglebuttons").selectAll("div#search").data([null]).enter().append("div").attr("id","search").classed("box",!0).classed("togglebutton",!0).classed("filters",!0).style("cursor","pointer").classed("noselect",!0).classed("box",!0).classed("on",!0).classed("up",!0).on("click",function(){return t._toggle_search()}).append("img").attr("src",this.get_theme_prefix()+"/images/icon_filter.png").attr("title","Search").style("opacity",1),ui("#topology_filters").style("height","0px")}},{key:"_toggle_search",value:function(){var t=ui("div#togglebuttons div#search");t.classed("up")?(t.classed("up",!1),t.classed("down",!0),eO.add_transition(ui("#topology_filters")).style("height",null)):(t.classed("up",!0),t.classed("down",!1),eO.add_transition(ui("#topology_filters")).style("height","0px"))}},{key:"add_depth_slider",value:function(){var t=this,e=ui("#togglebuttons").selectAll("div.mesh_depth_slider").data([null]).enter().append("div").classed("topology_slider",!0);e.append("label").style("padding-left","12px").text("Number of hops").classed("noselect",!0),e.append("input").classed("mesh_depth_slider",!0).style("pointer-events","all").attr("type","range").attr("step",1).attr("min",function(t){return 0}).attr("max",function(t){return 20}).on("input",function(){t._mesh_depth=ui("input.mesh_depth_slider").property("value"),t.update_sliders(),t.update_data()}).property("value",this._mesh_depth),e.append("label").attr("id","mesh_depth_text")}},{key:"add_max_nodes_slider",value:function(){var t=this,e=ui("#togglebuttons").selectAll("div.max_nodes_slider").data([null]).enter().append("div").classed("topology_slider",!0);e.append("label").style("padding-left","12px").text("Maximum number of nodes").classed("noselect",!0),e.append("input").classed("max_nodes_slider",!0).style("pointer-events","all").attr("type","range").attr("step",10).attr("min",function(t){return 20}).attr("max",function(t){return 2e3}).on("input",function(){t._max_nodes=ui("input.max_nodes_slider").property("value"),t.update_sliders(),t.update_data()}).property("value",this._max_nodes),e.append("label").attr("id","max_nodes_text").text(this._max_nodes),e.append("label").attr("id","max_nodes_error_text").style("color","red").style("display","block").style("margin-left","12px").style("margin-top","-5px")}},{key:"update_sliders",value:function(){ui("#max_nodes_slider").property("value",this._max_nodes),ui("#max_nodes_text").text(this._max_nodes),ui("div#topology_filters input[name=topology_max_nodes]").property("value",this._max_nodes),ui("#mesh_depth_slider").property("value",this._mesh_depth),ui("#mesh_depth_text").text(this._mesh_depth),ui("div#topology_filters input[name=topology_mesh_depth]").property("value",this._mesh_depth)}},{key:"update_data",value:function(){var t=[],e=[],n=[];this.viewport.current_viewport.get_all_nodes().forEach(function(r){r.data.growth_root&&t.push(r.data.hostname),r.data.growth_forbidden&&e.push(r.data.hostname),r.data.growth_continue&&n.push(r.data.hostname)}),this.datasource_manager.get_datasource(YA.id()).fetch_hosts({growth_root_nodes:t,mesh_depth:this._mesh_depth,max_nodes:this._max_nodes,growth_forbidden_nodes:e,growth_continue_nodes:n,mode:this._mode})}}]),e}();r.d(n,"cmk_export",function(){return GC});try{HC=r(!function(){var t=new Error("Cannot find module 'graphs'");throw t.code="MODULE_NOT_FOUND",t}())}catch(t){HC=null}L()(function(){et.update_header_timer(),j.enable_dynamic_form_elements(),Tt()});var GC={cmk:{forms:j,prediction:i,ajax:B,utils:et,foldable_container:nt,visibility_detection:rt,async_progress:o,activation:a,selection:mt,element_dragging:s,help:u,availability:c,sla:l,bi:f,crash_reporting:d,backup:_,hover:Gt,service_discovery:h,sites:p,host_diagnose:g,profile_replication:v,wato:y,popup_menu:Ae,valuespecs:Oe,views:Ce,reload_pause:m,graph_integration:Ie,graphs:HC,dashboard:Ne,node_visualization_utils:w,node_visualization_layout_styles:k,node_visualization_viewport_utils:E,node_visualization:M,d3:b,d3_flextree:x}}}]).cmk_export);
//# sourceMappingURL=main_min.js.map